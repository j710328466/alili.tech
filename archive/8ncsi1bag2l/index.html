<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="在 Azure 中部署 Kubernetes 容器集群"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>在 Azure 中部署 Kubernetes 容器集群 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/8ncsi1bag2l/",
				"appid": "1613049289050283", 
				"title": "在 Azure 中部署 Kubernetes 容器集群 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-22T02:30:08"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/w7enn03zbhe/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/ghipwaoytzq/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2f8ncsi1bag2l%2f&text=%e5%9c%a8%20Azure%20%e4%b8%ad%e9%83%a8%e7%bd%b2%20Kubernetes%20%e5%ae%b9%e5%99%a8%e9%9b%86%e7%be%a4"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2f8ncsi1bag2l%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2f8ncsi1bag2l%2f&text=%e5%9c%a8%20Azure%20%e4%b8%ad%e9%83%a8%e7%bd%b2%20Kubernetes%20%e5%ae%b9%e5%99%a8%e9%9b%86%e7%be%a4"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2f8ncsi1bag2l%2f&title=%e5%9c%a8%20Azure%20%e4%b8%ad%e9%83%a8%e7%bd%b2%20Kubernetes%20%e5%ae%b9%e5%99%a8%e9%9b%86%e7%be%a4"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2f8ncsi1bag2l%2f&is_video=false&description=%e5%9c%a8%20Azure%20%e4%b8%ad%e9%83%a8%e7%bd%b2%20Kubernetes%20%e5%ae%b9%e5%99%a8%e9%9b%86%e7%be%a4"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e5%9c%a8%20Azure%20%e4%b8%ad%e9%83%a8%e7%bd%b2%20Kubernetes%20%e5%ae%b9%e5%99%a8%e9%9b%86%e7%be%a4&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2f8ncsi1bag2l%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2f8ncsi1bag2l%2f&title=%e5%9c%a8%20Azure%20%e4%b8%ad%e9%83%a8%e7%bd%b2%20Kubernetes%20%e5%ae%b9%e5%99%a8%e9%9b%86%e7%be%a4"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f8ncsi1bag2l%2f&title=%e5%9c%a8%20Azure%20%e4%b8%ad%e9%83%a8%e7%bd%b2%20Kubernetes%20%e5%ae%b9%e5%99%a8%e9%9b%86%e7%be%a4"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f8ncsi1bag2l%2f&title=%e5%9c%a8%20Azure%20%e4%b8%ad%e9%83%a8%e7%bd%b2%20Kubernetes%20%e5%ae%b9%e5%99%a8%e9%9b%86%e7%be%a4"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f8ncsi1bag2l%2f&title=%e5%9c%a8%20Azure%20%e4%b8%ad%e9%83%a8%e7%bd%b2%20Kubernetes%20%e5%ae%b9%e5%99%a8%e9%9b%86%e7%be%a4"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">在 Azure 中部署 Kubernetes 容器集群</h1><div class="meta"><div class="postdate"><time datetime="2019-01-22" itemprop="datePublished">2019-01-22</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n            \x3ch1\x3e\x3ca href=\x22#在-azure-中部署-kubernetes-容器集群\x22\x3e\x3c\/a\x3e在 Azure 中部署 Kubernetes 容器集群\x3c\/h1\x3e\n\x3cp\x3e在这个快速入门教程中，我们使用 Azure CLI 创建一个 Kubernetes 集群，然后在集群上部署运行由 Web 前端和 Redis 实例组成的多容器应用程序。一旦部署完成，应用程序可以通过互联网访问。\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/p0.ssl.qhimg.com\/t011f1150ab88e283c6.png\x22\x3e\x3cimg src=\x22https:\/\/p0.ssl.qhimg.com\/t011f1150ab88e283c6.png\x22 alt=\x22示例应用截图\x22\x3e\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e这个快速入门教程假设你已经基本了解了 Kubernetes 的概念，有关 Kubernetes 的详细信息，请参阅 \x3ca href=\x22https:\/\/kubernetes.io\/docs\/home\/\x22\x3eKubernetes 文档\x3c\/a\x3e。\x3c\/p\x3e\n\x3cp\x3e如果您没有 Azure 账号，请在开始之前创建一个\x3ca href=\x22https:\/\/azure.microsoft.com\/free\/?WT.mc_id=A261C142F\x22\x3e免费帐户\x3c\/a\x3e。\x3c\/p\x3e\n\x3ch3\x3e\x3ca href=\x22#登录-azure-云控制台\x22\x3e\x3c\/a\x3e登录 Azure 云控制台\x3c\/h3\x3e\n\x3cp\x3eAzure 云控制台是一个免费的 Bash shell，你可以直接在 Azure 网站上运行。它已经在你的账户中预先配置好了， 单击 \x3ca href=\x22https:\/\/portal.azure.com\/\x22\x3eAzure 门户\x3c\/a\x3e右上角菜单上的 “Cloud Shell” 按钮；\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/portal.azure.com\/\x22\x3e\x3cimg src=\x22\x22 alt=\x22Cloud Shell\x22\x3e\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e该按钮会启动一个交互式 shell，您可以使用它来运行本教程中的所有操作步骤。\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/portal.azure.com\/\x22\x3e\x3cimg src=\x22https:\/\/p0.ssl.qhimg.com\/t014eb8c73c868a7771.png\x22 alt=\x22Cloud Shell 截图\x22\x3e\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e此快速入门教程所用的 Azure CLI 的版本最低要求为 2.0.4。如果您选择在本地安装和使用 CLI 工具，请运行 \x3ccode\x3eaz --version\x3c\/code\x3e 来检查已安装的版本。 如果您需要安装或升级请参阅\x3ca href=\x22https:\/\/docs.microsoft.com\/en-us\/cli\/azure\/install-azure-cli\x22\x3e安装 Azure CLI 2.0\x3c\/a\x3e 。\x3c\/p\x3e\n\x3ch3\x3e\x3ca href=\x22#创建一个资源组\x22\x3e\x3c\/a\x3e创建一个资源组\x3c\/h3\x3e\n\x3cp\x3e使用 \x3ca href=\x22https:\/\/docs.microsoft.com\/en-us\/cli\/azure\/group#create\x22\x3eaz group create\x3c\/a\x3e 命令创建一个资源组，一个 Azure 资源组是指 Azure 资源部署和管理的逻辑组。\x3c\/p\x3e\n\x3cp\x3e以下示例在 \x3cem\x3eeastus\x3c\/em\x3e 区域中创建名为 \x3cem\x3emyResourceGroup\x3c\/em\x3e 的资源组。\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs routeros\x22\x3eaz\x3cspan class=\x22hljs-built_in\x22\x3e group \x3c\/span\x3ecreate --name myResourceGroup --location eastus\n\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e输出：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs json\x22\x3e{\n  \x3cspan class=\x22hljs-attr\x22\x3e\x22id\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22\/subscriptions\/00000000-0000-0000-0000-000000000000\/resourceGroups\/myResourceGroup\x22\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-attr\x22\x3e\x22location\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22eastus\x22\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-attr\x22\x3e\x22managedBy\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-attr\x22\x3e\x22name\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22myResourceGroup\x22\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-attr\x22\x3e\x22properties\x22\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22provisioningState\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22Succeeded\x22\x3c\/span\x3e\n  },\n  \x3cspan class=\x22hljs-attr\x22\x3e\x22tags\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e\n}\n\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3ch3\x3e\x3ca href=\x22#创建一个-kubernetes-集群\x22\x3e\x3c\/a\x3e创建一个 Kubernetes 集群\x3c\/h3\x3e\n\x3cp\x3e使用 \x3ca href=\x22https:\/\/docs.microsoft.com\/en-us\/cli\/azure\/acs#create\x22\x3eaz acs create\x3c\/a\x3e 命令在 Azure 容器服务中创建 Kubernetes 集群。 以下示例使用一个 Linux 主节点和三个 Linux 代理节点创建一个名为 \x3cem\x3emyK8sCluster\x3c\/em\x3e 的集群。\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs verilog\x22\x3eaz acs create --orchestrator-\x3cspan class=\x22hljs-keyword\x22\x3etype\x3c\/span\x3e=kubernetes --resource-group myResourceGroup --name=myK8sCluster --\x3cspan class=\x22hljs-keyword\x22\x3egenerate\x3c\/span\x3e-ssh-keys \n\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e几分钟后，命令将完成并返回有关该集群的 json 格式的信息。\x3c\/p\x3e\n\x3ch3\x3e\x3ca href=\x22#连接到-kubernetes-集群\x22\x3e\x3c\/a\x3e连接到 Kubernetes 集群\x3c\/h3\x3e\n\x3cp\x3e要管理 Kubernetes 群集，可以使用 Kubernetes 命令行工具 \x3ca href=\x22https:\/\/kubernetes.io\/docs\/user-guide\/kubectl\/\x22\x3ekubectl\x3c\/a\x3e。\x3c\/p\x3e\n\x3cp\x3e如果您使用 Azure CloudShell ，则已经安装了 kubectl 。如果要在本地安装，可以使用 \x3ca href=\x22https:\/\/docs.microsoft.com\/en-us\/cli\/azure\/acs\/kubernetes#install-cli\x22\x3eaz acs kubernetes install-cli\x3c\/a\x3e 命令。\x3c\/p\x3e\n\x3cp\x3e要配置 kubectl 连接到您的 Kubernetes 群集，请运行 \x3ca href=\x22https:\/\/docs.microsoft.com\/en-us\/cli\/azure\/acs\/kubernetes#get-credentials\x22\x3eaz acs kubernetes get-credentials\x3c\/a\x3e 命令下载凭据并配置 Kubernetes CLI 以使用它们。\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs dsconfig\x22\x3e\x3cspan class=\x22hljs-string\x22\x3eaz \x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3eacs \x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3ekubernetes \x3c\/span\x3e\x3cspan class=\x22hljs-built_in\x22\x3eget-credentials\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3e--resource-group=myResourceGroup\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3e--name=myK8sCluster\x3c\/span\x3e\n\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e要验证与集群的连接，请使用 \x3ca href=\x22https:\/\/kubernetes.io\/docs\/user-guide\/kubectl\/v1.6\/#get\x22\x3ekubectl get\x3c\/a\x3e 命令查看集群节点的列表。\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs routeros\x22\x3ekubectl \x3cspan class=\x22hljs-builtin-name\x22\x3eget\x3c\/span\x3e nodes\n\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e输出：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs lsl\x22\x3eNAME                    STATUS                     AGE       VERSION\nk8s-agent\x3cspan class=\x22hljs-number\x22\x3e-14\x3c\/span\x3ead53a1\x3cspan class=\x22hljs-number\x22\x3e-0\x3c\/span\x3e    Ready                      \x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3em       v1\x3cspan class=\x22hljs-number\x22\x3e.6\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e.6\x3c\/span\x3e\nk8s-agent\x3cspan class=\x22hljs-number\x22\x3e-14\x3c\/span\x3ead53a1\x3cspan class=\x22hljs-number\x22\x3e-1\x3c\/span\x3e    Ready                      \x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3em       v1\x3cspan class=\x22hljs-number\x22\x3e.6\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e.6\x3c\/span\x3e\nk8s-agent\x3cspan class=\x22hljs-number\x22\x3e-14\x3c\/span\x3ead53a1\x3cspan class=\x22hljs-number\x22\x3e-2\x3c\/span\x3e    Ready                      \x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3em       v1\x3cspan class=\x22hljs-number\x22\x3e.6\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e.6\x3c\/span\x3e\nk8s-master\x3cspan class=\x22hljs-number\x22\x3e-14\x3c\/span\x3ead53a1\x3cspan class=\x22hljs-number\x22\x3e-0\x3c\/span\x3e   Ready,SchedulingDisabled   \x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3em       v1\x3cspan class=\x22hljs-number\x22\x3e.6\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e.6\x3c\/span\x3e\n\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3ch3\x3e\x3ca href=\x22#运行应用程序\x22\x3e\x3c\/a\x3e运行应用程序\x3c\/h3\x3e\n\x3cp\x3eKubernetes 清单文件为集群定义了一个所需的状态，包括了集群中应该运行什么样的容器镜像。 对于此示例，清单用于创建运行 Azure Vote 应用程序所需的所有对象。\x3c\/p\x3e\n\x3cp\x3e创建一个名为 \x3ccode\x3eazure-vote.yaml\x3c\/code\x3e ，将下面的内容拷贝到 YAML 中。\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs yaml\x22\x3e\x3cspan class=\x22hljs-attr\x22\x3eapiVersion:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3eapps\/v1beta1\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3ekind:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3eDeployment\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3emetadata:\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e  name:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3eazure-vote-back\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3espec:\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e  replicas:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e  template:\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e    metadata:\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e      labels:\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e        app:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3eazure-vote-back\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e    spec:\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e      containers:\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e      - name:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3eazure-vote-back\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e        image:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3eredis\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e        ports:\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e        - containerPort:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e6379\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e          name:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3eredis\x3c\/span\x3e\n\x3cspan class=\x22hljs-meta\x22\x3e---\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3eapiVersion:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3ev1\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3ekind:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3eService\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3emetadata:\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e  name:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3eazure-vote-back\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3espec:\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e  ports:\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e  - port:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e6379\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e  selector:\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e    app:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3eazure-vote-back\x3c\/span\x3e\n\x3cspan class=\x22hljs-meta\x22\x3e---\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3eapiVersion:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3eapps\/v1beta1\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3ekind:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3eDeployment\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3emetadata:\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e  name:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3eazure-vote-front\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3espec:\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e  replicas:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e  template:\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e    metadata:\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e      labels:\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e        app:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3eazure-vote-front\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e    spec:\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e      containers:\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e      - name:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3eazure-vote-front\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e        image:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3emicrosoft\/azure-vote-front:redis-v1\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e        ports:\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e        - containerPort:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e80\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e        env:\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e        - name:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3eREDIS\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e          value:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22azure-vote-back\x22\x3c\/span\x3e\n\x3cspan class=\x22hljs-meta\x22\x3e---\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3eapiVersion:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3ev1\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3ekind:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3eService\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3emetadata:\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e  name:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3eazure-vote-front\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3espec:\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e  type:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3eLoadBalancer\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e  ports:\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e  - port:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e80\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e  selector:\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e    app:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3eazure-vote-front\x3c\/span\x3e\n\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e使用 \x3ca href=\x22https:\/\/kubernetes.io\/docs\/user-guide\/kubectl\/v1.6\/#create\x22\x3ekubectl create\x3c\/a\x3e 命令来运行该应用程序。\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs stylus\x22\x3ekubectl create -f azure-vote\x3cspan class=\x22hljs-selector-class\x22\x3e.yaml\x3c\/span\x3e\n\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e输出：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs routeros\x22\x3edeployment \x3cspan class=\x22hljs-string\x22\x3e\x22azure-vote-back\x22\x3c\/span\x3e created\x3cspan class=\x22hljs-built_in\x22\x3e\nservice \x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e\x22azure-vote-back\x22\x3c\/span\x3e created\ndeployment \x3cspan class=\x22hljs-string\x22\x3e\x22azure-vote-front\x22\x3c\/span\x3e created\x3cspan class=\x22hljs-built_in\x22\x3e\nservice \x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e\x22azure-vote-front\x22\x3c\/span\x3e created\n\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3ch3\x3e\x3ca href=\x22#测试应用程序\x22\x3e\x3c\/a\x3e测试应用程序\x3c\/h3\x3e\n\x3cp\x3e当应用程序的跑起来之后，需要创建一个 \x3ca href=\x22https:\/\/kubernetes.io\/docs\/concepts\/services-networking\/service\/\x22\x3eKubernetes 服务\x3c\/a\x3e，将应用程序前端暴露在互联网上。 此过程可能需要几分钟才能完成。\x3c\/p\x3e\n\x3cp\x3e要监控这个进程，使用 \x3ca href=\x22https:\/\/kubernetes.io\/docs\/user-guide\/kubectl\/v1.6\/#get\x22\x3ekubectl get service\x3c\/a\x3e 命令时加上 \x3ccode\x3e--watch\x3c\/code\x3e 参数。\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs routeros\x22\x3ekubectl \x3cspan class=\x22hljs-builtin-name\x22\x3eget\x3c\/span\x3e\x3cspan class=\x22hljs-built_in\x22\x3e service \x3c\/span\x3eazure-vote-front --watch\n\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e最初，\x3cem\x3eazure-vote-front\x3c\/em\x3e 服务的 EXTERNAL-IP 显示为 \x3cem\x3epending\x3c\/em\x3e 。 一旦 EXTERNAL-IP 地址从 \x3cem\x3epending\x3c\/em\x3e 变成一个具体的 IP 地址，请使用 “CTRL-C” 来停止 kubectl 监视进程。\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs x86asm\x22\x3eazure-vote-front   \x3cspan class=\x22hljs-number\x22\x3e10.0\x3c\/span\x3e\x3cspan class=\x22hljs-meta\x22\x3e.34\x3c\/span\x3e\x3cspan class=\x22hljs-meta\x22\x3e.242\x3c\/span\x3e   \x26lt;pending\x26gt;     \x3cspan class=\x22hljs-number\x22\x3e80\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e30676\x3c\/span\x3e\/TCP   7s\nazure-vote-front   \x3cspan class=\x22hljs-number\x22\x3e10.0\x3c\/span\x3e\x3cspan class=\x22hljs-meta\x22\x3e.34\x3c\/span\x3e\x3cspan class=\x22hljs-meta\x22\x3e.242\x3c\/span\x3e   \x3cspan class=\x22hljs-number\x22\x3e52.179\x3c\/span\x3e\x3cspan class=\x22hljs-meta\x22\x3e.23\x3c\/span\x3e\x3cspan class=\x22hljs-meta\x22\x3e.131\x3c\/span\x3e   \x3cspan class=\x22hljs-number\x22\x3e80\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e30676\x3c\/span\x3e\/TCP   2m\n\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e现在你可以通过这个外网 IP 地址访问到 Azure Vote 这个应用了。\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/camo.githubusercontent.com\/3da6a5090deb0d89bf30cfe70757b5d78de1c3bd\/68747470733a2f2f646f63732e6d6963726f736f66742e636f6d2f656e2d75732f617a7572652f636f6e7461696e65722d736572766963652f6b756265726e657465732f6d656469612f636f6e7461696e65722d736572766963652d6b756265726e657465732d77616c6b7468726f7567682f617a7572652d766f74652e706e67\x22\x3e\x3cimg src=\x22https:\/\/camo.githubusercontent.com\/3da6a5090deb0d89bf30cfe70757b5d78de1c3bd\/68747470733a2f2f646f63732e6d6963726f736f66742e636f6d2f656e2d75732f617a7572652f636f6e7461696e65722d736572766963652f6b756265726e657465732f6d656469612f636f6e7461696e65722d736572766963652d6b756265726e657465732d77616c6b7468726f7567682f617a7572652d766f74652e706e67\x22 alt=\x22浏览 Azure Vote 应用截图\x22\x3e\x3c\/a\x3e\x3c\/p\x3e\n\x3ch3\x3e\x3ca href=\x22#删除集群\x22\x3e\x3c\/a\x3e删除集群\x3c\/h3\x3e\n\x3cp\x3e当不再需要集群时，可以使用 \x3ca href=\x22https:\/\/docs.microsoft.com\/en-us\/cli\/azure\/group#delete\x22\x3eaz group delete\x3c\/a\x3e 命令删除资源组，容器服务和所有相关资源。\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs routeros\x22\x3eaz\x3cspan class=\x22hljs-built_in\x22\x3e group \x3c\/span\x3edelete --name myResourceGroup --yes --no-wait\n\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3ch3\x3e\x3ca href=\x22#获取示例代码\x22\x3e\x3c\/a\x3e获取示例代码\x3c\/h3\x3e\n\x3cp\x3e在这个快速入门教程中，预先创建的容器镜像已被用于部署 Kubernetes 。相关应用程序代码 Dockerfile 和 Kubernetes 清单文件可在 GitHub 中获得。Github 仓库地址是 \x3ca href=\x22https:\/\/github.com\/Azure-Samples\/azure-voting-app-redis.git\x22\x3ehttps:\/\/github.com\/Azure-Samples\/azure-voting-app-redis\x3c\/a\x3e\x3c\/p\x3e\n\x3ch3\x3e\x3ca href=\x22#下一步\x22\x3e\x3c\/a\x3e下一步\x3c\/h3\x3e\n\x3cp\x3e在这个快速入门教程中，您部署了一个 Kubernetes 集群，并部署了一个多容器应用程序。\x3c\/p\x3e\n\x3cp\x3e要了解有关 Azure 容器服务的更多信息，走完一个完整的从代码到部署的全流程，请继续阅读 Kubernetes 集群教程。\x3c\/p\x3e\n\x3chr\x3e\n\x3cp\x3evia: \x3ca href=\x22https:\/\/docs.microsoft.com\/en-us\/azure\/container-service\/kubernetes\/container-service-kubernetes-walkthrough\x22\x3ehttps:\/\/docs.microsoft.com\/en-us\/azure\/container-service\/kubernetes\/container-service-kubernetes-walkthrough\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e作者：\x3ca href=\x22https:\/\/github.com\/neilpeterson\x22\x3eneilpeterson\x3c\/a\x3e，\x3ca href=\x22https:\/\/github.com\/mmacy\x22\x3emmacy\x3c\/a\x3e 译者：\x3ca href=\x22https:\/\/github.com\/rieonke\x22\x3erieonke\x3c\/a\x3e 校对：\x3ca href=\x22https:\/\/github.com\/wxy\x22\x3ewxy\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e本文由 \x3ca href=\x22https:\/\/github.com\/LCTT\/TranslateProject\x22\x3eLCTT\x3c\/a\x3e 原创编译，\x3ca href=\x22https:\/\/linux.cn\/\x22\x3eLinux中国\x3c\/a\x3e 荣誉推出\x3c\/p\x3e\n\n          \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>在 Azure 中部署 Kubernetes 容器集群</p><h2 id="原文链接">原文链接</h2><p><a href="https://www.zcfy.cc/article/deploy-kubernetes-cluster-for-linux-containers">https://www.zcfy.cc/article/deploy-kubernetes-cluster-for-linux-containers</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/8ncsi1bag2l/" target="_blank">https://alili.tech/archive/8ncsi1bag2l/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/z09muaar7j/">2年前端应该会哪些技能<aside class="dates">2019-02-01</aside></a></li><li><a href="/archive/ke982v6qrfg/">CSS 性能优化笔记<aside class="dates">2019-02-01</aside></a></li><li><a href="/archive/if1i2hs28ah/">H5打造3d场景不完全攻略（二）: Amazing CSS3D<aside class="dates">2019-02-01</aside></a></li><li><a href="/archive/s4apghsr7o/">JS原生一步步实现前端路由和单页面应用<aside class="dates">2019-02-01</aside></a></li><li><a href="/archive/hjgkntbgqek/">JavaScript 中对大量数据的多重过滤<aside class="dates">2019-02-01</aside></a></li><li><a href="/archive/h1hfvr2a2nj/">JavaScript 中的错误处理机制<aside class="dates">2019-02-01</aside></a></li><li><a href="/archive/a0ukpm125gm/">JavaScript 数组分组的实现<aside class="dates">2019-02-01</aside></a></li><li><a href="/archive/fwosouhbhmj/">JavaScript 类型转换深度学习<aside class="dates">2019-02-01</aside></a></li><li><a href="/archive/z193p9xv2p/">JavaScript设计模式之发布-订阅模式（观察者模式）-Part1<aside class="dates">2019-02-01</aside></a></li><li><a href="/archive/6i7sr0vgkxm/">Javascript中的时间<aside class="dates">2019-02-01</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>