<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="Javascript 中 Y 组合子的推导"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>Javascript 中 Y 组合子的推导 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/13j072ppoyf/",
				"appid": "1613049289050283", 
				"title": "Javascript 中 Y 组合子的推导 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-27T02:31:00"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/kn3l7fwd55/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/xwquh4g09bl/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2f13j072ppoyf%2f&text=Javascript%20%e4%b8%ad%20Y%20%e7%bb%84%e5%90%88%e5%ad%90%e7%9a%84%e6%8e%a8%e5%af%bc"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2f13j072ppoyf%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2f13j072ppoyf%2f&text=Javascript%20%e4%b8%ad%20Y%20%e7%bb%84%e5%90%88%e5%ad%90%e7%9a%84%e6%8e%a8%e5%af%bc"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2f13j072ppoyf%2f&title=Javascript%20%e4%b8%ad%20Y%20%e7%bb%84%e5%90%88%e5%ad%90%e7%9a%84%e6%8e%a8%e5%af%bc"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2f13j072ppoyf%2f&is_video=false&description=Javascript%20%e4%b8%ad%20Y%20%e7%bb%84%e5%90%88%e5%ad%90%e7%9a%84%e6%8e%a8%e5%af%bc"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=Javascript%20%e4%b8%ad%20Y%20%e7%bb%84%e5%90%88%e5%ad%90%e7%9a%84%e6%8e%a8%e5%af%bc&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2f13j072ppoyf%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2f13j072ppoyf%2f&title=Javascript%20%e4%b8%ad%20Y%20%e7%bb%84%e5%90%88%e5%ad%90%e7%9a%84%e6%8e%a8%e5%af%bc"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f13j072ppoyf%2f&title=Javascript%20%e4%b8%ad%20Y%20%e7%bb%84%e5%90%88%e5%ad%90%e7%9a%84%e6%8e%a8%e5%af%bc"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f13j072ppoyf%2f&title=Javascript%20%e4%b8%ad%20Y%20%e7%bb%84%e5%90%88%e5%ad%90%e7%9a%84%e6%8e%a8%e5%af%bc"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f13j072ppoyf%2f&title=Javascript%20%e4%b8%ad%20Y%20%e7%bb%84%e5%90%88%e5%ad%90%e7%9a%84%e6%8e%a8%e5%af%bc"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">Javascript 中 Y 组合子的推导</h1><div class="meta"><div class="postdate"><time datetime="2019-01-27" itemprop="datePublished">2019-01-27</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cblockquote\x3e\x3cp\x3eY 组合子是 lambda 演算中的一个概念，是任意函数的不动点，在函数式编程中主要作用是 \x3cstrong\x3e提供一种匿名函数的递归方式\x3c\/strong\x3e。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3eY 组合子如下：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22MathJax_Preview\x22\x3e\x3c\/span\x3e\x3cdiv class=\x22MathJax_Display\x22 style=\x22text-align: center;\x22\x3e\x3cspan class=\x22MathJax\x22 id=\x22MathJax-Element-1-Frame\x22 tabindex=\x220\x22 style=\x22\x22\x3e\x3cnobr\x3e\x3cspan class=\x22math\x22 id=\x22MathJax-Span-1\x22 role=\x22math\x22 style=\x22width: 11.283em; display: inline-block;\x22\x3e\x3cspan style=\x22display: inline-block; position: relative; width: 9.311em; height: 0px; font-size: 121%;\x22\x3e\x3cspan style=\x22position: absolute; clip: rect(1.631em, 1009.26em, 2.852em, -1000em); top: -2.479em; left: 0em;\x22\x3e\x3cspan class=\x22mrow\x22 id=\x22MathJax-Span-2\x22\x3e\x3cspan class=\x22texatom\x22 id=\x22MathJax-Span-3\x22\x3e\x3cspan class=\x22mrow\x22 id=\x22MathJax-Span-4\x22\x3e\x3cspan class=\x22mo\x22 id=\x22MathJax-Span-5\x22 style=\x22font-family: STIXGeneral-Regular;\x22\x3eλ\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22mi\x22 id=\x22MathJax-Span-6\x22 style=\x22font-family: STIXGeneral-Italic;\x22\x3ef\x3cspan style=\x22display: inline-block; overflow: hidden; height: 1px; width: 0.146em;\x22\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22mo\x22 id=\x22MathJax-Span-7\x22 style=\x22font-family: STIXGeneral-Regular;\x22\x3e.\x3c\/span\x3e\x3cspan class=\x22mo\x22 id=\x22MathJax-Span-8\x22 style=\x22font-family: STIXGeneral-Regular; padding-left: 0.188em;\x22\x3e(\x3c\/span\x3e\x3cspan class=\x22texatom\x22 id=\x22MathJax-Span-9\x22\x3e\x3cspan class=\x22mrow\x22 id=\x22MathJax-Span-10\x22\x3e\x3cspan class=\x22mo\x22 id=\x22MathJax-Span-11\x22 style=\x22font-family: STIXGeneral-Regular;\x22\x3eλ\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22mi\x22 id=\x22MathJax-Span-12\x22 style=\x22font-family: STIXGeneral-Italic;\x22\x3ex\x3cspan style=\x22display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\x22\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22mo\x22 id=\x22MathJax-Span-13\x22 style=\x22font-family: STIXGeneral-Regular;\x22\x3e.\x3c\/span\x3e\x3cspan class=\x22mi\x22 id=\x22MathJax-Span-14\x22 style=\x22font-family: STIXGeneral-Italic; padding-left: 0.188em;\x22\x3ef\x3cspan style=\x22display: inline-block; overflow: hidden; height: 1px; width: 0.146em;\x22\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22mo\x22 id=\x22MathJax-Span-15\x22 style=\x22font-family: STIXGeneral-Regular;\x22\x3e(\x3c\/span\x3e\x3cspan class=\x22mi\x22 id=\x22MathJax-Span-16\x22 style=\x22font-family: STIXGeneral-Italic;\x22\x3ex\x3cspan style=\x22display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\x22\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22mi\x22 id=\x22MathJax-Span-17\x22 style=\x22font-family: STIXGeneral-Italic;\x22\x3ex\x3cspan style=\x22display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\x22\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22mo\x22 id=\x22MathJax-Span-18\x22 style=\x22font-family: STIXGeneral-Regular;\x22\x3e)\x3c\/span\x3e\x3cspan class=\x22mo\x22 id=\x22MathJax-Span-19\x22 style=\x22font-family: STIXGeneral-Regular;\x22\x3e)\x3c\/span\x3e\x3cspan class=\x22mo\x22 id=\x22MathJax-Span-20\x22 style=\x22font-family: STIXGeneral-Regular;\x22\x3e(\x3c\/span\x3e\x3cspan class=\x22texatom\x22 id=\x22MathJax-Span-21\x22\x3e\x3cspan class=\x22mrow\x22 id=\x22MathJax-Span-22\x22\x3e\x3cspan class=\x22mo\x22 id=\x22MathJax-Span-23\x22 style=\x22font-family: STIXGeneral-Regular;\x22\x3eλ\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22mi\x22 id=\x22MathJax-Span-24\x22 style=\x22font-family: STIXGeneral-Italic;\x22\x3ex\x3cspan style=\x22display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\x22\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22mo\x22 id=\x22MathJax-Span-25\x22 style=\x22font-family: STIXGeneral-Regular;\x22\x3e.\x3c\/span\x3e\x3cspan class=\x22mi\x22 id=\x22MathJax-Span-26\x22 style=\x22font-family: STIXGeneral-Italic; padding-left: 0.188em;\x22\x3ef\x3cspan style=\x22display: inline-block; overflow: hidden; height: 1px; width: 0.146em;\x22\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22mo\x22 id=\x22MathJax-Span-27\x22 style=\x22font-family: STIXGeneral-Regular;\x22\x3e(\x3c\/span\x3e\x3cspan class=\x22mi\x22 id=\x22MathJax-Span-28\x22 style=\x22font-family: STIXGeneral-Italic;\x22\x3ex\x3cspan style=\x22display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\x22\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22mi\x22 id=\x22MathJax-Span-29\x22 style=\x22font-family: STIXGeneral-Italic;\x22\x3ex\x3cspan style=\x22display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\x22\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22mo\x22 id=\x22MathJax-Span-30\x22 style=\x22font-family: STIXGeneral-Regular;\x22\x3e)\x3c\/span\x3e\x3cspan class=\x22mo\x22 id=\x22MathJax-Span-31\x22 style=\x22font-family: STIXGeneral-Regular;\x22\x3e)\x3c\/span\x3e\x3c\/span\x3e\x3cspan style=\x22display: inline-block; width: 0px; height: 2.479em;\x22\x3e\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan style=\x22display: inline-block; overflow: hidden; vertical-align: -0.317em; border-left: 0px solid; width: 0px; height: 1.21em;\x22\x3e\x3c\/span\x3e\x3c\/span\x3e\x3c\/nobr\x3e\x3c\/span\x3e\x3c\/div\x3e\x3cscript type=\x22math\/tex; mode=display\x22 id=\x22MathJax-Element-1\x22\x3e λf.(λx.f(x x))(λx.f(x x)) \x3c\/script\x3e\x3c\/p\x3e\n\x3cp\x3e本文将尽量通俗易懂的以 \x3cstrong\x3e实现匿名函数递归\x3c\/strong\x3e 为导向，推导出这一式子。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3e一、简介\x3c\/h2\x3e\n\x3ch3 id=\x22articleHeader1\x22\x3e1. lambda 表达式简介\x3c\/h3\x3e\n\x3cblockquote\x3e\x3cp\x3e这部分通过 js 函数介绍 lambda 表达式，如果已经了解 \x3ca href=\x22https:\/\/en.wikipedia.org\/wiki\/Lambda_calculus\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3elambda 演算\x3c\/a\x3e 可以跳过这一部分。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e了解一个新领域的最好方法是用已有知识进行类比。\x3cbr\x3e我们可以把每一个 lambda 表达式解释为一个 js 函数：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e\x22λ\x22 字符可以看作 function 声明，\x22.\x22字符前为参数列表，\x22.\x22字符后为函数体。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3elambda 表达式不能被命名（赋值给变量），这也是为什么lambda演算需要引入 Y组合子的原因。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3elambda 表达式只允许定义一个参数。\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ctable\x3e\n\x3cthead\x3e\x3ctr\x3e\n\x3cth align=\x22right\x22\x3e使用\x3c\/th\x3e\n\x3cth\x3elamda 表达式\x3c\/th\x3e\n\x3cth\x3ejavascript 箭头函数\x3c\/th\x3e\n\x3cth\x3ejavascript 函数表达式\x3c\/th\x3e\n\x3c\/tr\x3e\x3c\/thead\x3e\n\x3ctbody\x3e\n\x3ctr\x3e\n\x3ctd align=\x22right\x22\x3e函数\x3c\/td\x3e\n\x3ctd\x3e\x3ccode\x3eλx.x\x2b1\x3c\/code\x3e\x3c\/td\x3e\n\x3ctd\x3e\x3ccode\x3ex=\x26gt;x\x2b1;\x3c\/code\x3e\x3c\/td\x3e\n\x3ctd\x3e\x3ccode\x3e(function(x){return x\x2b1;});\x3c\/code\x3e\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd align=\x22right\x22\x3e函数调用\x3c\/td\x3e\n\x3ctd\x3e\x3ccode\x3e(λx.x\x2b1)4\x3c\/code\x3e\x3c\/td\x3e\n\x3ctd\x3e\x3ccode\x3e(x=\x26gt;x\x2b1)(4);\x3c\/code\x3e\x3c\/td\x3e\n\x3ctd\x3e\x3ccode\x3e(function(x){return x\x2b1;})(4);\x3c\/code\x3e\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3c\/tbody\x3e\n\x3c\/table\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3e2. 组合子与不动点\x3c\/h2\x3e\n\x3cp\x3e组合子对照 js 可以理解为：\x3cstrong\x3e函数体内，没有使用外部变量\x3c\/strong\x3e。\x3c\/p\x3e\n\x3cp\x3e不动点是函数的一个特征：\x3cstrong\x3e对于函数 \x3cspan class=\x22MathJax_Preview\x22\x3e\x3c\/span\x3e\x3cspan class=\x22MathJax\x22 id=\x22MathJax-Element-2-Frame\x22 tabindex=\x220\x22 style=\x22\x22\x3e\x3cnobr\x3e\x3cspan class=\x22math\x22 id=\x22MathJax-Span-32\x22 role=\x22math\x22 style=\x22width: 1.95em; display: inline-block;\x22\x3e\x3cspan style=\x22display: inline-block; position: relative; width: 1.559em; height: 0px; font-size: 124%;\x22\x3e\x3cspan style=\x22position: absolute; clip: rect(1.688em, 1001.51em, 2.895em, -1000em); top: -2.527em; left: 0em;\x22\x3e\x3cspan class=\x22mrow\x22 id=\x22MathJax-Span-33\x22\x3e\x3cspan class=\x22mi\x22 id=\x22MathJax-Span-34\x22 style=\x22font-family: STIXGeneral-Italic;\x22\x3ef\x3cspan style=\x22display: inline-block; overflow: hidden; height: 1px; width: 0.146em;\x22\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22mo\x22 id=\x22MathJax-Span-35\x22 style=\x22font-family: STIXGeneral-Regular;\x22\x3e(\x3c\/span\x3e\x3cspan class=\x22mi\x22 id=\x22MathJax-Span-36\x22 style=\x22font-family: STIXGeneral-Italic;\x22\x3ex\x3cspan style=\x22display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\x22\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22mo\x22 id=\x22MathJax-Span-37\x22 style=\x22font-family: STIXGeneral-Regular;\x22\x3e)\x3c\/span\x3e\x3c\/span\x3e\x3cspan style=\x22display: inline-block; width: 0px; height: 2.527em;\x22\x3e\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan style=\x22display: inline-block; overflow: hidden; vertical-align: -0.323em; border-left: 0px solid; width: 0px; height: 1.231em;\x22\x3e\x3c\/span\x3e\x3c\/span\x3e\x3c\/nobr\x3e\x3c\/span\x3e\x3cscript type=\x22math\/tex\x22 id=\x22MathJax-Element-2\x22\x3ef(x)\x3c\/script\x3e，如果有变量 \x26nbsp;\x3cspan class=\x22MathJax_Preview\x22\x3e\x3c\/span\x3e\x3cspan class=\x22MathJax\x22 id=\x22MathJax-Element-3-Frame\x22 tabindex=\x220\x22 style=\x22\x22\x3e\x3cnobr\x3e\x3cspan class=\x22math\x22 id=\x22MathJax-Span-38\x22 role=\x22math\x22 style=\x22width: 0.617em; display: inline-block;\x22\x3e\x3cspan style=\x22display: inline-block; position: relative; width: 0.484em; height: 0px; font-size: 124%;\x22\x3e\x3cspan style=\x22position: absolute; clip: rect(1.925em, 1000.46em, 2.699em, -1000em); top: -2.527em; left: 0em;\x22\x3e\x3cspan class=\x22mrow\x22 id=\x22MathJax-Span-39\x22\x3e\x3cspan class=\x22mi\x22 id=\x22MathJax-Span-40\x22 style=\x22font-family: STIXGeneral-Italic;\x22\x3ea\x3c\/span\x3e\x3c\/span\x3e\x3cspan style=\x22display: inline-block; width: 0px; height: 2.527em;\x22\x3e\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan style=\x22display: inline-block; overflow: hidden; vertical-align: -0.08em; border-left: 0px solid; width: 0px; height: 0.694em;\x22\x3e\x3c\/span\x3e\x3c\/span\x3e\x3c\/nobr\x3e\x3c\/span\x3e\x3cscript type=\x22math\/tex\x22 id=\x22MathJax-Element-3\x22\x3ea\x3c\/script\x3e 使得\x26nbsp;\x26nbsp;\x3cspan class=\x22MathJax_Preview\x22\x3e\x3c\/span\x3e\x3cspan class=\x22MathJax\x22 id=\x22MathJax-Element-4-Frame\x22 tabindex=\x220\x22 style=\x22\x22\x3e\x3cnobr\x3e\x3cspan class=\x22math\x22 id=\x22MathJax-Span-41\x22 role=\x22math\x22 style=\x22width: 4.15em; display: inline-block;\x22\x3e\x3cspan style=\x22display: inline-block; position: relative; width: 3.333em; height: 0px; font-size: 124%;\x22\x3e\x3cspan style=\x22position: absolute; clip: rect(1.688em, 1003.31em, 2.895em, -1000em); top: -2.527em; left: 0em;\x22\x3e\x3cspan class=\x22mrow\x22 id=\x22MathJax-Span-42\x22\x3e\x3cspan class=\x22mi\x22 id=\x22MathJax-Span-43\x22 style=\x22font-family: STIXGeneral-Italic;\x22\x3ef\x3cspan style=\x22display: inline-block; overflow: hidden; height: 1px; width: 0.146em;\x22\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22mo\x22 id=\x22MathJax-Span-44\x22 style=\x22font-family: STIXGeneral-Regular;\x22\x3e(\x3c\/span\x3e\x3cspan class=\x22mi\x22 id=\x22MathJax-Span-45\x22 style=\x22font-family: STIXGeneral-Italic;\x22\x3ea\x3c\/span\x3e\x3cspan class=\x22mo\x22 id=\x22MathJax-Span-46\x22 style=\x22font-family: STIXGeneral-Regular;\x22\x3e)\x3c\/span\x3e\x3cspan class=\x22mo\x22 id=\x22MathJax-Span-47\x22 style=\x22font-family: STIXGeneral-Regular; padding-left: 0.313em;\x22\x3e=\x3c\/span\x3e\x3cspan class=\x22mi\x22 id=\x22MathJax-Span-48\x22 style=\x22font-family: STIXGeneral-Italic; padding-left: 0.313em;\x22\x3ea\x3c\/span\x3e\x3c\/span\x3e\x3cspan style=\x22display: inline-block; width: 0px; height: 2.527em;\x22\x3e\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan style=\x22display: inline-block; overflow: hidden; vertical-align: -0.323em; border-left: 0px solid; width: 0px; height: 1.231em;\x22\x3e\x3c\/span\x3e\x3c\/span\x3e\x3c\/nobr\x3e\x3c\/span\x3e\x3cscript type=\x22math\/tex\x22 id=\x22MathJax-Element-4\x22\x3ef(a)=a\x3c\/script\x3e 成立，则称 \x3cspan class=\x22MathJax_Preview\x22\x3e\x3c\/span\x3e\x3cspan class=\x22MathJax\x22 id=\x22MathJax-Element-5-Frame\x22 tabindex=\x220\x22 style=\x22\x22\x3e\x3cnobr\x3e\x3cspan class=\x22math\x22 id=\x22MathJax-Span-49\x22 role=\x22math\x22 style=\x22width: 0.617em; display: inline-block;\x22\x3e\x3cspan style=\x22display: inline-block; position: relative; width: 0.484em; height: 0px; font-size: 124%;\x22\x3e\x3cspan style=\x22position: absolute; clip: rect(1.925em, 1000.46em, 2.699em, -1000em); top: -2.527em; left: 0em;\x22\x3e\x3cspan class=\x22mrow\x22 id=\x22MathJax-Span-50\x22\x3e\x3cspan class=\x22mi\x22 id=\x22MathJax-Span-51\x22 style=\x22font-family: STIXGeneral-Italic;\x22\x3ea\x3c\/span\x3e\x3c\/span\x3e\x3cspan style=\x22display: inline-block; width: 0px; height: 2.527em;\x22\x3e\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan style=\x22display: inline-block; overflow: hidden; vertical-align: -0.08em; border-left: 0px solid; width: 0px; height: 0.694em;\x22\x3e\x3c\/span\x3e\x3c\/span\x3e\x3c\/nobr\x3e\x3c\/span\x3e\x3cscript type=\x22math\/tex\x22 id=\x22MathJax-Element-5\x22\x3ea\x3c\/script\x3e 是函数 \x3cspan class=\x22MathJax_Preview\x22\x3e\x3c\/span\x3e\x3cspan class=\x22MathJax\x22 id=\x22MathJax-Element-6-Frame\x22 tabindex=\x220\x22 style=\x22\x22\x3e\x3cnobr\x3e\x3cspan class=\x22math\x22 id=\x22MathJax-Span-52\x22 role=\x22math\x22 style=\x22width: 0.55em; display: inline-block;\x22\x3e\x3cspan style=\x22display: inline-block; position: relative; width: 0.43em; height: 0px; font-size: 124%;\x22\x3e\x3cspan style=\x22position: absolute; clip: rect(1.688em, 1000.43em, 2.895em, -1000em); top: -2.527em; left: 0em;\x22\x3e\x3cspan class=\x22mrow\x22 id=\x22MathJax-Span-53\x22\x3e\x3cspan class=\x22mi\x22 id=\x22MathJax-Span-54\x22 style=\x22font-family: STIXGeneral-Italic;\x22\x3ef\x3cspan style=\x22display: inline-block; overflow: hidden; height: 1px; width: 0.146em;\x22\x3e\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan style=\x22display: inline-block; width: 0px; height: 2.527em;\x22\x3e\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan style=\x22display: inline-block; overflow: hidden; vertical-align: -0.323em; border-left: 0px solid; width: 0px; height: 1.231em;\x22\x3e\x3c\/span\x3e\x3c\/span\x3e\x3c\/nobr\x3e\x3c\/span\x3e\x3cscript type=\x22math\/tex\x22 id=\x22MathJax-Element-6\x22\x3ef\x3c\/script\x3e 上的一个不动点\x3c\/strong\x3e。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader3\x22\x3e二、递归\x3c\/h2\x3e\n\x3ch3 id=\x22articleHeader4\x22\x3e1. 普通的递归\x3c\/h3\x3e\n\x3cp\x3e递归就是函数不断调用自身\x3c\/p\x3e\n\x3cp\x3e一个最基本的调用自身的函数是这样的：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var f = () =\x3e f();\nf();\n\/\/\x3e f()\n\/\/\x3e f()\n\/\/\x3e ...\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e f = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e f();\nf();\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/\x26gt; f()\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/\x26gt; f()\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/\x26gt; ...\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e但这个函数仅仅是不断的调用自身，什么也没做。\x3c\/p\x3e\n\x3cp\x3e一个正常的递归函数应该有一个状态，每次调用不断的递进状态，最终可以通过判断状态结束递归：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var f = p =\x3e judge(p) ? f(step(p)) : value;\n\n\/\/ 再加上“计算”的步骤，这样这个函数才有价值：\n\nvar f = p =\x3e judge(p) ? calc(f(step(p)),p) : value;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e f = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3ep\x3c\/span\x3e =\x26gt;\x3c\/span\x3e judge(p) ? f(step(p)) : value;\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 再加上“计算”的步骤，这样这个函数才有价值：\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e f = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3ep\x3c\/span\x3e =\x26gt;\x3c\/span\x3e judge(p) ? calc(f(step(p)),p) : value;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e一个具体的例子，计算阶乘的函数：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\nvar factorial = n =\x3e n ? factorial(n-1)*n : 1;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e factorial = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3en\x3c\/span\x3e =\x26gt;\x3c\/span\x3e n ? factorial(n\x3cspan class=\x22hljs-number\x22\x3e-1\x3c\/span\x3e)*n : \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e调用：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22factorial(4);\n\/\/=\x3e 24\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3efactorial(\x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e);\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/=\x26gt; 24\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader5\x22\x3e2. 让匿名函数递归\x3c\/h3\x3e\n\x3cp\x3e由于不能给函数命名，我们需要把函数作为参数传入一个高阶函数。这样，在高阶函数中，就可以使用 \x3cstrong\x3e参数名\x3c\/strong\x3e 来引用函数，相当于变相地给函数命了名。\x3c\/p\x3e\n\x3cp\x3e构造一个高阶函数\x3ccode\x3einvokeWithSelf\x3c\/code\x3e，它接受一个函数作为参数，并让这个函数将自身作为参数调用其自身：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var invokeWithSelf = f =\x3e f(f);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e invokeWithSelf = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3ef\x3c\/span\x3e =\x26gt;\x3c\/span\x3e f(f);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e当这个函数传入自身作为参数时\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22invokeWithSelf(invokeWithSelf);\n\/\/\x3e (f=\x3ef(f))(f=\x3ef(f));\n\/\/\x3e (f=\x3ef(f))(f=\x3ef(f));\n\/\/\x3e ...\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3einvokeWithSelf(invokeWithSelf);\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/\x26gt; (f=\x26gt;f(f))(f=\x26gt;f(f));\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/\x26gt; (f=\x26gt;f(f))(f=\x26gt;f(f));\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/\x26gt; ...\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e我们得到了一个匿名的无限递归函数，仿照上一节，我们可以把这个函数改造成可以使用的递归函数\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/首先需要有一个参数来保存递归状态\nvar func = f =\x3e p =\x3e f(f)(p);\n\n\/\/加上状态改变和判断\nvar func = f =\x3e p =\x3e judge(p) ? f(f)(step(p)) : value;\n\n\/\/增加计算\nvar func = f =\x3e p =\x3e judge(p) ? calc(f(f)(step(p)),p) : value;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/首先需要有一个参数来保存递归状态\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e func = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3ef\x3c\/span\x3e =\x26gt;\x3c\/span\x3e p =\x26gt; f(f)(p);\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/加上状态改变和判断\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e func = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3ef\x3c\/span\x3e =\x26gt;\x3c\/span\x3e p =\x26gt; judge(p) ? f(f)(step(p)) : value;\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/增加计算\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e func = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3ef\x3c\/span\x3e =\x26gt;\x3c\/span\x3e p =\x26gt; judge(p) ? calc(f(f)(step(p)),p) : value;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e具体例子，计算阶乘的函数：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var func = f =\x3e n =\x3e n ? f(f)(n-1)*n : 1;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e func = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3ef\x3c\/span\x3e =\x26gt;\x3c\/span\x3e n =\x26gt; n ? f(f)(n\x3cspan class=\x22hljs-number\x22\x3e-1\x3c\/span\x3e)*n : \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e调用：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22func(func)(4);\n\/\/\x3e 24\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3efunc(func)(\x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e);\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/\x26gt; 24\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e匿名调用：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22(f =\x3e n =\x3e n ? f(f)(n-1)*n : 1)(f =\x3e n =\x3e n ? f(f)(n-1)*n : 1)(4);\n\/\/\x3e 24\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3ef\x3c\/span\x3e =\x26gt;\x3c\/span\x3e n =\x26gt; n ? f(f)(n\x3cspan class=\x22hljs-number\x22\x3e-1\x3c\/span\x3e)*n : \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e)(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3ef\x3c\/span\x3e =\x26gt;\x3c\/span\x3e n =\x26gt; n ? f(f)(n\x3cspan class=\x22hljs-number\x22\x3e-1\x3c\/span\x3e)*n : \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e)(\x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e);\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/\x26gt; 24\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e现在我们得到了一个匿名的递归函数，不过它只能用来计算阶乘。为了将其通用，我们希望将 \x3cstrong\x3e函数的具体计算方式\x3c\/strong\x3e与其\x3cstrong\x3e递归的形式\x3c\/strong\x3e剥离开来。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader6\x22\x3e三、推导\x3c\/h2\x3e\n\x3ch3 id=\x22articleHeader7\x22\x3e1. 解耦递归逻辑与计算逻辑，得到 javascript 中的 Y 组合子\x3c\/h3\x3e\n\x3cp\x3e对于刚才的函数\x3ccode\x3efunc\x3c\/code\x3e，我们尝试一步步将它分解成 \x3cstrong\x3e计算逻辑\x3c\/strong\x3e 和 \x3cstrong\x3e递归逻辑\x3c\/strong\x3e 两部分\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var func = (f =\x3e n =\x3e n ? f(f)(n-1)*n : 1)(f =\x3e n =\x3e n ? f(f)(n-1)*n : 1);\n\n\/\/调用：\nfunc(4);\n\/\/\x3e 24\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e func = (\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3ef\x3c\/span\x3e =\x26gt;\x3c\/span\x3e n =\x26gt; n ? f(f)(n\x3cspan class=\x22hljs-number\x22\x3e-1\x3c\/span\x3e)*n : \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e)(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3ef\x3c\/span\x3e =\x26gt;\x3c\/span\x3e n =\x26gt; n ? f(f)(n\x3cspan class=\x22hljs-number\x22\x3e-1\x3c\/span\x3e)*n : \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e);\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/调用：\x3c\/span\x3e\nfunc(\x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e);\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/\x26gt; 24\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e开始化简 \x3ccode\x3efunc\x3c\/code\x3e：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var func = n =\x3e {\n    return (f =\x3e n =\x3e n ? f(f)(n-1)*n : 1)(f =\x3e n =\x3e n ? f(f)(n-1)*n : 1);\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e func = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3en\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e (\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3ef\x3c\/span\x3e =\x26gt;\x3c\/span\x3e n =\x26gt; n ? f(f)(n\x3cspan class=\x22hljs-number\x22\x3e-1\x3c\/span\x3e)*n : \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e)(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3ef\x3c\/span\x3e =\x26gt;\x3c\/span\x3e n =\x26gt; n ? f(f)(n\x3cspan class=\x22hljs-number\x22\x3e-1\x3c\/span\x3e)*n : \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e);\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e提取重复形式 \x3ccode\x3ef =\x26gt; n =\x26gt; n ? f(f)(n-1)*n : 1\x3c\/code\x3e：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var func = n =\x3e {\n    var fa = f =\x3e n =\x3e n ? f(f)(n-1)*n : 1;\n    return fa(fa);\n};\n\n\/\/改写形式\nvar func = n =\x3e {\n    var fa = f =\x3e {\n        return n =\x3e n ? f(f)(n-1)*n : 1;\n    };\n    return fa(fa);\n};\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e func = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3en\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e fa = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3ef\x3c\/span\x3e =\x26gt;\x3c\/span\x3e n =\x26gt; n ? f(f)(n\x3cspan class=\x22hljs-number\x22\x3e-1\x3c\/span\x3e)*n : \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e fa(fa);\n};\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/改写形式\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e func = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3en\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e fa = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3ef\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3en\x3c\/span\x3e =\x26gt;\x3c\/span\x3e n ? f(f)(n\x3cspan class=\x22hljs-number\x22\x3e-1\x3c\/span\x3e)*n : \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;\n    };\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e fa(fa);\n};\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e可以看出，其主要递归逻辑来自 \x3ccode\x3ef(f)\x3c\/code\x3e, 我们将这一部分解耦：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\nvar func = n =\x3e {\n    var fa = f =\x3e {\n        var fb = n =\x3e f(f)(n);\n        return n =\x3e n ? fb(n-1)*n : 1;\n    };\n    return fa(fa);\n};\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e func = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3en\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e fa = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3ef\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e fb = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3en\x3c\/span\x3e =\x26gt;\x3c\/span\x3e f(f)(n);\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3en\x3c\/span\x3e =\x26gt;\x3c\/span\x3e n ? fb(n\x3cspan class=\x22hljs-number\x22\x3e-1\x3c\/span\x3e)*n : \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;\n    };\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e fa(fa);\n};\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e可以看到 返回值 不再需要 \x3ccode\x3efc\x3c\/code\x3e 接收的参数 \x3ccode\x3ef\x3c\/code\x3e, 将返回值表达式具名, 以便提取出 \x3ccode\x3efc\x3c\/code\x3e, 分离逻辑：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\nvar func = n =\x3e {\n    var fa = f =\x3e {\n        var fb = n =\x3e f(f)(n);\n        var fc = n =\x3e n ? fb(n-1)*n : 1;\n        return fc;\n    };\n    return fa(fa);\n};\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e func = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3en\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e fa = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3ef\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e fb = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3en\x3c\/span\x3e =\x26gt;\x3c\/span\x3e f(f)(n);\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e fc = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3en\x3c\/span\x3e =\x26gt;\x3c\/span\x3e n ? fb(n\x3cspan class=\x22hljs-number\x22\x3e-1\x3c\/span\x3e)*n : \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e fc;\n    };\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e fa(fa);\n};\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3ccode\x3efc\x3c\/code\x3e 还在依赖 \x3ccode\x3efb\x3c\/code\x3e, 将 \x3ccode\x3efb\x3c\/code\x3e 作为参数传入 \x3ccode\x3efc\x3c\/code\x3e, 解除 \x3ccode\x3efc\x3c\/code\x3e 对 \x3ccode\x3efb\x3c\/code\x3e 的依赖：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var func = n =\x3e {\n    var fa = f =\x3e {\n        var fb = n =\x3e f(f)(n);\n        var fc = fb =\x3e n =\x3e n ? fb(n-1)*n : 1;\n        return fc(fb);\n    };\n    return fa(fa);\n};\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e func = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3en\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e fa = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3ef\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e fb = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3en\x3c\/span\x3e =\x26gt;\x3c\/span\x3e f(f)(n);\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e fc = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3efb\x3c\/span\x3e =\x26gt;\x3c\/span\x3e n =\x26gt; n ? fb(n\x3cspan class=\x22hljs-number\x22\x3e-1\x3c\/span\x3e)*n : \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e fc(fb);\n    };\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e fa(fa);\n};\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e可以发现 \x3ccode\x3efc\x3c\/code\x3e 是计算逻辑部分，将 \x3ccode\x3efc\x3c\/code\x3e 提取出 \x3ccode\x3efa\x3c\/code\x3e：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var func = n =\x3e {\n    var fa = fc =\x3e f =\x3e {\n        var fb = n =\x3e f(f)(n);\n        return fc(fb);\n    };\n    var fc = fb =\x3e n =\x3e n ? fb(n-1)*n : 1;\n    return fa(fc)(fa(fc));\n};\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e func = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3en\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e fa = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3efc\x3c\/span\x3e =\x26gt;\x3c\/span\x3e f =\x26gt; {\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e fb = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3en\x3c\/span\x3e =\x26gt;\x3c\/span\x3e f(f)(n);\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e fc(fb);\n    };\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e fc = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3efb\x3c\/span\x3e =\x26gt;\x3c\/span\x3e n =\x26gt; n ? fb(n\x3cspan class=\x22hljs-number\x22\x3e-1\x3c\/span\x3e)*n : \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e fa(fc)(fa(fc));\n};\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e构造一个函数 \x3ccode\x3efd\x3c\/code\x3e, 化简返回值的形式：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var func = n =\x3e {\n    var fa = fc =\x3e f =\x3e {\n        var fb = n =\x3e f(f)(n);\n        return fc(fb);\n    };\n    var fc = fb =\x3e n =\x3e n ? fb(n-1)*n : 1;\n    var fd = fa =\x3e fc =\x3e {\n        return fa(fc)(fa(fc));\n    }\n    return fd(fa)(fc);\n};\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e func = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3en\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e fa = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3efc\x3c\/span\x3e =\x26gt;\x3c\/span\x3e f =\x26gt; {\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e fb = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3en\x3c\/span\x3e =\x26gt;\x3c\/span\x3e f(f)(n);\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e fc(fb);\n    };\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e fc = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3efb\x3c\/span\x3e =\x26gt;\x3c\/span\x3e n =\x26gt; n ? fb(n\x3cspan class=\x22hljs-number\x22\x3e-1\x3c\/span\x3e)*n : \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e fd = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3efa\x3c\/span\x3e =\x26gt;\x3c\/span\x3e fc =\x26gt; {\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e fa(fc)(fa(fc));\n    }\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e fd(fa)(fc);\n};\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e将 \x3ccode\x3efa\x3c\/code\x3e 带入 \x3ccode\x3efd\x3c\/code\x3e, 得到递归逻辑部分：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var func = n =\x3e {\n    var fc = fb =\x3e n =\x3e n ? fb(n-1)*n : 1;\n    var fd = fc =\x3e {\n        var fa = fc =\x3e f =\x3e {\n            var fb = n =\x3e f(f)(n);\n            return fc(fb);\n        };\n        return fa(fc)(fa(fc));\n    }\n    return fd(fc);\n};\n\n\/\/化简fd\nvar func = n =\x3e {\n    var fc = fb =\x3e n =\x3e n ? fb(n-1)*n : 1;\n    var fd = fc =\x3e {\n        var fa = f =\x3e {\n            var fb = n =\x3e f(f)(n);\n            return fc(fb);\n        };\n        return fa(fa);\n    }\n    return fd(fc);\n};\n\n\/\/化简fd\nvar func = n =\x3e {\n    var fc = fb =\x3e n =\x3e n ? fb(n-1)*n : 1;\n    var fd = fc =\x3e (f =\x3e fc(n =\x3e f(f)(n)))(f =\x3e fc(n =\x3e f(f)(n)));\n    return fd(fc);\n};\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e func = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3en\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e fc = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3efb\x3c\/span\x3e =\x26gt;\x3c\/span\x3e n =\x26gt; n ? fb(n\x3cspan class=\x22hljs-number\x22\x3e-1\x3c\/span\x3e)*n : \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e fd = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3efc\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e fa = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3efc\x3c\/span\x3e =\x26gt;\x3c\/span\x3e f =\x26gt; {\n            \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e fb = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3en\x3c\/span\x3e =\x26gt;\x3c\/span\x3e f(f)(n);\n            \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e fc(fb);\n        };\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e fa(fc)(fa(fc));\n    }\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e fd(fc);\n};\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/化简fd\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e func = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3en\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e fc = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3efb\x3c\/span\x3e =\x26gt;\x3c\/span\x3e n =\x26gt; n ? fb(n\x3cspan class=\x22hljs-number\x22\x3e-1\x3c\/span\x3e)*n : \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e fd = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3efc\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e fa = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3ef\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n            \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e fb = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3en\x3c\/span\x3e =\x26gt;\x3c\/span\x3e f(f)(n);\n            \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e fc(fb);\n        };\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e fa(fa);\n    }\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e fd(fc);\n};\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/化简fd\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e func = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3en\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e fc = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3efb\x3c\/span\x3e =\x26gt;\x3c\/span\x3e n =\x26gt; n ? fb(n\x3cspan class=\x22hljs-number\x22\x3e-1\x3c\/span\x3e)*n : \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e fd = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3efc\x3c\/span\x3e =\x26gt;\x3c\/span\x3e (\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3ef\x3c\/span\x3e =\x26gt;\x3c\/span\x3e fc(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3en\x3c\/span\x3e =\x26gt;\x3c\/span\x3e f(f)(n)))(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3ef\x3c\/span\x3e =\x26gt;\x3c\/span\x3e fc(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3en\x3c\/span\x3e =\x26gt;\x3c\/span\x3e f(f)(n)));\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e fd(fc);\n};\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e可以看到，两部分逻辑已经分离，可以得到 javascript 中的 Y 组合子：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var fn = fc;\nvar Y = fd;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e fn = fc;\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e Y = fd;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e将参数名替换一下，得到 Y 组合子与计算逻辑 \x3ccode\x3efn\x3c\/code\x3e：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var fn = f =\x3e n =\x3e n ? f(n-1)*n : 1;\nvar Y = y =\x3e (x =\x3e y(n =\x3e x(x)(n)))(x =\x3e y(n =\x3e x(x)(n)));\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e fn = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3ef\x3c\/span\x3e =\x26gt;\x3c\/span\x3e n =\x26gt; n ? f(n\x3cspan class=\x22hljs-number\x22\x3e-1\x3c\/span\x3e)*n : \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e Y = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3ey\x3c\/span\x3e =\x26gt;\x3c\/span\x3e (\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3ex\x3c\/span\x3e =\x26gt;\x3c\/span\x3e y(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3en\x3c\/span\x3e =\x26gt;\x3c\/span\x3e x(x)(n)))(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3ex\x3c\/span\x3e =\x26gt;\x3c\/span\x3e y(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3en\x3c\/span\x3e =\x26gt;\x3c\/span\x3e x(x)(n)));\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e调用测试：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22Y(fn)(4);\n\/\/\x3e 24\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3eY(fn)(\x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e);\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/\x26gt; 24\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader8\x22\x3e2. Y组合子与惰性求值\x3c\/h3\x3e\n\x3cp\x3e你可能注意到，刚才推导出的 Y 组合子形式与 其 λ 表达式的等价形式不一致\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/*λ 表达式的等价形式*\/\nY = y =\x3e (x =\x3e y(x(x)))(x =\x3e y(x(x)));\n\n\/*推导出的形式*\/\nY = y =\x3e (x =\x3e y(n =\x3e x(x)(n)))(x =\x3e y(n =\x3e x(x)(n)));\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/*λ 表达式的等价形式*\/\x3c\/span\x3e\nY = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3ey\x3c\/span\x3e =\x26gt;\x3c\/span\x3e (\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3ex\x3c\/span\x3e =\x26gt;\x3c\/span\x3e y(x(x)))(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3ex\x3c\/span\x3e =\x26gt;\x3c\/span\x3e y(x(x)));\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/*推导出的形式*\/\x3c\/span\x3e\nY = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3ey\x3c\/span\x3e =\x26gt;\x3c\/span\x3e (\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3ex\x3c\/span\x3e =\x26gt;\x3c\/span\x3e y(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3en\x3c\/span\x3e =\x26gt;\x3c\/span\x3e x(x)(n)))(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3ex\x3c\/span\x3e =\x26gt;\x3c\/span\x3e y(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3en\x3c\/span\x3e =\x26gt;\x3c\/span\x3e x(x)(n)));\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e对比不难发现 \x3ccode\x3en =\x26gt; x(x)(n)\x3c\/code\x3e 应化为 \x3ccode\x3ex(x)\x3c\/code\x3e，并且尝试直接使用等价形式时会发生爆栈\x3c\/p\x3e\n\x3cp\x3e我们知道，上面的两种形式几乎是等价的，例如：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var print = str =\x3e console.log(str);\n\n\/\/ 在一个参数的情况下，等价于：\nvar print = console.log;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e print = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3estr\x3c\/span\x3e =\x26gt;\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(str);\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 在一个参数的情况下，等价于：\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e print = \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e但当它们作为函数参数时，其实有着略微不同：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/接收一个函数，但不使用它\nvar y = xn =\x3e {\n    console.log(\x26quot;run y\x26quot;);\n    return false ? xn(1) : 0;\n};\n\n\/\/接收任意一个参数，返回一个函数\nvar x = n =\x3e {\n    console.log(\x26quot;run x\x26quot;);\n    return n1 =\x3e n1;\n};\n\n\/\/调用，将参数直接传入\ny(x(1));\n\/\/\x3e \x26quot;run x\x26quot;\n\/\/\x3e \x26quot;run y\x26quot;\n\n\/\/调用，将参数包裹在匿名函数中传入\ny((n1)=\x3ex(1)(n1));\n\/\/\x3e \x26quot;run y\x26quot;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/接收一个函数，但不使用它\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e y = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3exn\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x22run y\x22\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e ? xn(\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e) : \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n};\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/接收任意一个参数，返回一个函数\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e x = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3en\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x22run x\x22\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3en1\x3c\/span\x3e =\x26gt;\x3c\/span\x3e n1;\n};\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/调用，将参数直接传入\x3c\/span\x3e\ny(x(\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e));\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/\x26gt; \x22run x\x22\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/\x26gt; \x22run y\x22\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/调用，将参数包裹在匿名函数中传入\x3c\/span\x3e\ny(\x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3en1\x3c\/span\x3e)=\x26gt;\x3c\/span\x3ex(\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e)(n1));\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/\x26gt; \x22run y\x22\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e可以看到，在 \x3ccode\x3ey(x(1))\x3c\/code\x3e 的过程中，根本没有用到参数 \x3ccode\x3ex(1)\x3c\/code\x3e 的值，但程序不在乎这一点，首先求出了 \x3ccode\x3ex(1)\x3c\/code\x3e 的值；  \x3cbr\x3e第二个表达式中参数 \x3ccode\x3ex(1)\x3c\/code\x3e 被“包裹”在一个匿名函数中，并没有运行。\x3c\/p\x3e\n\x3cblockquote\x3e\n\x3cp\x3e对于函数参数的求值策略，不同的语言不相同：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e在函数调用时，立即求值，称作“严格求值”(\x3ca href=\x22https:\/\/en.wikipedia.org\/wiki\/Eager_evaluation\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eEager evaluation\x3c\/a\x3e), js \/ c\x2b\x2b \/ c# 均使用严格求值\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e在函数运行时动态地求值，称作“惰性求值”(\x3ca href=\x22https:\/\/en.wikipedia.org\/wiki\/Lazy_evaluation\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eLazy evaluation\x3c\/a\x3e), 以 Haskell 为代表的函数式编程语言默认使用\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/blockquote\x3e\n\x3cp\x3ejavascript 中使用的是严格求值，而 lambda 表达式中使用的是惰性求值。\x3c\/p\x3e\n\x3cp\x3e若将 \x3ccode\x3en =\x26gt; x(x)(n)\x3c\/code\x3e 替换为 \x3ccode\x3ex(x)\x3c\/code\x3e，将导致 Y 组合子中的 \x3ccode\x3ex(x)\x3c\/code\x3e 作为 \x3ccode\x3ey\x3c\/code\x3e 的参数被立即求值。  \x3cbr\x3e由于右边部分中 \x3ccode\x3ex(x)\x3c\/code\x3e 是一个无限递归的的式子，对它求值会使它不断地调用自身，最终导致堆栈溢出。\x3c\/p\x3e\n\x3cp\x3e只进行左边部分的替换并不会导致无限调用：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22Y = y =\x3e (x =\x3e y(n =\x3e x(x)(n)))(x =\x3e y(n =\x3e x(x)(n)));\n\n\/\/可化为\nY = y =\x3e (x =\x3e y(x(x))(x =\x3e y(n =\x3e x(x)(n)));\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3eY = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3ey\x3c\/span\x3e =\x26gt;\x3c\/span\x3e (\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3ex\x3c\/span\x3e =\x26gt;\x3c\/span\x3e y(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3en\x3c\/span\x3e =\x26gt;\x3c\/span\x3e x(x)(n)))(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3ex\x3c\/span\x3e =\x26gt;\x3c\/span\x3e y(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3en\x3c\/span\x3e =\x26gt;\x3c\/span\x3e x(x)(n)));\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/可化为\x3c\/span\x3e\nY = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3ey\x3c\/span\x3e =\x26gt;\x3c\/span\x3e (\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3ex\x3c\/span\x3e =\x26gt;\x3c\/span\x3e y(x(x))(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3ex\x3c\/span\x3e =\x26gt;\x3c\/span\x3e y(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3en\x3c\/span\x3e =\x26gt;\x3c\/span\x3e x(x)(n)));\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在计算这个式子时，会首先计算 参数 \x3ccode\x3ey\x3c\/code\x3e 的值  \x3cbr\x3e完成后在计算左边的 \x3ccode\x3ex(x)\x3c\/code\x3e 之前、会计算左边部分中 \x3ccode\x3ex\x3c\/code\x3e 参数的值  \x3cbr\x3e而左边式子中 \x3ccode\x3ex\x3c\/code\x3e 的值取决于右边部分的结果，右边返回值使左边的 \x3ccode\x3ex(x)\x3c\/code\x3e 不再是无限递归。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader9\x22\x3e四、总结\x3c\/h2\x3e\n\x3cp\x3e函数式编程的方法感觉着实有点烧脑，还没怎么实操过。\x3c\/p\x3e\n\x3cp\x3e不过 js 真是厉害，什么编程方法都能用...\x3c\/p\x3e\n\x3cp\x3e一直希望能够找到一种符合人们思考方式（至少符合我自己）的编程方法，让程序变得自然、易读、易写。不断尝试中。\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>Javascript 中 Y 组合子的推导</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000008212076">https://segmentfault.com/a/1190000008212076</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/13j072ppoyf/" target="_blank">https://alili.tech/archive/13j072ppoyf/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5x6tenwjeux/">ES6中的异步编程：Generators函数&#43;Promise:最强大的异步处理方式<aside class="dates">2019-01-31</aside></a></li><li><a href="/archive/nvtmua2a1hd/">GreenSock (TweenMax) 极简入门指南<aside class="dates">2019-01-31</aside></a></li><li><a href="/archive/7kt5s47oysx/">HTML5 中 canvas 的使用总结<aside class="dates">2019-01-31</aside></a></li><li><a href="/archive/41pgo3a2iyp/">JavaScript 开发者所需要知道的 V8（一）：V8 In NodeJS<aside class="dates">2019-01-31</aside></a></li><li><a href="/archive/krb1zm7x38j/">JavaScript 时间与日期处理实战:你肯定被坑过<aside class="dates">2019-01-31</aside></a></li><li><a href="/archive/yh2lq30d0x/">JavaScript中的各种宽高属性<aside class="dates">2019-01-31</aside></a></li><li><a href="/archive/eydwczesyv/">Muse UI — 基于 Vue2.0 的 Material Design UI 库<aside class="dates">2019-01-31</aside></a></li><li><a href="/archive/y62oejm8cr/">Nodejs基础：路径处理模块path总结<aside class="dates">2019-01-31</aside></a></li><li><a href="/archive/06cwh88ankmd/">PhantomJS &amp; NodeJS 在京东网站前端监控平台的最佳实践<aside class="dates">2019-01-31</aside></a></li><li><a href="/archive/z4ymvs0jz2h/">Promise 的链式调用与中止<aside class="dates">2019-01-31</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>