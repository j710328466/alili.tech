<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="Gulp--手把手教你搭建前端自动化平台"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>Gulp--手把手教你搭建前端自动化平台 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/s97kmmjn91/",
				"appid": "1613049289050283", 
				"title": "Gulp--手把手教你搭建前端自动化平台 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-06T02:30:10"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/o1al63hwi7t/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/87mbez8d2ry/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fs97kmmjn91%2f&text=Gulp--%e6%89%8b%e6%8a%8a%e6%89%8b%e6%95%99%e4%bd%a0%e6%90%ad%e5%bb%ba%e5%89%8d%e7%ab%af%e8%87%aa%e5%8a%a8%e5%8c%96%e5%b9%b3%e5%8f%b0"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fs97kmmjn91%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fs97kmmjn91%2f&text=Gulp--%e6%89%8b%e6%8a%8a%e6%89%8b%e6%95%99%e4%bd%a0%e6%90%ad%e5%bb%ba%e5%89%8d%e7%ab%af%e8%87%aa%e5%8a%a8%e5%8c%96%e5%b9%b3%e5%8f%b0"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fs97kmmjn91%2f&title=Gulp--%e6%89%8b%e6%8a%8a%e6%89%8b%e6%95%99%e4%bd%a0%e6%90%ad%e5%bb%ba%e5%89%8d%e7%ab%af%e8%87%aa%e5%8a%a8%e5%8c%96%e5%b9%b3%e5%8f%b0"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fs97kmmjn91%2f&is_video=false&description=Gulp--%e6%89%8b%e6%8a%8a%e6%89%8b%e6%95%99%e4%bd%a0%e6%90%ad%e5%bb%ba%e5%89%8d%e7%ab%af%e8%87%aa%e5%8a%a8%e5%8c%96%e5%b9%b3%e5%8f%b0"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=Gulp--%e6%89%8b%e6%8a%8a%e6%89%8b%e6%95%99%e4%bd%a0%e6%90%ad%e5%bb%ba%e5%89%8d%e7%ab%af%e8%87%aa%e5%8a%a8%e5%8c%96%e5%b9%b3%e5%8f%b0&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fs97kmmjn91%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fs97kmmjn91%2f&title=Gulp--%e6%89%8b%e6%8a%8a%e6%89%8b%e6%95%99%e4%bd%a0%e6%90%ad%e5%bb%ba%e5%89%8d%e7%ab%af%e8%87%aa%e5%8a%a8%e5%8c%96%e5%b9%b3%e5%8f%b0"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fs97kmmjn91%2f&title=Gulp--%e6%89%8b%e6%8a%8a%e6%89%8b%e6%95%99%e4%bd%a0%e6%90%ad%e5%bb%ba%e5%89%8d%e7%ab%af%e8%87%aa%e5%8a%a8%e5%8c%96%e5%b9%b3%e5%8f%b0"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fs97kmmjn91%2f&title=Gulp--%e6%89%8b%e6%8a%8a%e6%89%8b%e6%95%99%e4%bd%a0%e6%90%ad%e5%bb%ba%e5%89%8d%e7%ab%af%e8%87%aa%e5%8a%a8%e5%8c%96%e5%b9%b3%e5%8f%b0"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fs97kmmjn91%2f&title=Gulp--%e6%89%8b%e6%8a%8a%e6%89%8b%e6%95%99%e4%bd%a0%e6%90%ad%e5%bb%ba%e5%89%8d%e7%ab%af%e8%87%aa%e5%8a%a8%e5%8c%96%e5%b9%b3%e5%8f%b0"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">Gulp--手把手教你搭建前端自动化平台</h1><div class="meta"><div class="postdate"><time datetime="2019-01-06" itemprop="datePublished">2019-01-06</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e前端的发展真的是快，前几年还是刀耕火种的开个编辑器，几行html和js代码就能上浏览器跑了。现在呢？各种包，各种库，各种框架，各种编程范式。究其原因，就是我们高中社会课本中那句话\x3c\/p\x3e\n\x3cblockquote\x3e\x3cp\x3e人民日益增长的文质文化需求，同落后的社会生产之间的矛盾\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e想想也是，以前刀耕火种的编写页面效率非常低，而我国到目前为止网民的数量已经超过7亿了，可想而知对网页数量和多样化的需求巨大，那有什么方法来提高页面的生产效率呢？这就是我今天要讲的基于gulp平台的自动化生产平台。\x3cbr\x3egulp是啥？官方的解释是\x3ccode\x3e基于流的自动化构建工具\x3c\/code\x3e。好，那什么是流呢？这个流是从英语单词\x3ccode\x3estream\x3c\/code\x3e翻译过来的，不过还是不好理解。其实可以这么理解，流就是工厂的一个生产车间生产出来的半成品，一个个半成品在输送带上送往下一个加工车间的过程。把运动的半成品看成是数据，那么流动的数据就是流。唉！好难解释啊！还是看代码吧。我已经把代码上传到github了，需要的同学自取，麻烦点个小星星 \x3ca href=\x22https:\/\/github.com\/NicknameID\/gulp-flow\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/github.com\/NicknameID...\x3c\/a\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader0\x22\x3e1.依赖npm\x3c\/h3\x3e\n\x3cp\x3e由于npm在国内比较慢，所以推荐大家使用淘宝的cnpm，在国内访问比较快（搞不懂国家为什么立堵墙，难受）。\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000010428403\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000010428403\x22 alt=\x22安装cnpm\x22 title=\x22安装cnpm\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader1\x22\x3e2.cnpm init 初始化package.json文件\x3c\/h3\x3e\n\x3cul\x3e\x3cli\x3e\n\x3ccode\x3e-y\x3c\/code\x3e的作用可以跳过询问步骤直接生成默认的package.json文件\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000010428404\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000010428404\x22 alt=\x22初始化package.json\x22 title=\x22初始化package.json\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\n\x3c\/li\x3e\x3c\/ul\x3e\n\x3ch3 id=\x22articleHeader2\x22\x3e3.安装依赖包\x3c\/h3\x3e\n\x3cp\x3e由于依赖包太多了，就不一个一个写了 主要通过 \x3ccode\x3ecnpm install --save-dev 包的名字\x3c\/code\x3e的方式来安装的，\x3cbr\x3e下图所列的就是自动化工具要用的包，我已经上传到github上了\x3ca href=\x22https:\/\/github.com\/NicknameID\/gulp-flow\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e点击这里获取\x3c\/a\x3e，\x3cbr\x3e下载后只要 \x3ccode\x3ecnpm install\x3c\/code\x3e就可以了，就会根据package.json里的依赖去下载安装\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000010428405\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000010428405\x22 alt=\x22package.json文件中的开发依赖\x22 title=\x22package.json文件中的开发依赖\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e在package.json中添加gulp字段方便调用本地安装的gulp命令,到这里package.json配置好了\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000010428406\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000010428406\x22 alt=\x22添加gulp字段到package.json中\x22 title=\x22添加gulp字段到package.json中\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader3\x22\x3e4.gulpfile.js文件的内容（\x3cstrong\x3e重点\x3c\/strong\x3e）\x3c\/h3\x3e\n\x3cul\x3e\x3cli\x3e功能1---自动化生成项目目录\x3c\/li\x3e\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/gulpfile.js\n\/*首先在全局上加载gulp，这个很重要*\/\nconst gulp = require(\x27gulp\x27);\n\/*在全局上定义项目的目录结构，供应后面使用*\/\nconst dirs = {\n  dist:\x27.\/dist\x27,\n  src: \x27.\/src\x27,\n  css: \x27.\/src\/css\x27,\n  less: \x27.\/src\/less\x27,\n  js: \x27.\/src\/js\x27,\n  img: \x27.\/src\/img\x27,\n};\ngulp.task(\x27create-directory\x27, () =\x3e {\n  const mkdirp = require(\x27mkdirp\x27); \/\/这里要依赖mkdirp这个包，通过cnpm 安装\n  for (let i in dirs) {\n    mkdirp(dirs[i], err =\x3e {\n      err ? console.log(err) : console.log(\x27mkdir--\x3e\x27 \x2b dirs[i]);;\n    });\n  }\n});\n\/\/在终端运行cnpm run gulp create-directory\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs typescript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/gulpfile.js\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/*首先在全局上加载gulp，这个很重要*\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e gulp = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27gulp\x27\x3c\/span\x3e);\n\x3cspan class=\x22hljs-comment\x22\x3e\/*在全局上定义项目的目录结构，供应后面使用*\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e dirs = {\n  dist:\x3cspan class=\x22hljs-string\x22\x3e\x27.\/dist\x27\x3c\/span\x3e,\n  src: \x3cspan class=\x22hljs-string\x22\x3e\x27.\/src\x27\x3c\/span\x3e,\n  css: \x3cspan class=\x22hljs-string\x22\x3e\x27.\/src\/css\x27\x3c\/span\x3e,\n  less: \x3cspan class=\x22hljs-string\x22\x3e\x27.\/src\/less\x27\x3c\/span\x3e,\n  js: \x3cspan class=\x22hljs-string\x22\x3e\x27.\/src\/js\x27\x3c\/span\x3e,\n  img: \x3cspan class=\x22hljs-string\x22\x3e\x27.\/src\/img\x27\x3c\/span\x3e,\n};\ngulp.task(\x3cspan class=\x22hljs-string\x22\x3e\x27create-directory\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e mkdirp = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27mkdirp\x27\x3c\/span\x3e); \x3cspan class=\x22hljs-comment\x22\x3e\/\/这里要依赖mkdirp这个包，通过cnpm 安装\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e i \x3cspan class=\x22hljs-keyword\x22\x3ein\x3c\/span\x3e dirs) {\n    mkdirp(dirs[i], \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3eerr\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n      err ? \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(err) : \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27mkdir--\x26gt;\x27\x3c\/span\x3e \x2b dirs[i]);;\n    });\n  }\n});\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/在终端运行cnpm run gulp create-directory\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e生成需要生成的项目目录，再也不用每次都去手工创建了，幸福感爆棚有木有！！！\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000010428407\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000010428407\x22 alt=\x22CMD运行截图\x22 title=\x22CMD运行截图\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cul\x3e\x3cli\x3e功能2---编译less，并且实现less注入功能，热更新页面，方便开发时调试\x3cbr\x3e这个功能要依赖的插件有\x3c\/li\x3e\x3c\/ul\x3e\n\x3cp\x3e1.gulp-less\x3cbr\x3e2.browser-sync\x3cbr\x3e3.gulp-notify\x3cbr\x3e4.gulp-plumber\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/*全局定义要处理的文件*\/\nconst files = {\n  lessFiles: \x27.\/src\/less\/go.less\x27,\n  cssFiles: \x27.\/src\/css\/*.css\x27,\n  jsFiles: \x27.\/src\/js\/*.js\x27,\n  imgFiles:\x27.\/src\/img\/*.*\x27\n}\n\/\/编译less\ngulp.task(\x27compile-less\x27, () =\x3e {\nconst less = require(\x27gulp-less\x27); \/\/依赖gulp-less的插件\nconst notify = require(\x27gulp-notify\x27); \nconst plumber = require(\x27gulp-plumber\x27);\nconst browserSync = require(\x27browser-sync\x27).create(); \/\/browser-sync同步服务器\nconst reload = browserSync.reload; \/\/将browser-sync的reload方法存起来，方便调用\n  return gulp.src(files.lessFiles)\n  .pipe(plumber({ errorHandler: notify.onError(\x27Error: \x3c%= error.message %\x3e\x27) })) \/\/使用gulp-notify和gulp-plumber用来阻止因为less语法写错跳出监视程序发生\n  .pipe(less())\n  .pipe(gulp.dest(dirs.css \x2b \x27\/\x27))\n  .pipe(reload({stream: true}));\n});\n\n\/\/ 本地服务器功能，自动刷新（开发环境）\ngulp.task(\x27server\x27, [\x27compile-less\x27],()=\x3e{\nconst browserSync = require(\x27browser-sync\x27).create();\nconst reload = browserSync.reload;\n  browserSync.init({\n    server: \x27.\/\x27\n  });\n  gulp.watch(dirs.less\x2b\x27\/**\/*.less\x27, [\x27compile-less\x27]); \/\/监视less文件夹中的所有less文件，有改动就调用compile-less任务编译less\n  gulp.watch(\x27.\/*.html\x27).on(\x27change\x27, reload); \/\/监视html文件，有改动就刷新浏览器\n  gulp.watch(dirs.js\x2b\x27\/**\/*.js\x27).on(\x27change\x27, reload); \/\/监视所有js文件有改动就刷新浏览器\n});\n\/\/在cmd运行cnpm run gulp server\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs typescript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/*全局定义要处理的文件*\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e files = {\n  lessFiles: \x3cspan class=\x22hljs-string\x22\x3e\x27.\/src\/less\/go.less\x27\x3c\/span\x3e,\n  cssFiles: \x3cspan class=\x22hljs-string\x22\x3e\x27.\/src\/css\/*.css\x27\x3c\/span\x3e,\n  jsFiles: \x3cspan class=\x22hljs-string\x22\x3e\x27.\/src\/js\/*.js\x27\x3c\/span\x3e,\n  imgFiles:\x3cspan class=\x22hljs-string\x22\x3e\x27.\/src\/img\/*.*\x27\x3c\/span\x3e\n}\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/编译less\x3c\/span\x3e\ngulp.task(\x3cspan class=\x22hljs-string\x22\x3e\x27compile-less\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e less = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27gulp-less\x27\x3c\/span\x3e); \x3cspan class=\x22hljs-comment\x22\x3e\/\/依赖gulp-less的插件\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e notify = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27gulp-notify\x27\x3c\/span\x3e); \n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e plumber = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27gulp-plumber\x27\x3c\/span\x3e);\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e browserSync = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27browser-sync\x27\x3c\/span\x3e).create(); \x3cspan class=\x22hljs-comment\x22\x3e\/\/browser-sync同步服务器\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e reload = browserSync.reload; \x3cspan class=\x22hljs-comment\x22\x3e\/\/将browser-sync的reload方法存起来，方便调用\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e gulp.src(files.lessFiles)\n  .pipe(plumber({ errorHandler: notify.onError(\x3cspan class=\x22hljs-string\x22\x3e\x27Error: \x26lt;%= error.message %\x26gt;\x27\x3c\/span\x3e) })) \x3cspan class=\x22hljs-comment\x22\x3e\/\/使用gulp-notify和gulp-plumber用来阻止因为less语法写错跳出监视程序发生\x3c\/span\x3e\n  .pipe(less())\n  .pipe(gulp.dest(dirs.css \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27\/\x27\x3c\/span\x3e))\n  .pipe(reload({stream: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e}));\n});\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 本地服务器功能，自动刷新（开发环境）\x3c\/span\x3e\ngulp.task(\x3cspan class=\x22hljs-string\x22\x3e\x27server\x27\x3c\/span\x3e, [\x3cspan class=\x22hljs-string\x22\x3e\x27compile-less\x27\x3c\/span\x3e],\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e=\x26gt;\x3c\/span\x3e{\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e browserSync = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27browser-sync\x27\x3c\/span\x3e).create();\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e reload = browserSync.reload;\n  browserSync.init({\n    server: \x3cspan class=\x22hljs-string\x22\x3e\x27.\/\x27\x3c\/span\x3e\n  });\n  gulp.watch(dirs.less\x2b\x3cspan class=\x22hljs-string\x22\x3e\x27\/**\/*.less\x27\x3c\/span\x3e, [\x3cspan class=\x22hljs-string\x22\x3e\x27compile-less\x27\x3c\/span\x3e]); \x3cspan class=\x22hljs-comment\x22\x3e\/\/监视less文件夹中的所有less文件，有改动就调用compile-less任务编译less\x3c\/span\x3e\n  gulp.watch(\x3cspan class=\x22hljs-string\x22\x3e\x27.\/*.html\x27\x3c\/span\x3e).on(\x3cspan class=\x22hljs-string\x22\x3e\x27change\x27\x3c\/span\x3e, reload); \x3cspan class=\x22hljs-comment\x22\x3e\/\/监视html文件，有改动就刷新浏览器\x3c\/span\x3e\n  gulp.watch(dirs.js\x2b\x3cspan class=\x22hljs-string\x22\x3e\x27\/**\/*.js\x27\x3c\/span\x3e).on(\x3cspan class=\x22hljs-string\x22\x3e\x27change\x27\x3c\/span\x3e, reload); \x3cspan class=\x22hljs-comment\x22\x3e\/\/监视所有js文件有改动就刷新浏览器\x3c\/span\x3e\n});\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/在cmd运行cnpm run gulp server\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e可以看到程序正在后台运行，正在监听文件改动\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000010428408\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000010428408\x22 alt=\x22运行cnpm run gulp server结果\x22 title=\x22运行cnpm run gulp server结果\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e这样就可以左边开着编辑器写代码，右边开着浏览器看效果了，有木有很爽，人生别无他求了（感动中！！！）\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000010428409\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000010428409\x22 alt=\x22浏览器访问localhost:3000端口，实时加载\x22 title=\x22浏览器访问localhost:3000端口，实时加载\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cul\x3e\x3cli\x3e功能3---添加浏览器私有前缀\x3cbr\x3e要用到的插件包\x3c\/li\x3e\x3c\/ul\x3e\n\x3cp\x3e1.gulp-postcss\x3cbr\x3e2.gulp-sourcemaps\x3cbr\x3e3.autoprefixer\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/添加浏览器私有前缀（生产环境）\ngulp.task(\x27autoprefixer\x27, () =\x3e {\n  const postcss = require(\x27gulp-postcss\x27);\n  const sourcemaps = require(\x27gulp-sourcemaps\x27);\n  const autoprefixer = require(\x27autoprefixer\x27);\n  return gulp.src(files.cssFiles)\n    .pipe(sourcemaps.init()) \/\/添加sourcemap,方便调试\n    .pipe(postcss([ autoprefixer() ])) \/\/添加浏览器私有前缀，解决浏览器的兼容问题\n    .pipe(sourcemaps.write(\x27.\x27))\n    .pipe(gulp.dest(dirs.css\x2b\x27\/\x27))\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs typescript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/添加浏览器私有前缀（生产环境）\x3c\/span\x3e\ngulp.task(\x3cspan class=\x22hljs-string\x22\x3e\x27autoprefixer\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e postcss = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27gulp-postcss\x27\x3c\/span\x3e);\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e sourcemaps = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27gulp-sourcemaps\x27\x3c\/span\x3e);\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e autoprefixer = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27autoprefixer\x27\x3c\/span\x3e);\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e gulp.src(files.cssFiles)\n    .pipe(sourcemaps.init()) \x3cspan class=\x22hljs-comment\x22\x3e\/\/添加sourcemap,方便调试\x3c\/span\x3e\n    .pipe(postcss([ autoprefixer() ])) \x3cspan class=\x22hljs-comment\x22\x3e\/\/添加浏览器私有前缀，解决浏览器的兼容问题\x3c\/span\x3e\n    .pipe(sourcemaps.write(\x3cspan class=\x22hljs-string\x22\x3e\x27.\x27\x3c\/span\x3e))\n    .pipe(gulp.dest(dirs.css\x2b\x3cspan class=\x22hljs-string\x22\x3e\x27\/\x27\x3c\/span\x3e))\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3cul\x3e\x3cli\x3e功能4---压缩css\x3cbr\x3e要用到的插件包\x3c\/li\x3e\x3c\/ul\x3e\n\x3cp\x3e1.gulp-minify-css\x3cbr\x3e2.gulp-rename\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 压缩css(生产环境)\ngulp.task(\x27minify-css\x27, function () {\n  const minifyCSS = require(\x27gulp-minify-css\x27);\n  const rename = require(\x26quot;gulp-rename\x26quot;);\n  return gulp.src(dirs.css\x2b\x27\/**\/*.css\x27)\n    .pipe(minifyCSS({\/*keepBreaks: true*\/}))\n    .pipe(rename(path=\x3epath.basename \x2b= \x27.min\x27)) \/\/重命名文件输出后的样式为 原文件名.min.css\n    .pipe(gulp.dest(\x27.\/dist\/css\/\x27))\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 压缩css(生产环境)\x3c\/span\x3e\ngulp.task(\x3cspan class=\x22hljs-string\x22\x3e\x27minify-css\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e minifyCSS = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27gulp-minify-css\x27\x3c\/span\x3e);\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e rename = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x22gulp-rename\x22\x3c\/span\x3e);\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e gulp.src(dirs.css\x2b\x3cspan class=\x22hljs-string\x22\x3e\x27\/**\/*.css\x27\x3c\/span\x3e)\n    .pipe(minifyCSS({\x3cspan class=\x22hljs-comment\x22\x3e\/*keepBreaks: true*\/\x3c\/span\x3e}))\n    .pipe(rename(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3epath\x3c\/span\x3e=\x26gt;\x3c\/span\x3epath.basename \x2b= \x3cspan class=\x22hljs-string\x22\x3e\x27.min\x27\x3c\/span\x3e)) \x3cspan class=\x22hljs-comment\x22\x3e\/\/重命名文件输出后的样式为 原文件名.min.css\x3c\/span\x3e\n    .pipe(gulp.dest(\x3cspan class=\x22hljs-string\x22\x3e\x27.\/dist\/css\/\x27\x3c\/span\x3e))\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3cul\x3e\x3cli\x3e功能5---合并压缩JavaScript文件\x3cbr\x3e要用到的插件包\x3c\/li\x3e\x3c\/ul\x3e\n\x3cp\x3e1.gulp-concat\x3cbr\x3e2.gulp-uglify\x3cbr\x3e3.gulp-rename\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ js文件--合并--压缩(生产环境)\ngulp.task(\x27js-concat-compress\x27, (cb)=\x3e{\n  let name = \x27\x27; \/\/先定义一个变量将用于后面存文件名\n  const concat = require(\x27gulp-concat\x27);\n  const uglify = require(\x27gulp-uglify\x27);\n  const rename = require(\x26quot;gulp-rename\x26quot;);\n  return gulp.src(dirs.js\x2b\x27\/**\/*.js\x27)\n  .pipe(rename(path=\x3e{path.basename \x2b= \x27\x27;name=path.basename;}))\n  .pipe(concat(\x27bundle.js\x27))   \/\/合并js文件\n  .pipe(uglify())         \/\/压缩js文件\n  .pipe(rename(path=\x3e{\n    path.basename = name\x2b\x27.\x27\x2bpath.basename\x2b\x27.min\x27;  \/\/改文件名加上 .min\n  }))\n  .pipe(gulp.dest(\x27dist\/js\/\x27)); \n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs typescript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ js文件--合并--压缩(生产环境)\x3c\/span\x3e\ngulp.task(\x3cspan class=\x22hljs-string\x22\x3e\x27js-concat-compress\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3ecb\x3c\/span\x3e)=\x26gt;\x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e name = \x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e; \x3cspan class=\x22hljs-comment\x22\x3e\/\/先定义一个变量将用于后面存文件名\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e concat = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27gulp-concat\x27\x3c\/span\x3e);\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e uglify = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27gulp-uglify\x27\x3c\/span\x3e);\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e rename = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x22gulp-rename\x22\x3c\/span\x3e);\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e gulp.src(dirs.js\x2b\x3cspan class=\x22hljs-string\x22\x3e\x27\/**\/*.js\x27\x3c\/span\x3e)\n  .pipe(rename(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3epath\x3c\/span\x3e=\x26gt;\x3c\/span\x3e{path.basename \x2b= \x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e;name=path.basename;}))\n  .pipe(concat(\x3cspan class=\x22hljs-string\x22\x3e\x27bundle.js\x27\x3c\/span\x3e))   \x3cspan class=\x22hljs-comment\x22\x3e\/\/合并js文件\x3c\/span\x3e\n  .pipe(uglify())         \x3cspan class=\x22hljs-comment\x22\x3e\/\/压缩js文件\x3c\/span\x3e\n  .pipe(rename(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3epath\x3c\/span\x3e=\x26gt;\x3c\/span\x3e{\n    path.basename = name\x2b\x3cspan class=\x22hljs-string\x22\x3e\x27.\x27\x3c\/span\x3e\x2bpath.basename\x2b\x3cspan class=\x22hljs-string\x22\x3e\x27.min\x27\x3c\/span\x3e;  \x3cspan class=\x22hljs-comment\x22\x3e\/\/改文件名加上 .min\x3c\/span\x3e\n  }))\n  .pipe(gulp.dest(\x3cspan class=\x22hljs-string\x22\x3e\x27dist\/js\/\x27\x3c\/span\x3e)); \n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3cul\x3e\x3cli\x3e功能6---图片无损压缩\x3cbr\x3e要用到的插件包\x3c\/li\x3e\x3c\/ul\x3e\n\x3cp\x3e1.gulp-imagemin\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 图片无损压缩\ngulp.task(\x27img-handl\x27,()=\x3e{\n  const imagemin = require(\x27gulp-imagemin\x27);\n  return gulp.src(files.imgFiles)\n    .pipe(imagemin())  \/\/imagemin()里是可以写参数的，有需要的可以去github的页面看看\n    .pipe(gulp.dest(\x27.\/dist\/img\/\x27))\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs typescript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 图片无损压缩\x3c\/span\x3e\ngulp.task(\x3cspan class=\x22hljs-string\x22\x3e\x27img-handl\x27\x3c\/span\x3e,\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e=\x26gt;\x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e imagemin = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27gulp-imagemin\x27\x3c\/span\x3e);\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e gulp.src(files.imgFiles)\n    .pipe(imagemin())  \x3cspan class=\x22hljs-comment\x22\x3e\/\/imagemin()里是可以写参数的，有需要的可以去github的页面看看\x3c\/span\x3e\n    .pipe(gulp.dest(\x3cspan class=\x22hljs-string\x22\x3e\x27.\/dist\/img\/\x27\x3c\/span\x3e))\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3cul\x3e\x3cli\x3e功能7---项目的打包\x3cbr\x3e有时候我们做完东西需要打包，方便传输，而有些文件又是不需要打包进去的，比如说\x3ccode\x3enode_modules\x3c\/code\x3e文件夹，一键打包的快感体验过绝对会爱上的\x3c\/li\x3e\x3c\/ul\x3e\n\x3cp\x3e依赖的插件包\x3cbr\x3e1.gulp-zip\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 项目打包(生产环境)\ngulp.task(\x27zip\x27,()=\x3e{\n  const zip = require(\x27gulp-zip\x27);\n  return gulp.src([\x27.\/*.html\x27,\x27**\/dist\/**\/*.*\x27,\x27!**\/node_modules\/**\/*.*\x27]) \/\/这里需要注意的是，在写要打包的文件时，避免打包的文件不能写在开头，这里\x27!**\/node_modules\/**\/*.*\x27放在了最后\n  .pipe(zip(\x27project.zip\x27))   \/\/打包后的文件名，自己随意取\n  .pipe(gulp.dest(\x27.\/\x27))\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs typescript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 项目打包(生产环境)\x3c\/span\x3e\ngulp.task(\x3cspan class=\x22hljs-string\x22\x3e\x27zip\x27\x3c\/span\x3e,\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e=\x26gt;\x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e zip = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27gulp-zip\x27\x3c\/span\x3e);\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e gulp.src([\x3cspan class=\x22hljs-string\x22\x3e\x27.\/*.html\x27\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x27**\/dist\/**\/*.*\x27\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x27!**\/node_modules\/**\/*.*\x27\x3c\/span\x3e]) \x3cspan class=\x22hljs-comment\x22\x3e\/\/这里需要注意的是，在写要打包的文件时，避免打包的文件不能写在开头，这里\x27!**\/node_modules\/**\/*.*\x27放在了最后\x3c\/span\x3e\n  .pipe(zip(\x3cspan class=\x22hljs-string\x22\x3e\x27project.zip\x27\x3c\/span\x3e))   \x3cspan class=\x22hljs-comment\x22\x3e\/\/打包后的文件名，自己随意取\x3c\/span\x3e\n  .pipe(gulp.dest(\x3cspan class=\x22hljs-string\x22\x3e\x27.\/\x27\x3c\/span\x3e))\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader4\x22\x3e5.整理任务执行，方便调用任务\x3c\/h3\x3e\n\x3cp\x3e因为gulp执行任务时是以最大的任务并发数同时进行的，所以有时候我们需要按步骤进行，就需要插件\x3ccode\x3egulp-sequence\x3c\/code\x3e，将任务按顺序写入，就会按顺序执行\x3cbr\x3e写了这么多功能模块，需要好好的整理一下，方便调用。我已经把完整的代码上传到github了，需要的同学自取，麻烦点个小星星 \x3ca href=\x22https:\/\/github.com\/NicknameID\/gulp-flow\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/github.com\/NicknameID...\x3c\/a\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ ------------------开发阶段命令----------------------------------------------------\ngulp.task(\x27start\x27, [\x27create-directory\x27]); \/\/项目初始化的第一个命令\ngulp.task(\x27dev-watch\x27, [\x27server\x27]); \/\/开始编写项目后开启服务器实时更新\n\n\/\/ ------------------生产阶段命令------------------------------------------------------\ngulp.task(\x27prefixer\x27, [\x27autoprefixer\x27]); \/\/给css文件添加浏览器私有前缀 files.cssFiles ==\x3e\x3e .src\/css\/\ngulp.task(\x27min-css\x27, [\x27minify-css\x27]); \/\/压缩css文件 files.cssFiles ==\x3e\x3e dist\/css\/\ngulp.task(\x27js-handl\x27, [\x27js-concat-compress\x27]); \/\/合js文件  dirs.js\/**\/*.js ==\x3e\x3e .\/dist\/js\/concated.js\ngulp.task(\x27img-handl\x27, [\x27img-handl\x27]) \/\/处理图片，对图片进行无损的压缩\n\n\/\/----------------一键生成项目文件命令-----------------------------------------------\n       \/\/因为gulp执行任务时是以最大的任务并发数同时进行的，所以有时候我们需要按步骤进行，就需要插件`gulp-sequence`，将任务按顺序写入，就会按顺序执行\nconst runSequence = require(\x27gulp-sequence\x27).use(gulp);\ngulp.task(\x27bunld-project\x27,runSequence(\x27clean-dist\x27,\x27compile-less\x27,\x27autoprefixer\x27,\x27minify-css\x27,\x27js-concat-compress\x27,\x27img-handl\x27,\x27zip\x27))\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs gradle\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ ------------------开发阶段命令----------------------------------------------------\x3c\/span\x3e\ngulp.\x3cspan class=\x22hljs-keyword\x22\x3etask\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27start\x27\x3c\/span\x3e, [\x3cspan class=\x22hljs-string\x22\x3e\x27create-directory\x27\x3c\/span\x3e]); \x3cspan class=\x22hljs-comment\x22\x3e\/\/项目初始化的第一个命令\x3c\/span\x3e\ngulp.\x3cspan class=\x22hljs-keyword\x22\x3etask\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27dev-watch\x27\x3c\/span\x3e, [\x3cspan class=\x22hljs-string\x22\x3e\x27server\x27\x3c\/span\x3e]); \x3cspan class=\x22hljs-comment\x22\x3e\/\/开始编写项目后开启服务器实时更新\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ ------------------生产阶段命令------------------------------------------------------\x3c\/span\x3e\ngulp.\x3cspan class=\x22hljs-keyword\x22\x3etask\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27prefixer\x27\x3c\/span\x3e, [\x3cspan class=\x22hljs-string\x22\x3e\x27autoprefixer\x27\x3c\/span\x3e]); \x3cspan class=\x22hljs-comment\x22\x3e\/\/给css文件添加浏览器私有前缀 files.cssFiles ==\x26gt;\x26gt; .src\/css\/\x3c\/span\x3e\ngulp.\x3cspan class=\x22hljs-keyword\x22\x3etask\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27min-css\x27\x3c\/span\x3e, [\x3cspan class=\x22hljs-string\x22\x3e\x27minify-css\x27\x3c\/span\x3e]); \x3cspan class=\x22hljs-comment\x22\x3e\/\/压缩css文件 files.cssFiles ==\x26gt;\x26gt; dist\/css\/\x3c\/span\x3e\ngulp.\x3cspan class=\x22hljs-keyword\x22\x3etask\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27js-handl\x27\x3c\/span\x3e, [\x3cspan class=\x22hljs-string\x22\x3e\x27js-concat-compress\x27\x3c\/span\x3e]); \x3cspan class=\x22hljs-comment\x22\x3e\/\/合js文件  dirs.js\/**\/*.js ==\x26gt;\x26gt; .\/dist\/js\/concated.js\x3c\/span\x3e\ngulp.\x3cspan class=\x22hljs-keyword\x22\x3etask\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27img-handl\x27\x3c\/span\x3e, [\x3cspan class=\x22hljs-string\x22\x3e\x27img-handl\x27\x3c\/span\x3e]) \x3cspan class=\x22hljs-comment\x22\x3e\/\/处理图片，对图片进行无损的压缩\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/----------------一键生成项目文件命令-----------------------------------------------\x3c\/span\x3e\n       \x3cspan class=\x22hljs-comment\x22\x3e\/\/因为gulp执行任务时是以最大的任务并发数同时进行的，所以有时候我们需要按步骤进行，就需要插件`gulp-sequence`，将任务按顺序写入，就会按顺序执行\x3c\/span\x3e\nconst runSequence = require(\x3cspan class=\x22hljs-string\x22\x3e\x27gulp-sequence\x27\x3c\/span\x3e).use(gulp);\ngulp.\x3cspan class=\x22hljs-keyword\x22\x3etask\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27bunld-project\x27\x3c\/span\x3e,runSequence(\x3cspan class=\x22hljs-string\x22\x3e\x27clean-dist\x27\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x27compile-less\x27\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x27autoprefixer\x27\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x27minify-css\x27\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x27js-concat-compress\x27\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x27img-handl\x27\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x27zip\x27\x3c\/span\x3e))\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader5\x22\x3e6.小结\x3c\/h3\x3e\n\x3cp\x3e看到没有，使用gulp其实并没有用到很多本身的API，都是通过不同的插件来实现的处理过程，所以gulp更加像一个处理平台，而非大包大揽的处理程序，他只负责数据的流向，从pipe(管道)的这头流向另外一头，剩下的事情就交给各个插件了，像不像现代社会的细化分工。分工明确才能提高效率，这是社会发展的经验总结。文章有点长，感谢看完的小伙伴！！！\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>Gulp&ndash;手把手教你搭建前端自动化平台</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000010428396">https://segmentfault.com/a/1190000010428396</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/s97kmmjn91/" target="_blank">https://alili.tech/archive/s97kmmjn91/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/z09muaar7j/">2年前端应该会哪些技能<aside class="dates">2019-02-01</aside></a></li><li><a href="/archive/ke982v6qrfg/">CSS 性能优化笔记<aside class="dates">2019-02-01</aside></a></li><li><a href="/archive/if1i2hs28ah/">H5打造3d场景不完全攻略（二）: Amazing CSS3D<aside class="dates">2019-02-01</aside></a></li><li><a href="/archive/s4apghsr7o/">JS原生一步步实现前端路由和单页面应用<aside class="dates">2019-02-01</aside></a></li><li><a href="/archive/hjgkntbgqek/">JavaScript 中对大量数据的多重过滤<aside class="dates">2019-02-01</aside></a></li><li><a href="/archive/h1hfvr2a2nj/">JavaScript 中的错误处理机制<aside class="dates">2019-02-01</aside></a></li><li><a href="/archive/a0ukpm125gm/">JavaScript 数组分组的实现<aside class="dates">2019-02-01</aside></a></li><li><a href="/archive/fwosouhbhmj/">JavaScript 类型转换深度学习<aside class="dates">2019-02-01</aside></a></li><li><a href="/archive/z193p9xv2p/">JavaScript设计模式之发布-订阅模式（观察者模式）-Part1<aside class="dates">2019-02-01</aside></a></li><li><a href="/archive/6i7sr0vgkxm/">Javascript中的时间<aside class="dates">2019-02-01</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>