<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="手把手和你用原生JS写一个循环播放图片轮播"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>手把手和你用原生JS写一个循环播放图片轮播 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/51k4yv5r5l4/",
				"appid": "1613049289050283", 
				"title": "手把手和你用原生JS写一个循环播放图片轮播 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-13T02:30:11"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/yqxhk7uyws/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/q1zxeb4o9eh/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2f51k4yv5r5l4%2f&text=%e6%89%8b%e6%8a%8a%e6%89%8b%e5%92%8c%e4%bd%a0%e7%94%a8%e5%8e%9f%e7%94%9fJS%e5%86%99%e4%b8%80%e4%b8%aa%e5%be%aa%e7%8e%af%e6%92%ad%e6%94%be%e5%9b%be%e7%89%87%e8%bd%ae%e6%92%ad"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2f51k4yv5r5l4%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2f51k4yv5r5l4%2f&text=%e6%89%8b%e6%8a%8a%e6%89%8b%e5%92%8c%e4%bd%a0%e7%94%a8%e5%8e%9f%e7%94%9fJS%e5%86%99%e4%b8%80%e4%b8%aa%e5%be%aa%e7%8e%af%e6%92%ad%e6%94%be%e5%9b%be%e7%89%87%e8%bd%ae%e6%92%ad"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2f51k4yv5r5l4%2f&title=%e6%89%8b%e6%8a%8a%e6%89%8b%e5%92%8c%e4%bd%a0%e7%94%a8%e5%8e%9f%e7%94%9fJS%e5%86%99%e4%b8%80%e4%b8%aa%e5%be%aa%e7%8e%af%e6%92%ad%e6%94%be%e5%9b%be%e7%89%87%e8%bd%ae%e6%92%ad"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2f51k4yv5r5l4%2f&is_video=false&description=%e6%89%8b%e6%8a%8a%e6%89%8b%e5%92%8c%e4%bd%a0%e7%94%a8%e5%8e%9f%e7%94%9fJS%e5%86%99%e4%b8%80%e4%b8%aa%e5%be%aa%e7%8e%af%e6%92%ad%e6%94%be%e5%9b%be%e7%89%87%e8%bd%ae%e6%92%ad"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e6%89%8b%e6%8a%8a%e6%89%8b%e5%92%8c%e4%bd%a0%e7%94%a8%e5%8e%9f%e7%94%9fJS%e5%86%99%e4%b8%80%e4%b8%aa%e5%be%aa%e7%8e%af%e6%92%ad%e6%94%be%e5%9b%be%e7%89%87%e8%bd%ae%e6%92%ad&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2f51k4yv5r5l4%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2f51k4yv5r5l4%2f&title=%e6%89%8b%e6%8a%8a%e6%89%8b%e5%92%8c%e4%bd%a0%e7%94%a8%e5%8e%9f%e7%94%9fJS%e5%86%99%e4%b8%80%e4%b8%aa%e5%be%aa%e7%8e%af%e6%92%ad%e6%94%be%e5%9b%be%e7%89%87%e8%bd%ae%e6%92%ad"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f51k4yv5r5l4%2f&title=%e6%89%8b%e6%8a%8a%e6%89%8b%e5%92%8c%e4%bd%a0%e7%94%a8%e5%8e%9f%e7%94%9fJS%e5%86%99%e4%b8%80%e4%b8%aa%e5%be%aa%e7%8e%af%e6%92%ad%e6%94%be%e5%9b%be%e7%89%87%e8%bd%ae%e6%92%ad"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f51k4yv5r5l4%2f&title=%e6%89%8b%e6%8a%8a%e6%89%8b%e5%92%8c%e4%bd%a0%e7%94%a8%e5%8e%9f%e7%94%9fJS%e5%86%99%e4%b8%80%e4%b8%aa%e5%be%aa%e7%8e%af%e6%92%ad%e6%94%be%e5%9b%be%e7%89%87%e8%bd%ae%e6%92%ad"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f51k4yv5r5l4%2f&title=%e6%89%8b%e6%8a%8a%e6%89%8b%e5%92%8c%e4%bd%a0%e7%94%a8%e5%8e%9f%e7%94%9fJS%e5%86%99%e4%b8%80%e4%b8%aa%e5%be%aa%e7%8e%af%e6%92%ad%e6%94%be%e5%9b%be%e7%89%87%e8%bd%ae%e6%92%ad"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">手把手和你用原生JS写一个循环播放图片轮播</h1><div class="meta"><div class="postdate"><time datetime="2019-01-13" itemprop="datePublished">2019-01-13</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e前段时间学习了淘宝首页的静态页面，其中收获较大的的就是这个\x3cstrong\x3e循环\x3c\/strong\x3e播放的图片轮播组件，本文就将相关制作经验分享给大家。\x3c\/p\x3e\n\x3cp\x3e先看看在线DEMO：\x3ca href=\x22http:\/\/juniortour.net\/demo\/standard-js-carousel\/standard-js-carousel.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e原生JS循环播放图片轮播组件\x3c\/a\x3e\x26nbsp;（支持IE8\x2b，\x3cstrong\x3e本文中的在线demo均未经过压缩，可以直接在浏览器中调试\x3c\/strong\x3e）\x3c\/p\x3e\n\x3cp\x3e以及GitHub仓库地址及完整代码：\x3ca href=\x22https:\/\/github.com\/JuniorTour\/simple-standard-js-carousel\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eJuniorTour\/simple-standard-js-carousel\x3c\/a\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader0\x22\x3e一、思路讲解:\x3c\/h3\x3e\n\x3ch4\x3e1.先说基本的非循环无过渡图片轮播：\x3c\/h4\x3e\n\x3cp\x3e这个思路还是很简单的，通过观察一些图片轮播就可以发现，图片轮播一般是以一个尺寸较小的父元素作为窗口，包裹住一组较长的长条状的项目（item）子元素，再利用\x3ccode\x3e\x26nbsp;overflow: hidden; \x3c\/code\x3e，将父元素作为“窗口”，只显示出的项目子元素的一部分，并通过改变项目子元素的定位或translate3d属性，实现多张图片项目动态播放。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e基本原理可以参考这个demo：\x3ca href=\x22http:\/\/juniortour.net\/demo\/standard-js-carousel\/basic-theory-demonstration.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e图片轮播基本原理演示\x3c\/a\x3e\x3c\/strong\x3e\x3c\/p\x3e\n\x3ch4\x3e2.比较有意思的其实是\x3cstrong\x3e循环\x3c\/strong\x3e的功能：\x3c\/h4\x3e\n\x3cp\x3e但是这样简单的轮播是不会循环播放的，也就是说当一轮图片项目（item）播放到结尾；或者当在第一张图（第一个项目）继续向前时，就会超出内容子元素，出现空白部分，这一般不是我们想要的结果。\x3c\/p\x3e\n\x3cp\x3e有多种思路可以实现循环播放，我观察到淘宝网首页的图片轮播是这样的思路：\x3c\/p\x3e\n\x3cblockquote\x3e\x3cp\x3e复制开头和结尾的项目，并分别放在开头和结尾，当播放到开头或结尾的项目，继续播放，需要循环时，临时取消transition属性，并立即用定位跳转至相应的真正的开头或结尾之后，再恢复原来的transition，继续正常滚动播放，从而利用视觉上的“欺骗”，实现带有过渡效果的循环播放。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e\x3cstrong\x3e相应的原理可以参考这个demo：\x3ca href=\x22http:\/\/juniortour.net\/demo\/standard-js-carousel\/loop-theory-demonstration.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e图片轮播循环原理演示\x3c\/a\x3e\x3c\/strong\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader1\x22\x3e二、HTML标记部分\x3c\/h3\x3e\n\x3cp\x3e核心理念是简洁、语义化。这部分因为我学过bootstrap框架所以借鉴了\x3ca href=\x22http:\/\/v3.bootcss.com\/javascript\/#carousel\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ebootstrap的HTML标记结构\x3c\/a\x3e。\x3c\/p\x3e\n\x3cp\x3e整体结构为：\x3c\/p\x3e\n\x3cp\x3e外层的\x3ccode\x3e.carousel-wrapper\x3c\/code\x3e包裹着轮播的三个主要部分，分别是：\x3c\/p\x3e\n\x3cp\x3e\x3ccode\x3e.carousel-item-wrapper\x3c\/code\x3e：项目内容部分（作为演示，本文中的demo使用a标签代替了图片，大家可以自行尝试替换为图片；同时添加了文字序号标记，以便于观察理解，\x3cstrong\x3e尤其要注意两个复制的开头和结尾项目copy-1和copy-5）\x3c\/strong\x3e。\x3c\/p\x3e\n\x3cp\x3e\x3ccode\x3e.carousel-control-wrapper\x3c\/code\x3e：控制按钮部分，即两个用于控制左右移动的按钮。\x3c\/p\x3e\n\x3cp\x3e\x3ccode\x3e.carousel-index-wrapper\x3c\/code\x3e：索引按钮部分，即图片轮播中的那一排“小圆点”。为了便于用JS操控，我添加了id作为“钩子”。而bootstrap在这里用的是自定义的data属性。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cdiv class=\x26quot;carousel-wrapper\x26quot;\x3e\n    \x3cdiv class=\x26quot;carousel-item-wrapper\x26quot; style=\x26quot;left: -520px;\x26quot;\x3e\n        \x3cdiv class=\x26quot;carousel-item\x26quot;\x3e\n            \x3ca href=\x26quot;#\x26quot;\x3e\n                \x3c!--作为演示，用a标签代替了图片。--\x3e\n                \x3c!--\x3cimg src=\x26quot;img\/carousel-img-5\x26quot; alt=\x26quot;\x26quot;\x3e--\x3e\n            \x3c\/a\x3e\n            \x3cdiv class=\x26quot;carousel-index-mark\x26quot;\x3e\n                copy-5\n            \x3c\/div\x3e\n        \x3c\/div\x3e\n        \x3cdiv class=\x26quot;carousel-item\x26quot;\x3e\n            \x3ca href=\x26quot;#\x26quot;\x3e\n                \x3c!--\x3cimg src=\x26quot;img\/carousel-img-1\x26quot; alt=\x26quot;\x26quot;\x3e--\x3e\n            \x3c\/a\x3e\n            \x3cdiv class=\x26quot;carousel-index-mark\x26quot;\x3e\n                1\n            \x3c\/div\x3e\n        \x3c\/div\x3e\n        \x3cdiv class=\x26quot;carousel-item\x26quot;\x3e\n            \x3ca href=\x26quot;#\x26quot;\x3e\n                \x3c!--\x3cimg src=\x26quot;img\/carousel-img-2\x26quot; alt=\x26quot;\x26quot;\x3e--\x3e\n            \x3c\/a\x3e\n            \x3cdiv class=\x26quot;carousel-index-mark\x26quot;\x3e\n                2\n            \x3c\/div\x3e\n        \x3c\/div\x3e\n        \x3cdiv class=\x26quot;carousel-item\x26quot;\x3e\n            \x3ca href=\x26quot;#\x26quot;\x3e\n                \x3c!--\x3cimg src=\x26quot;img\/carousel-img-3\x26quot; alt=\x26quot;\x26quot;\x3e--\x3e\n            \x3c\/a\x3e\n            \x3cdiv class=\x26quot;carousel-index-mark\x26quot;\x3e\n                3\n            \x3c\/div\x3e\n        \x3c\/div\x3e\n        \x3cdiv class=\x26quot;carousel-item\x26quot;\x3e\n            \x3ca href=\x26quot;#\x26quot;\x3e\n                \x3c!--\x3cimg src=\x26quot;img\/carousel-img-4\x26quot; alt=\x26quot;\x26quot;\x3e--\x3e\n            \x3c\/a\x3e\n            \x3cdiv class=\x26quot;carousel-index-mark\x26quot;\x3e\n                4\n            \x3c\/div\x3e\n        \x3c\/div\x3e\n        \x3cdiv class=\x26quot;carousel-item\x26quot;\x3e\n            \x3ca href=\x26quot;#\x26quot;\x3e\n                \x3c!--\x3cimg src=\x26quot;img\/carousel-img-5\x26quot; alt=\x26quot;\x26quot;\x3e--\x3e\n            \x3c\/a\x3e\n            \x3cdiv class=\x26quot;carousel-index-mark\x26quot;\x3e\n                5\n            \x3c\/div\x3e\n        \x3c\/div\x3e\n        \x3cdiv class=\x26quot;carousel-item\x26quot;\x3e\n            \x3ca href=\x26quot;#\x26quot;\x3e\n                \x3c!--\x3cimg src=\x26quot;img\/carousel-img-1\x26quot; alt=\x26quot;\x26quot;\x3e--\x3e\n            \x3c\/a\x3e\n            \x3cdiv class=\x26quot;carousel-index-mark\x26quot;\x3e\n                copy-1\n            \x3c\/div\x3e\n        \x3c\/div\x3e\n    \x3c\/div\x3e\n    \x3cdiv class=\x26quot;carousel-control-wrapper\x26quot;\x3e\n        \x3cbutton id=\x26quot;prev\x26quot;\x3e\n            \x3c!--prev--\x3e\n            \x3ci\x3e\x26amp;lt;\x3c\/i\x3e\n        \x3c\/button\x3e\n        \x3cbutton id=\x26quot;next\x26quot;\x3e\n            \x3c!--next--\x3e\n            \x3ci\x3e\x26amp;gt;\x3c\/i\x3e\n        \x3c\/button\x3e\n    \x3c\/div\x3e\n    \x3cdiv class=\x26quot;carousel-index-wrapper\x26quot;\x3e\n        \x3cul\x3e\n            \x3cli class=\x26quot;carousel-index-btn active-carousel-index-btn\x26quot; id=\x26quot;carousel-to-1\x26quot;\x3ecarousel-index-1\x3c\/li\x3e\n            \x3cli class=\x26quot;carousel-index-btn\x26quot; id=\x26quot;carousel-to-2\x26quot;\x3ecarousel-index-2\x3c\/li\x3e\n            \x3cli class=\x26quot;carousel-index-btn\x26quot; id=\x26quot;carousel-to-3\x26quot;\x3ecarousel-index-3\x3c\/li\x3e\n            \x3cli class=\x26quot;carousel-index-btn\x26quot; id=\x26quot;carousel-to-4\x26quot;\x3ecarousel-index-4\x3c\/li\x3e\n            \x3cli class=\x26quot;carousel-index-btn\x26quot; id=\x26quot;carousel-to-5\x26quot;\x3ecarousel-index-5\x3c\/li\x3e\n        \x3c\/ul\x3e\n    \x3c\/div\x3e\n\x3c\/div\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22xml hljs\x22\x3e\x3ccode class=\x22html\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22carousel-wrapper\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22carousel-item-wrapper\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3estyle\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22left: -520px;\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22carousel-item\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ehref\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22#\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                \x3cspan class=\x22hljs-comment\x22\x3e\x26lt;!--作为演示，用a标签代替了图片。--\x26gt;\x3c\/span\x3e\n                \x3cspan class=\x22hljs-comment\x22\x3e\x26lt;!--\x26lt;img src=\x22img\/carousel-img-5\x22 alt=\x22\x22\x26gt;--\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22carousel-index-mark\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                copy-5\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22carousel-item\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ehref\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22#\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                \x3cspan class=\x22hljs-comment\x22\x3e\x26lt;!--\x26lt;img src=\x22img\/carousel-img-1\x22 alt=\x22\x22\x26gt;--\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22carousel-index-mark\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                1\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22carousel-item\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ehref\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22#\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                \x3cspan class=\x22hljs-comment\x22\x3e\x26lt;!--\x26lt;img src=\x22img\/carousel-img-2\x22 alt=\x22\x22\x26gt;--\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22carousel-index-mark\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                2\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22carousel-item\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ehref\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22#\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                \x3cspan class=\x22hljs-comment\x22\x3e\x26lt;!--\x26lt;img src=\x22img\/carousel-img-3\x22 alt=\x22\x22\x26gt;--\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22carousel-index-mark\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                3\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22carousel-item\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ehref\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22#\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                \x3cspan class=\x22hljs-comment\x22\x3e\x26lt;!--\x26lt;img src=\x22img\/carousel-img-4\x22 alt=\x22\x22\x26gt;--\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22carousel-index-mark\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                4\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22carousel-item\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ehref\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22#\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                \x3cspan class=\x22hljs-comment\x22\x3e\x26lt;!--\x26lt;img src=\x22img\/carousel-img-5\x22 alt=\x22\x22\x26gt;--\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22carousel-index-mark\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                5\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22carousel-item\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ehref\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22#\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                \x3cspan class=\x22hljs-comment\x22\x3e\x26lt;!--\x26lt;img src=\x22img\/carousel-img-1\x22 alt=\x22\x22\x26gt;--\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22carousel-index-mark\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                copy-1\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22carousel-control-wrapper\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ebutton\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22prev\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-comment\x22\x3e\x26lt;!--prev--\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ei\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x26amp;lt;\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ei\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ebutton\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ebutton\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22next\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-comment\x22\x3e\x26lt;!--next--\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ei\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x26amp;gt;\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ei\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ebutton\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22carousel-index-wrapper\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eul\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22carousel-index-btn active-carousel-index-btn\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22carousel-to-1\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3ecarousel-index-1\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22carousel-index-btn\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22carousel-to-2\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3ecarousel-index-2\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22carousel-index-btn\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22carousel-to-3\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3ecarousel-index-3\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22carousel-index-btn\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22carousel-to-4\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3ecarousel-index-4\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22carousel-index-btn\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22carousel-to-5\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3ecarousel-index-5\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eul\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader2\x22\x3e三、CSS样式部分\x3c\/h3\x3e\n\x3cp\x3e总的来说比较简单，重要的地方我加上了注释，有存疑的地方，欢迎和我交流。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22    \/*reset*\/\n    * {\n        border: none;\n        padding: 0;\n        margin: 0;\n    }\n    button {\n        outline: none;\n    }\n    li {\n        list-style: none;\n    }\n\n    .carousel-wrapper {\n        width:520px;\n        height:280px;\n        overflow: hidden;   \/*关键*\/\n        position: relative;\n        margin: 100px auto;\n    }\n    .carousel-item-wrapper {\n        width:3640px;\n        height:280px;\n        position: absolute;\n        top: 0;\n        left: -520px;\n        transition: left .2s ease-in;\n    }\n    .carousel-item a {\n        display: block;\n        background-color: red;\n        width:520px;\n        height: 280px;\n    }\n\n    \/*使用不同背景色的a替代图片。*\/\n    .carousel-item:nth-child(1) a {\n        background-color: rgb(129,194,214);\n        \/*第五张图片的复制*\/\n    }\n    .carousel-item:nth-child(2) a {\n        background-color: rgb(129,146,214);\n    }\n    .carousel-item:nth-child(3) a {\n        background-color: rgb(217,179,230);\n    }\n    .carousel-item:nth-child(4) a {\n        background-color: rgb(220,247,161);\n    }\n    .carousel-item:nth-child(5) a {\n        background-color: rgb(131,252,216);\n    }\n    .carousel-item:nth-child(6) a {\n        background-color: rgb(129,194,214);\n    }\n    .carousel-item:nth-child(7) a {\n        background-color: rgb(129,146,214);\n        \/*第一张图片的复制*\/\n    }\n\n    .carousel-item {\n        float: left;\n    }\n    .carousel-index-mark {\n        font-size:60px;\n        color: black;\n        position: absolute;\n        top: 0;\n    }\n    .carousel-control-wrapper {\n        transition: all .2s;\n    }\n    .carousel-wrapper:hover button {\n        display: block;\n    }\n    .carousel-control-wrapper button {\n        transition: all .2s linear;\n        display: none;\n        width:24px;\n        height:36px;\n        line-height:36px;\n        background-color: rgba(0,0,0,.3);\n        color: #fff;\n        position: absolute;\n        top: 50%;\n        cursor: pointer;\n    }\n    button#prev {\n        left:0;\n    }\n    button#next {\n        right:0;\n    }\n    button i {\n        font-size: 18px;\n    }\n    .carousel-index-wrapper {\n        width:65px;\n        height:13px;\n        overflow: hidden;\n        position: absolute;\n        bottom:15px;\n        left:50%;\n        margin-left: -33px;\n    }\n    .carousel-index-btn {\n        width:9px;\n        height:9px;\n        float: left;\n        margin:2px;\n        background-color: #b7b7b7;\n        border-radius: 50%;\n        text-indent: -999em;\n        \/*这个-999em的文字对齐声明有助于增强可访问性。*\/\n        cursor: pointer;\n    }\n    .active-carousel-index-btn {\n        background-color: #f44103;\n    }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22css hljs\x22\x3e\x3ccode class=\x22css\x22\x3e    \x3cspan class=\x22hljs-comment\x22\x3e\/*reset*\/\x3c\/span\x3e\n    * {\n        \x3cspan class=\x22hljs-attribute\x22\x3eborder\x3c\/span\x3e: none;\n        \x3cspan class=\x22hljs-attribute\x22\x3epadding\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n        \x3cspan class=\x22hljs-attribute\x22\x3emargin\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n    }\n    \x3cspan class=\x22hljs-selector-tag\x22\x3ebutton\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-attribute\x22\x3eoutline\x3c\/span\x3e: none;\n    }\n    \x3cspan class=\x22hljs-selector-tag\x22\x3eli\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-attribute\x22\x3elist-style\x3c\/span\x3e: none;\n    }\n\n    \x3cspan class=\x22hljs-selector-class\x22\x3e.carousel-wrapper\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-attribute\x22\x3ewidth\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e520px\x3c\/span\x3e;\n        \x3cspan class=\x22hljs-attribute\x22\x3eheight\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e280px\x3c\/span\x3e;\n        \x3cspan class=\x22hljs-attribute\x22\x3eoverflow\x3c\/span\x3e: hidden;   \x3cspan class=\x22hljs-comment\x22\x3e\/*关键*\/\x3c\/span\x3e\n        \x3cspan class=\x22hljs-attribute\x22\x3eposition\x3c\/span\x3e: relative;\n        \x3cspan class=\x22hljs-attribute\x22\x3emargin\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e100px\x3c\/span\x3e auto;\n    }\n    \x3cspan class=\x22hljs-selector-class\x22\x3e.carousel-item-wrapper\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-attribute\x22\x3ewidth\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e3640px\x3c\/span\x3e;\n        \x3cspan class=\x22hljs-attribute\x22\x3eheight\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e280px\x3c\/span\x3e;\n        \x3cspan class=\x22hljs-attribute\x22\x3eposition\x3c\/span\x3e: absolute;\n        \x3cspan class=\x22hljs-attribute\x22\x3etop\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n        \x3cspan class=\x22hljs-attribute\x22\x3eleft\x3c\/span\x3e: -\x3cspan class=\x22hljs-number\x22\x3e520px\x3c\/span\x3e;\n        \x3cspan class=\x22hljs-attribute\x22\x3etransition\x3c\/span\x3e: left .\x3cspan class=\x22hljs-number\x22\x3e2s\x3c\/span\x3e ease-in;\n    }\n    \x3cspan class=\x22hljs-selector-class\x22\x3e.carousel-item\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3ea\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-attribute\x22\x3edisplay\x3c\/span\x3e: block;\n        \x3cspan class=\x22hljs-attribute\x22\x3ebackground-color\x3c\/span\x3e: red;\n        \x3cspan class=\x22hljs-attribute\x22\x3ewidth\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e520px\x3c\/span\x3e;\n        \x3cspan class=\x22hljs-attribute\x22\x3eheight\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e280px\x3c\/span\x3e;\n    }\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/*使用不同背景色的a替代图片。*\/\x3c\/span\x3e\n    \x3cspan class=\x22hljs-selector-class\x22\x3e.carousel-item\x3c\/span\x3e\x3cspan class=\x22hljs-selector-pseudo\x22\x3e:nth-child(1)\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3ea\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-attribute\x22\x3ebackground-color\x3c\/span\x3e: \x3cspan class=\x22hljs-built_in\x22\x3ergb\x3c\/span\x3e(129,194,214);\n        \x3cspan class=\x22hljs-comment\x22\x3e\/*第五张图片的复制*\/\x3c\/span\x3e\n    }\n    \x3cspan class=\x22hljs-selector-class\x22\x3e.carousel-item\x3c\/span\x3e\x3cspan class=\x22hljs-selector-pseudo\x22\x3e:nth-child(2)\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3ea\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-attribute\x22\x3ebackground-color\x3c\/span\x3e: \x3cspan class=\x22hljs-built_in\x22\x3ergb\x3c\/span\x3e(129,146,214);\n    }\n    \x3cspan class=\x22hljs-selector-class\x22\x3e.carousel-item\x3c\/span\x3e\x3cspan class=\x22hljs-selector-pseudo\x22\x3e:nth-child(3)\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3ea\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-attribute\x22\x3ebackground-color\x3c\/span\x3e: \x3cspan class=\x22hljs-built_in\x22\x3ergb\x3c\/span\x3e(217,179,230);\n    }\n    \x3cspan class=\x22hljs-selector-class\x22\x3e.carousel-item\x3c\/span\x3e\x3cspan class=\x22hljs-selector-pseudo\x22\x3e:nth-child(4)\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3ea\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-attribute\x22\x3ebackground-color\x3c\/span\x3e: \x3cspan class=\x22hljs-built_in\x22\x3ergb\x3c\/span\x3e(220,247,161);\n    }\n    \x3cspan class=\x22hljs-selector-class\x22\x3e.carousel-item\x3c\/span\x3e\x3cspan class=\x22hljs-selector-pseudo\x22\x3e:nth-child(5)\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3ea\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-attribute\x22\x3ebackground-color\x3c\/span\x3e: \x3cspan class=\x22hljs-built_in\x22\x3ergb\x3c\/span\x3e(131,252,216);\n    }\n    \x3cspan class=\x22hljs-selector-class\x22\x3e.carousel-item\x3c\/span\x3e\x3cspan class=\x22hljs-selector-pseudo\x22\x3e:nth-child(6)\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3ea\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-attribute\x22\x3ebackground-color\x3c\/span\x3e: \x3cspan class=\x22hljs-built_in\x22\x3ergb\x3c\/span\x3e(129,194,214);\n    }\n    \x3cspan class=\x22hljs-selector-class\x22\x3e.carousel-item\x3c\/span\x3e\x3cspan class=\x22hljs-selector-pseudo\x22\x3e:nth-child(7)\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3ea\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-attribute\x22\x3ebackground-color\x3c\/span\x3e: \x3cspan class=\x22hljs-built_in\x22\x3ergb\x3c\/span\x3e(129,146,214);\n        \x3cspan class=\x22hljs-comment\x22\x3e\/*第一张图片的复制*\/\x3c\/span\x3e\n    }\n\n    \x3cspan class=\x22hljs-selector-class\x22\x3e.carousel-item\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-attribute\x22\x3efloat\x3c\/span\x3e: left;\n    }\n    \x3cspan class=\x22hljs-selector-class\x22\x3e.carousel-index-mark\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-attribute\x22\x3efont-size\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e60px\x3c\/span\x3e;\n        \x3cspan class=\x22hljs-attribute\x22\x3ecolor\x3c\/span\x3e: black;\n        \x3cspan class=\x22hljs-attribute\x22\x3eposition\x3c\/span\x3e: absolute;\n        \x3cspan class=\x22hljs-attribute\x22\x3etop\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n    }\n    \x3cspan class=\x22hljs-selector-class\x22\x3e.carousel-control-wrapper\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-attribute\x22\x3etransition\x3c\/span\x3e: all .\x3cspan class=\x22hljs-number\x22\x3e2s\x3c\/span\x3e;\n    }\n    \x3cspan class=\x22hljs-selector-class\x22\x3e.carousel-wrapper\x3c\/span\x3e\x3cspan class=\x22hljs-selector-pseudo\x22\x3e:hover\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3ebutton\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-attribute\x22\x3edisplay\x3c\/span\x3e: block;\n    }\n    \x3cspan class=\x22hljs-selector-class\x22\x3e.carousel-control-wrapper\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3ebutton\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-attribute\x22\x3etransition\x3c\/span\x3e: all .\x3cspan class=\x22hljs-number\x22\x3e2s\x3c\/span\x3e linear;\n        \x3cspan class=\x22hljs-attribute\x22\x3edisplay\x3c\/span\x3e: none;\n        \x3cspan class=\x22hljs-attribute\x22\x3ewidth\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e24px\x3c\/span\x3e;\n        \x3cspan class=\x22hljs-attribute\x22\x3eheight\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e36px\x3c\/span\x3e;\n        \x3cspan class=\x22hljs-attribute\x22\x3eline-height\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e36px\x3c\/span\x3e;\n        \x3cspan class=\x22hljs-attribute\x22\x3ebackground-color\x3c\/span\x3e: \x3cspan class=\x22hljs-built_in\x22\x3ergba\x3c\/span\x3e(0,0,0,.3);\n        \x3cspan class=\x22hljs-attribute\x22\x3ecolor\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e#fff\x3c\/span\x3e;\n        \x3cspan class=\x22hljs-attribute\x22\x3eposition\x3c\/span\x3e: absolute;\n        \x3cspan class=\x22hljs-attribute\x22\x3etop\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e50%\x3c\/span\x3e;\n        \x3cspan class=\x22hljs-attribute\x22\x3ecursor\x3c\/span\x3e: pointer;\n    }\n    \x3cspan class=\x22hljs-selector-tag\x22\x3ebutton\x3c\/span\x3e\x3cspan class=\x22hljs-selector-id\x22\x3e#prev\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-attribute\x22\x3eleft\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n    }\n    \x3cspan class=\x22hljs-selector-tag\x22\x3ebutton\x3c\/span\x3e\x3cspan class=\x22hljs-selector-id\x22\x3e#next\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-attribute\x22\x3eright\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n    }\n    \x3cspan class=\x22hljs-selector-tag\x22\x3ebutton\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3ei\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-attribute\x22\x3efont-size\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e18px\x3c\/span\x3e;\n    }\n    \x3cspan class=\x22hljs-selector-class\x22\x3e.carousel-index-wrapper\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-attribute\x22\x3ewidth\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e65px\x3c\/span\x3e;\n        \x3cspan class=\x22hljs-attribute\x22\x3eheight\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e13px\x3c\/span\x3e;\n        \x3cspan class=\x22hljs-attribute\x22\x3eoverflow\x3c\/span\x3e: hidden;\n        \x3cspan class=\x22hljs-attribute\x22\x3eposition\x3c\/span\x3e: absolute;\n        \x3cspan class=\x22hljs-attribute\x22\x3ebottom\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e15px\x3c\/span\x3e;\n        \x3cspan class=\x22hljs-attribute\x22\x3eleft\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e50%\x3c\/span\x3e;\n        \x3cspan class=\x22hljs-attribute\x22\x3emargin-left\x3c\/span\x3e: -\x3cspan class=\x22hljs-number\x22\x3e33px\x3c\/span\x3e;\n    }\n    \x3cspan class=\x22hljs-selector-class\x22\x3e.carousel-index-btn\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-attribute\x22\x3ewidth\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e9px\x3c\/span\x3e;\n        \x3cspan class=\x22hljs-attribute\x22\x3eheight\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e9px\x3c\/span\x3e;\n        \x3cspan class=\x22hljs-attribute\x22\x3efloat\x3c\/span\x3e: left;\n        \x3cspan class=\x22hljs-attribute\x22\x3emargin\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e2px\x3c\/span\x3e;\n        \x3cspan class=\x22hljs-attribute\x22\x3ebackground-color\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e#b7b7b7\x3c\/span\x3e;\n        \x3cspan class=\x22hljs-attribute\x22\x3eborder-radius\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e50%\x3c\/span\x3e;\n        \x3cspan class=\x22hljs-attribute\x22\x3etext-indent\x3c\/span\x3e: -\x3cspan class=\x22hljs-number\x22\x3e999em\x3c\/span\x3e;\n        \x3cspan class=\x22hljs-comment\x22\x3e\/*这个-999em的文字对齐声明有助于增强可访问性。*\/\x3c\/span\x3e\n        \x3cspan class=\x22hljs-attribute\x22\x3ecursor\x3c\/span\x3e: pointer;\n    }\n    \x3cspan class=\x22hljs-selector-class\x22\x3e.active-carousel-index-btn\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-attribute\x22\x3ebackground-color\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e#f44103\x3c\/span\x3e;\n    }\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader3\x22\x3e四、JS部分\x3c\/h3\x3e\n\x3cp\x3e这一块是主要部分，内容较多，因此我们逐步来实现各部分功能以便于理解。\x3c\/p\x3e\n\x3ch4\x3e0.功能和结构分析：\x3c\/h4\x3e\n\x3cp\x3e根据最开始的思路讲解，我们把这个轮播的JavaScript功能大致分为以下4个部分：\x3cbr\x3e1.左右滑动按钮功能\x3cbr\x3e2.索引按钮跳转功能\x3cbr\x3e3.自动播放功能\x3cbr\x3e4.循环播放功能。\x3c\/p\x3e\n\x3cp\x3e我们来分别逐步实现。\x3c\/p\x3e\n\x3ch4\x3e1.实现左右滑动按钮功能：\x3c\/h4\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function addLoadEvent(func) {\n    var oldLoad = window.onload;\n    if (typeof oldLoad != \x27function\x27) {\n        window.onload = func;\n    } else {\n        window.onload = function () {\n            oldLoad();\n            func();\n        }\n    }\n}\n\/\/给文档加载完成后的load事件绑定相应的处理函数：\naddLoadEvent(preventDefaultAnchors);\naddLoadEvent(carouselControl);\n\n\/*用一个对象把轮播组件的相关参数封装起来，优点是灵活便于扩展升级；缺点是同时也增加了文件的体积。*\/\nvar carouselInfo = {\n    itemWidth: 520,\n    trueItemNum: 5,\n    itemNum: 7,\n    totalWidth: 7 * 520\n};\n\n\/\/阻止a标签默认的点击跳转行为\nfunction preventDefaultAnchors() {\n    var allAnchors = document.querySelectorAll(\x27a\x27);\n\n    for (var i = 0; i \x3c allAnchors.length; i\x2b\x2b) {\n        allAnchors[i].addEventListener(\x27click\x27, function (e) {\n            e.preventDefault();\n        }, false);\n    }\n}\n\nfunction carouselControl () {\n    var prev = document.querySelector(\x26quot;#prev\x26quot;);\n    var next = document.querySelector(\x26quot;#next\x26quot;);\n    var carouselWrapper = document.querySelector(\x26quot;.carousel-wrapper\x26quot;);\n\n    prev.onclick = function () {\n        slide(-1);\n    };\n    next.onclick = function () {\n        slide(1);\n    };\n}\n\nfunction slide(slideItemNum) {\n    var itemWrapper=document.querySelector(\x26quot;.carousel-item-wrapper\x26quot;);\n    var currentLeftOffset=(itemWrapper.style.left)?parseInt(itemWrapper.style.left): 0,\n        targetLeftOffset=currentLeftOffset-(slideItemNum*carouselInfo.itemWidth);\n\n    itemWrapper.style.left=targetLeftOffset\x2b\x27px\x27;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eaddLoadEvent\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3efunc\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e oldLoad = \x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.onload;\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3etypeof\x3c\/span\x3e oldLoad != \x3cspan class=\x22hljs-string\x22\x3e\x27function\x27\x3c\/span\x3e) {\n        \x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.onload = func;\n    } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.onload = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n            oldLoad();\n            func();\n        }\n    }\n}\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/给文档加载完成后的load事件绑定相应的处理函数：\x3c\/span\x3e\naddLoadEvent(preventDefaultAnchors);\naddLoadEvent(carouselControl);\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/*用一个对象把轮播组件的相关参数封装起来，优点是灵活便于扩展升级；缺点是同时也增加了文件的体积。*\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e carouselInfo = {\n    \x3cspan class=\x22hljs-attr\x22\x3eitemWidth\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e520\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3etrueItemNum\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3eitemNum\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e7\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3etotalWidth\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e7\x3c\/span\x3e * \x3cspan class=\x22hljs-number\x22\x3e520\x3c\/span\x3e\n};\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/阻止a标签默认的点击跳转行为\x3c\/span\x3e\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3epreventDefaultAnchors\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e allAnchors = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.querySelectorAll(\x3cspan class=\x22hljs-string\x22\x3e\x27a\x27\x3c\/span\x3e);\n\n    \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; i \x26lt; allAnchors.length; i\x2b\x2b) {\n        allAnchors[i].addEventListener(\x3cspan class=\x22hljs-string\x22\x3e\x27click\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3ee\x3c\/span\x3e) \x3c\/span\x3e{\n            e.preventDefault();\n        }, \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e);\n    }\n}\n\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ecarouselControl\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e prev = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.querySelector(\x3cspan class=\x22hljs-string\x22\x3e\x22#prev\x22\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e next = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.querySelector(\x3cspan class=\x22hljs-string\x22\x3e\x22#next\x22\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e carouselWrapper = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.querySelector(\x3cspan class=\x22hljs-string\x22\x3e\x22.carousel-wrapper\x22\x3c\/span\x3e);\n\n    prev.onclick = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n        slide(\x3cspan class=\x22hljs-number\x22\x3e-1\x3c\/span\x3e);\n    };\n    next.onclick = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n        slide(\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e);\n    };\n}\n\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eslide\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eslideItemNum\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e itemWrapper=\x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.querySelector(\x3cspan class=\x22hljs-string\x22\x3e\x22.carousel-item-wrapper\x22\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e currentLeftOffset=(itemWrapper.style.left)?\x3cspan class=\x22hljs-built_in\x22\x3eparseInt\x3c\/span\x3e(itemWrapper.style.left): \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n        targetLeftOffset=currentLeftOffset-(slideItemNum*carouselInfo.itemWidth);\n\n    itemWrapper.style.left=targetLeftOffset\x2b\x3cspan class=\x22hljs-string\x22\x3e\x27px\x27\x3c\/span\x3e;\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cstrong\x3e第1步的demo：\x3ca href=\x22http:\/\/juniortour.net\/demo\/standard-js-carousel\/carousel-step-1.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ecarousel-step-1\x3c\/a\x3e\x3c\/strong\x3e\x3c\/p\x3e\n\x3ch4\x3e2.实现索引按钮跳转功能：\x3c\/h4\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function carouselControl() {\n    var prev = document.querySelector(\x26quot;#prev\x26quot;);\n    var next = document.querySelector(\x26quot;#next\x26quot;);\n    var carouselWrapper = document.querySelector(\x26quot;.carousel-wrapper\x26quot;);\n    \/\/添加索引按钮的引用\n    var indexBtns = document.querySelectorAll(\x26quot;.carousel-index-btn\x26quot;);\n\n    \/\/标记当前所在的图片编号，用于配合控制.index-btn。\n    var currentItemNum = 1;\n    prev.onclick = function () {\n        \/\/把滑动功能和切换索引按钮功能装入一个函数之中，以便于获取当前索引：\n        currentItemNum=prevItem(currentItemNum);\n    };\n    next.onclick = function () {\n        \/\/把滑动功能和切换索引按钮功能装入一个函数之中，以便于获取当前索引：\n        currentItemNum=nextItem(currentItemNum);\n    };\n\n    for (var i = 0; i \x3c indexBtns.length; i\x2b\x2b) {\n        \/\/利用立即调用函数，解决闭包的副作用，传入相应的index值\n        (function (i) {\n            indexBtns[i].onclick = function () {\n                slideTo(i\x2b1);\n                currentItemNum=i\x2b1;\n            }\n        })(i);\n    }\n}\n\nfunction nextItem(currentItemNum) {\n    slide(1);\n    currentItemNum \x2b= 1;\n    if (currentItemNum == 6) currentItemNum = 1;\n    switchIndexBtn(currentItemNum);\n\n    return currentItemNum;\n}\n\nfunction prevItem(currentItemNum) {\n    slide(-1);\n    currentItemNum -= 1;\n    if (currentItemNum == 0) currentItemNum = 5;\n    switchIndexBtn(currentItemNum);\n\n    return currentItemNum;\n}\n\n\/\/添加直接跳转函数：\nfunction slideTo(targetNum) {\n    var itemWrapper=document.querySelector(\x26quot;.carousel-item-wrapper\x26quot;);\n    itemWrapper.style.left=-(targetNum*carouselInfo.itemWidth)\x2b\x27px\x27;\n    switchIndexBtn(targetNum);\n}\n\nfunction slide(slideItemNum) {\n    var itemWrapper = document.querySelector(\x26quot;.carousel-item-wrapper\x26quot;);\n    var currentLeftOffset = (itemWrapper.style.left) ? parseInt(itemWrapper.style.left) : 0,\n        targetLeftOffset = currentLeftOffset - (slideItemNum * carouselInfo.itemWidth);\n\n    itemWrapper.style.left = targetLeftOffset \x2b \x27px\x27;\n}\n\nfunction switchIndexBtn(targetNum) {\n    \/\/切换当前的索引按钮\n    \/\/删除过去激活的.active-carousel-index-btn\n    var activeBtn=document.querySelector(\x26quot;.active-carousel-index-btn\x26quot;);\n    activeBtn.className=activeBtn.className.replace(\x26quot; active-carousel-index-btn\x26quot;,\x26quot;\x26quot;);\n\n    \/\/添加新的激活索引按钮\n    var targetBtn=document.querySelectorAll(\x26quot;.carousel-index-btn\x26quot;)[targetNum-1];\n    targetBtn.className\x2b=\x26quot; active-carousel-index-btn\x26quot;;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ecarouselControl\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e prev = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.querySelector(\x3cspan class=\x22hljs-string\x22\x3e\x22#prev\x22\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e next = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.querySelector(\x3cspan class=\x22hljs-string\x22\x3e\x22#next\x22\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e carouselWrapper = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.querySelector(\x3cspan class=\x22hljs-string\x22\x3e\x22.carousel-wrapper\x22\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/添加索引按钮的引用\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e indexBtns = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.querySelectorAll(\x3cspan class=\x22hljs-string\x22\x3e\x22.carousel-index-btn\x22\x3c\/span\x3e);\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/标记当前所在的图片编号，用于配合控制.index-btn。\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e currentItemNum = \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;\n    prev.onclick = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/把滑动功能和切换索引按钮功能装入一个函数之中，以便于获取当前索引：\x3c\/span\x3e\n        currentItemNum=prevItem(currentItemNum);\n    };\n    next.onclick = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/把滑动功能和切换索引按钮功能装入一个函数之中，以便于获取当前索引：\x3c\/span\x3e\n        currentItemNum=nextItem(currentItemNum);\n    };\n\n    \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; i \x26lt; indexBtns.length; i\x2b\x2b) {\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/利用立即调用函数，解决闭包的副作用，传入相应的index值\x3c\/span\x3e\n        (\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3ei\x3c\/span\x3e) \x3c\/span\x3e{\n            indexBtns[i].onclick = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n                slideTo(i\x2b\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e);\n                currentItemNum=i\x2b\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;\n            }\n        })(i);\n    }\n}\n\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3enextItem\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ecurrentItemNum\x3c\/span\x3e) \x3c\/span\x3e{\n    slide(\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e);\n    currentItemNum \x2b= \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (currentItemNum == \x3cspan class=\x22hljs-number\x22\x3e6\x3c\/span\x3e) currentItemNum = \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;\n    switchIndexBtn(currentItemNum);\n\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e currentItemNum;\n}\n\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eprevItem\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ecurrentItemNum\x3c\/span\x3e) \x3c\/span\x3e{\n    slide(\x3cspan class=\x22hljs-number\x22\x3e-1\x3c\/span\x3e);\n    currentItemNum -= \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (currentItemNum == \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e) currentItemNum = \x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e;\n    switchIndexBtn(currentItemNum);\n\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e currentItemNum;\n}\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/添加直接跳转函数：\x3c\/span\x3e\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eslideTo\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3etargetNum\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e itemWrapper=\x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.querySelector(\x3cspan class=\x22hljs-string\x22\x3e\x22.carousel-item-wrapper\x22\x3c\/span\x3e);\n    itemWrapper.style.left=-(targetNum*carouselInfo.itemWidth)\x2b\x3cspan class=\x22hljs-string\x22\x3e\x27px\x27\x3c\/span\x3e;\n    switchIndexBtn(targetNum);\n}\n\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eslide\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eslideItemNum\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e itemWrapper = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.querySelector(\x3cspan class=\x22hljs-string\x22\x3e\x22.carousel-item-wrapper\x22\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e currentLeftOffset = (itemWrapper.style.left) ? \x3cspan class=\x22hljs-built_in\x22\x3eparseInt\x3c\/span\x3e(itemWrapper.style.left) : \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n        targetLeftOffset = currentLeftOffset - (slideItemNum * carouselInfo.itemWidth);\n\n    itemWrapper.style.left = targetLeftOffset \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27px\x27\x3c\/span\x3e;\n}\n\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eswitchIndexBtn\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3etargetNum\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/切换当前的索引按钮\x3c\/span\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/删除过去激活的.active-carousel-index-btn\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e activeBtn=\x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.querySelector(\x3cspan class=\x22hljs-string\x22\x3e\x22.active-carousel-index-btn\x22\x3c\/span\x3e);\n    activeBtn.className=activeBtn.className.replace(\x3cspan class=\x22hljs-string\x22\x3e\x22 active-carousel-index-btn\x22\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e);\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/添加新的激活索引按钮\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e targetBtn=\x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.querySelectorAll(\x3cspan class=\x22hljs-string\x22\x3e\x22.carousel-index-btn\x22\x3c\/span\x3e)[targetNum\x3cspan class=\x22hljs-number\x22\x3e-1\x3c\/span\x3e];\n    targetBtn.className\x2b=\x3cspan class=\x22hljs-string\x22\x3e\x22 active-carousel-index-btn\x22\x3c\/span\x3e;\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cstrong\x3e第2步的demo：\x3ca href=\x22http:\/\/juniortour.net\/demo\/standard-js-carousel\/carousel-step-2.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ecarousel-step-2\x3c\/a\x3e\x3c\/strong\x3e\x3c\/p\x3e\n\x3ch4\x3e3.实现自动播放功能：\x3c\/h4\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function carouselControl() {\n    \/\/省略前面重复的代码......\n\n    for (var i = 0; i \x3c indexBtns.length; i\x2b\x2b) {\n        \/\/利用立即调用函数，解决闭包的副作用，传入相应的index值\n        (function (i) {\n            indexBtns[i].onclick = function () {\n                slideTo(i\x2b1);\n                currentItemNum=i\x2b1;\n            }\n        })(i);\n    }\n\n    \/\/添加定时器\n    var scrollTimer;\n    function play() {\n        scrollTimer=setInterval(function () {\n            currentItemNum=nextItem(currentItemNum);\n        },2000);\n    }\n    play();\n\n    function stop() {\n        clearInterval(scrollTimer);\n    }\n\n    \/\/绑定事件\n    carouselWrapper.addEventListener(\x27mouseover\x27,stop);\n    carouselWrapper.addEventListener(\x27mouseout\x27,play,false);\n\n    \/*DOM二级的addEventListener相对于on\x2bsth的优点是：\n     * 1.addEventListener可以先后添加多个事件，同时这些事件还不会相互覆盖。\n     * 2.addEventListener可以控制事件触发阶段，通过第三个可选的useCapture参数选择冒泡还是捕获。\n     * 3.addEventListener对任何DOM元素都有效，而不仅仅是HTML元素。*\/\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ecarouselControl\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/省略前面重复的代码......\x3c\/span\x3e\n\n    \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; i \x26lt; indexBtns.length; i\x2b\x2b) {\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/利用立即调用函数，解决闭包的副作用，传入相应的index值\x3c\/span\x3e\n        (\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3ei\x3c\/span\x3e) \x3c\/span\x3e{\n            indexBtns[i].onclick = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n                slideTo(i\x2b\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e);\n                currentItemNum=i\x2b\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;\n            }\n        })(i);\n    }\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/添加定时器\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e scrollTimer;\n    \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eplay\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n        scrollTimer=setInterval(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n            currentItemNum=nextItem(currentItemNum);\n        },\x3cspan class=\x22hljs-number\x22\x3e2000\x3c\/span\x3e);\n    }\n    play();\n\n    \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3estop\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n        clearInterval(scrollTimer);\n    }\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/绑定事件\x3c\/span\x3e\n    carouselWrapper.addEventListener(\x3cspan class=\x22hljs-string\x22\x3e\x27mouseover\x27\x3c\/span\x3e,stop);\n    carouselWrapper.addEventListener(\x3cspan class=\x22hljs-string\x22\x3e\x27mouseout\x27\x3c\/span\x3e,play,\x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e);\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/*DOM二级的addEventListener相对于on\x2bsth的优点是：\n     * 1.addEventListener可以先后添加多个事件，同时这些事件还不会相互覆盖。\n     * 2.addEventListener可以控制事件触发阶段，通过第三个可选的useCapture参数选择冒泡还是捕获。\n     * 3.addEventListener对任何DOM元素都有效，而不仅仅是HTML元素。*\/\x3c\/span\x3e\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cstrong\x3e第3步的demo：\x3ca href=\x22http:\/\/juniortour.net\/demo\/standard-js-carousel\/carousel-step-3.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ecarousel-step-3\x3c\/a\x3e\x3c\/strong\x3e\x3c\/p\x3e\n\x3ch4\x3e4.关键点：实现循环播放功能：\x3c\/h4\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function slide(slideItemNum) {\n    var itemWrapper = document.querySelector(\x26quot;.carousel-item-wrapper\x26quot;);\n    var currentLeftOffset = (itemWrapper.style.left) ? parseInt(itemWrapper.style.left) : 0,\n        targetLeftOffset = currentLeftOffset - (slideItemNum * carouselInfo.itemWidth);\n\n    \/*不在这里跳转了。先处理偏移值，实现循环，再跳转。*\/\n    \/\/itemWrapper.style.left = targetLeftOffset \x2b \x27px\x27;\n\n    switch (true) {\n            \/*switch 的语法是：当case之中的表达式等于switch (val)的val时，执行后面的statement（语句）。*\/\n        case (targetLeftOffset\x3e0):\n            itemWrapper.style.transition=\x26quot;none\x26quot;;\n            itemWrapper.style.left=-carouselInfo.trueItemNum*carouselInfo.itemWidth\x2b\x27px\x27;\n            \/*此处即相当于：itemWrapper.style.left=\x27-2600px\x27;*\/\n            targetLeftOffset=-(carouselInfo.trueItemNum-1)*carouselInfo.itemWidth;\n            \/\/相当于：targetLeftOffset=-2080;\n            break;\n        case (targetLeftOffset\x3c-(carouselInfo.totalWidth-carouselInfo.itemWidth)):\n            \/\/此处即相当于：targetLeftOffset\x3c-3120\n            itemWrapper.style.transition=\x26quot;none\x26quot;;\n            itemWrapper.style.left=-carouselInfo.itemWidth\x2b\x27px\x27;\n            \/\/相当于：itemWrapper.style.left=\x27-520px\x27;\n            targetLeftOffset=-carouselInfo.itemWidth*2;\n            \/\/相当于：targetLeftOffset=-1040;\n            break;\n    }\n\n    \/*这里我使用了setTimeout(fn,0)的hack\n     * 参考bootstrap的carousel.js源码，似乎也利用了setTimeout(fn,0)这一hack。\n     *\n     * stackoverflow上有对这一hack的讨论和解释：\n     * http:\/\/stackoverflow.com\/questions\/779379\/why-is-settimeoutfn-0-sometimes-useful\n     * 根据第二个回答，我个人的理解是：setTimeout(fn,0)相当于异步执行内部的代码fn，\n     * 具体到这个轮播，就是在上一轮非过渡定位的页面渲染工作（switch语句内部的case）结束之后，再执行setTimeout内部的过渡位移工作。\n     * 从而避免了，非过渡的定位还未结束，就恢复了过渡属性，使得这一次非过渡的定位也带有过渡效果。\n     **\/\n\n    \/\/各位可以试一试，把setTimeout内部的代码放在外部，“循环”时会有什么样的错误效果。\n    \/\/itemWrapper.style.transition=\x26quot;left .2s ease-in\x26quot;;\n    \/\/itemWrapper.style.left=targetLeftOffset\x2b\x27px\x27;\n\n    setTimeout(function () {\n        itemWrapper.style.transition=\x26quot;left .2s ease-in\x26quot;;\n        itemWrapper.style.left=targetLeftOffset\x2b\x27px\x27;\n    },20);\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22JavaScript\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eslide\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eslideItemNum\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e itemWrapper = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.querySelector(\x3cspan class=\x22hljs-string\x22\x3e\x22.carousel-item-wrapper\x22\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e currentLeftOffset = (itemWrapper.style.left) ? \x3cspan class=\x22hljs-built_in\x22\x3eparseInt\x3c\/span\x3e(itemWrapper.style.left) : \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n        targetLeftOffset = currentLeftOffset - (slideItemNum * carouselInfo.itemWidth);\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/*不在这里跳转了。先处理偏移值，实现循环，再跳转。*\/\x3c\/span\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/itemWrapper.style.left = targetLeftOffset \x2b \x27px\x27;\x3c\/span\x3e\n\n    \x3cspan class=\x22hljs-keyword\x22\x3eswitch\x3c\/span\x3e (\x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e) {\n            \x3cspan class=\x22hljs-comment\x22\x3e\/*switch 的语法是：当case之中的表达式等于switch (val)的val时，执行后面的statement（语句）。*\/\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3ecase\x3c\/span\x3e (targetLeftOffset\x26gt;\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e):\n            itemWrapper.style.transition=\x3cspan class=\x22hljs-string\x22\x3e\x22none\x22\x3c\/span\x3e;\n            itemWrapper.style.left=-carouselInfo.trueItemNum*carouselInfo.itemWidth\x2b\x3cspan class=\x22hljs-string\x22\x3e\x27px\x27\x3c\/span\x3e;\n            \x3cspan class=\x22hljs-comment\x22\x3e\/*此处即相当于：itemWrapper.style.left=\x27-2600px\x27;*\/\x3c\/span\x3e\n            targetLeftOffset=-(carouselInfo.trueItemNum\x3cspan class=\x22hljs-number\x22\x3e-1\x3c\/span\x3e)*carouselInfo.itemWidth;\n            \x3cspan class=\x22hljs-comment\x22\x3e\/\/相当于：targetLeftOffset=-2080;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-keyword\x22\x3ebreak\x3c\/span\x3e;\n        \x3cspan class=\x22hljs-keyword\x22\x3ecase\x3c\/span\x3e (targetLeftOffset\x26lt;-(carouselInfo.totalWidth-carouselInfo.itemWidth)):\n            \x3cspan class=\x22hljs-comment\x22\x3e\/\/此处即相当于：targetLeftOffset\x26lt;-3120\x3c\/span\x3e\n            itemWrapper.style.transition=\x3cspan class=\x22hljs-string\x22\x3e\x22none\x22\x3c\/span\x3e;\n            itemWrapper.style.left=-carouselInfo.itemWidth\x2b\x3cspan class=\x22hljs-string\x22\x3e\x27px\x27\x3c\/span\x3e;\n            \x3cspan class=\x22hljs-comment\x22\x3e\/\/相当于：itemWrapper.style.left=\x27-520px\x27;\x3c\/span\x3e\n            targetLeftOffset=-carouselInfo.itemWidth*\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e;\n            \x3cspan class=\x22hljs-comment\x22\x3e\/\/相当于：targetLeftOffset=-1040;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-keyword\x22\x3ebreak\x3c\/span\x3e;\n    }\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/*这里我使用了setTimeout(fn,0)的hack\n     * 参考bootstrap的carousel.js源码，似乎也利用了setTimeout(fn,0)这一hack。\n     *\n     * stackoverflow上有对这一hack的讨论和解释：\n     * http:\/\/stackoverflow.com\/questions\/779379\/why-is-settimeoutfn-0-sometimes-useful\n     * 根据第二个回答，我个人的理解是：setTimeout(fn,0)相当于异步执行内部的代码fn，\n     * 具体到这个轮播，就是在上一轮非过渡定位的页面渲染工作（switch语句内部的case）结束之后，再执行setTimeout内部的过渡位移工作。\n     * 从而避免了，非过渡的定位还未结束，就恢复了过渡属性，使得这一次非过渡的定位也带有过渡效果。\n     **\/\x3c\/span\x3e\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/各位可以试一试，把setTimeout内部的代码放在外部，“循环”时会有什么样的错误效果。\x3c\/span\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/itemWrapper.style.transition=\x22left .2s ease-in\x22;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/itemWrapper.style.left=targetLeftOffset\x2b\x27px\x27;\x3c\/span\x3e\n\n    setTimeout(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n        itemWrapper.style.transition=\x3cspan class=\x22hljs-string\x22\x3e\x22left .2s ease-in\x22\x3c\/span\x3e;\n        itemWrapper.style.left=targetLeftOffset\x2b\x3cspan class=\x22hljs-string\x22\x3e\x27px\x27\x3c\/span\x3e;\n    },\x3cspan class=\x22hljs-number\x22\x3e20\x3c\/span\x3e);\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cstrong\x3e第4步的demo：\x3ca href=\x22http:\/\/juniortour.net\/demo\/standard-js-carousel\/carousel-step-4.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ecarousel-step-4\x3c\/a\x3e\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e至此，就完成了一个完整的循环播放图片轮播，欣赏一下自己的杰作吧~~~ヾ(✿ﾟ▽ﾟ)ノ\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader4\x22\x3e五、源码及示例：\x3c\/h3\x3e\n\x3ch4\x3e1.GitHub仓库地址及完整代码：\x3ca href=\x22https:\/\/github.com\/JuniorTour\/simple-standard-js-carousel\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eJuniorTour\/simple-standard-js-carousel\x3c\/a\x3e\n\x3c\/h4\x3e\n\x3ch4\x3e2.在线demo：\x3ca href=\x22http:\/\/juniortour.net\/demo\/standard-js-carousel\/standard-js-carousel.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e原生JS循环播放图片轮播组件\x3c\/a\x3e\x26nbsp;\x3c\/h4\x3e\n\x3cp\x3e很惭愧，只做了一点简单的工作。如果觉得本文不错的话，欢迎给\x3ca href=\x22https:\/\/github.com\/JuniorTour\/simple-standard-js-carousel\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e我的GitHub\x3c\/a\x3e点赞！\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>手把手和你用原生JS写一个循环播放图片轮播</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000009706391">https://segmentfault.com/a/1190000009706391</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/51k4yv5r5l4/" target="_blank">https://alili.tech/archive/51k4yv5r5l4/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/t42iv2yle7e/">2016-我的前端之路:工具化与工程化<aside class="dates">2019-01-29</aside></a></li><li><a href="/archive/xlhryjzdso/">2016年总结--成长<aside class="dates">2019-01-29</aside></a></li><li><a href="/archive/4wvjfeus9ur/">2016年末总结，我的前端之路<aside class="dates">2019-01-29</aside></a></li><li><a href="/archive/w7062tmcw3/">3D 视差效果<aside class="dates">2019-01-29</aside></a></li><li><a href="/archive/5jt1iw1t77b/">AlloyTouch实战--60行代码搞定QQ看点资料卡<aside class="dates">2019-01-29</aside></a></li><li><a href="/archive/kquf0fxkw2j/">ES6，你不得不学！<aside class="dates">2019-01-29</aside></a></li><li><a href="/archive/r5b6g4133jh/">Emmet-前端开发神器<aside class="dates">2019-01-29</aside></a></li><li><a href="/archive/5dbaikv4emi/">FreeCodeCamp中级算法题答案<aside class="dates">2019-01-29</aside></a></li><li><a href="/archive/iuyeljg6lm/">JSONP是什么<aside class="dates">2019-01-29</aside></a></li><li><a href="/archive/23ftsgrtzzc/">JS中的观察者模式(发布订阅)<aside class="dates">2019-01-29</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>