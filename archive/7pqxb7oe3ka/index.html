<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="Vue.js实现一个简易问卷平台(项目中遇到的问题总结)"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>Vue.js实现一个简易问卷平台(项目中遇到的问题总结) | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/7pqxb7oe3ka/",
				"appid": "1613049289050283", 
				"title": "Vue.js实现一个简易问卷平台(项目中遇到的问题总结) | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-17T02:30:25"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/2401gbj7hfs/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/nh209k995ud/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2f7pqxb7oe3ka%2f&text=Vue.js%e5%ae%9e%e7%8e%b0%e4%b8%80%e4%b8%aa%e7%ae%80%e6%98%93%e9%97%ae%e5%8d%b7%e5%b9%b3%e5%8f%b0%28%e9%a1%b9%e7%9b%ae%e4%b8%ad%e9%81%87%e5%88%b0%e7%9a%84%e9%97%ae%e9%a2%98%e6%80%bb%e7%bb%93%29"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2f7pqxb7oe3ka%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2f7pqxb7oe3ka%2f&text=Vue.js%e5%ae%9e%e7%8e%b0%e4%b8%80%e4%b8%aa%e7%ae%80%e6%98%93%e9%97%ae%e5%8d%b7%e5%b9%b3%e5%8f%b0%28%e9%a1%b9%e7%9b%ae%e4%b8%ad%e9%81%87%e5%88%b0%e7%9a%84%e9%97%ae%e9%a2%98%e6%80%bb%e7%bb%93%29"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2f7pqxb7oe3ka%2f&title=Vue.js%e5%ae%9e%e7%8e%b0%e4%b8%80%e4%b8%aa%e7%ae%80%e6%98%93%e9%97%ae%e5%8d%b7%e5%b9%b3%e5%8f%b0%28%e9%a1%b9%e7%9b%ae%e4%b8%ad%e9%81%87%e5%88%b0%e7%9a%84%e9%97%ae%e9%a2%98%e6%80%bb%e7%bb%93%29"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2f7pqxb7oe3ka%2f&is_video=false&description=Vue.js%e5%ae%9e%e7%8e%b0%e4%b8%80%e4%b8%aa%e7%ae%80%e6%98%93%e9%97%ae%e5%8d%b7%e5%b9%b3%e5%8f%b0%28%e9%a1%b9%e7%9b%ae%e4%b8%ad%e9%81%87%e5%88%b0%e7%9a%84%e9%97%ae%e9%a2%98%e6%80%bb%e7%bb%93%29"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=Vue.js%e5%ae%9e%e7%8e%b0%e4%b8%80%e4%b8%aa%e7%ae%80%e6%98%93%e9%97%ae%e5%8d%b7%e5%b9%b3%e5%8f%b0%28%e9%a1%b9%e7%9b%ae%e4%b8%ad%e9%81%87%e5%88%b0%e7%9a%84%e9%97%ae%e9%a2%98%e6%80%bb%e7%bb%93%29&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2f7pqxb7oe3ka%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2f7pqxb7oe3ka%2f&title=Vue.js%e5%ae%9e%e7%8e%b0%e4%b8%80%e4%b8%aa%e7%ae%80%e6%98%93%e9%97%ae%e5%8d%b7%e5%b9%b3%e5%8f%b0%28%e9%a1%b9%e7%9b%ae%e4%b8%ad%e9%81%87%e5%88%b0%e7%9a%84%e9%97%ae%e9%a2%98%e6%80%bb%e7%bb%93%29"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f7pqxb7oe3ka%2f&title=Vue.js%e5%ae%9e%e7%8e%b0%e4%b8%80%e4%b8%aa%e7%ae%80%e6%98%93%e9%97%ae%e5%8d%b7%e5%b9%b3%e5%8f%b0%28%e9%a1%b9%e7%9b%ae%e4%b8%ad%e9%81%87%e5%88%b0%e7%9a%84%e9%97%ae%e9%a2%98%e6%80%bb%e7%bb%93%29"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f7pqxb7oe3ka%2f&title=Vue.js%e5%ae%9e%e7%8e%b0%e4%b8%80%e4%b8%aa%e7%ae%80%e6%98%93%e9%97%ae%e5%8d%b7%e5%b9%b3%e5%8f%b0%28%e9%a1%b9%e7%9b%ae%e4%b8%ad%e9%81%87%e5%88%b0%e7%9a%84%e9%97%ae%e9%a2%98%e6%80%bb%e7%bb%93%29"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f7pqxb7oe3ka%2f&title=Vue.js%e5%ae%9e%e7%8e%b0%e4%b8%80%e4%b8%aa%e7%ae%80%e6%98%93%e9%97%ae%e5%8d%b7%e5%b9%b3%e5%8f%b0%28%e9%a1%b9%e7%9b%ae%e4%b8%ad%e9%81%87%e5%88%b0%e7%9a%84%e9%97%ae%e9%a2%98%e6%80%bb%e7%bb%93%29"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">Vue.js实现一个简易问卷平台(项目中遇到的问题总结)</h1><div class="meta"><div class="postdate"><time datetime="2019-01-17" itemprop="datePublished">2019-01-17</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch2 id=\x22articleHeader0\x22\x3e项目地址\x3c\/h2\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/github.com\/Reusjs\/QuestionnairePlatform\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e源码地址\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/reusjs.github.io\/QuestionnairePlatform\/#\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e预览地址\x3c\/a\x3e（没有做响应式，请在电脑上打开）\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e使用了我自制的日历组件（初学vue时做的，有些糙）\x3ca href=\x22https:\/\/github.com\/Reusjs\/calendar-plugin\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ecalendar-input\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e任务描述\x3c\/h2\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22http:\/\/7xrp04.com1.z0.glb.clouddn.com\/task_4_50_1.png\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e参考设计图\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e实现一个简易版的问卷管理系统，有如下功能：\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch3 id=\x22articleHeader2\x22\x3e问卷管理列表\x3c\/h3\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e有一个头部可以显示logo，不需要实现登录等操作\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e问卷管理列表页面默认为首页\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e有一个表格用于展示所有已创建的问卷\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e列表中包括列有：问卷名称，问卷状态（未发布，发布中，已结束），和操作区域（编辑、删除、查看数据）\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e问卷状态为未发布时，可以做的操作为编辑、删除、查看问卷\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e问卷状态为发布中和已结束时，可以做的操作为查看数据、查看问卷\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e表格最左侧有批量选择（多选）的checkbox，多选后，可以进行批量删除功能，checkbox样式用默认即可，不需要按照设计图的样式\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e当一个问卷都没有的时候，表格不展现，页面显示大大的新建问卷按钮\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch3 id=\x22articleHeader3\x22\x3e问卷新建及编辑\x3c\/h3\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e点击问卷管理列表中的新建按钮后，进入到问卷新建页面\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e点击问卷列表中某个问卷行的编辑按钮后，进入到问卷的编辑页面\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e新建页面和编辑页面基本相同\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e问卷有一个标题字段，点击后可以进入编辑状态\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e可以针对问卷中的问题进行增删改操作，每个问卷最少一个问题，最多十个问题\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e问题类型包括：单选题、多选题、单行文本题\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e可以对所有问题进行位置改变（上移、下移），复用，删除的操作\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e最上面的问题没有上移操作，最下面的问题没有下移操作\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e点击复用时，在被复用的问题紧接着的下方新增一个和被复用完全一样的问题（包括选项）\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e对于单选题和多选题，可以对问题的选项进行增、删、改、排序操作\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e文本题可以设定是必填还是非必填的问题\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e有一个问卷调查填写截止时间，使用一个日历组件来进行时间的选择，日期选择不能早于当前日期\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e保存问卷可以进行问卷的保存\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e发布问卷可以使得问卷状态变为发布中的状态\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e当点击发布时，如果截止日期早于当前日期，则需要提示修改截止日期\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch3 id=\x22articleHeader4\x22\x3e删除问卷\x3c\/h3\x3e\n\x3cul\x3e\x3cli\x3e\x3cp\x3e在问卷管理列表中点击某个问卷的删除按钮后，弹出一个浮出层，让用户二次确认是否删除该问卷，如果用户点击是，则删除掉该问卷\x3c\/p\x3e\x3c\/li\x3e\x3c\/ul\x3e\n\x3ch3 id=\x22articleHeader5\x22\x3e查看问卷\x3c\/h3\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e在问卷管理列表中点击查看问卷的按钮后，在新窗口中打开该问卷的页面，该页面是可供用户进行问卷填写的页面，在问卷未发布状态和已结束状态时，问卷提交是无效的。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e该页面在移动端需要进行良好的兼容支持\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch3 id=\x22articleHeader6\x22\x3e查看数据\x3c\/h3\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e在问卷管理列表中点击查看数据按钮后，进入到一个数据报告页面，用图表形式呈现各个单选题和多选题的选择情况\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e如设计稿中呈现，每一个问题在右侧用某种图表来呈现答题情况，自行选择合适的图表，设计稿中仅为示意，图表样式不需要和设计稿一致。推荐单选题使用饼状图，多选题使用条形图\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e文本题用一个百分比图展现有效回答占比即可\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e返回按钮点击后返回列表页面\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e在项目中尝试模块化的方法及工具\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e在项目中尝试CSS预处理工具\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e在项目中尝试项目构建、打包工具\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch2 id=\x22articleHeader7\x22\x3e问题总结\x3c\/h2\x3e\n\x3ch3 id=\x22articleHeader8\x22\x3e全选功能的实现\x3c\/h3\x3e\n\x3cp\x3e首先每个列表项都使用了v-model进行双向数据绑定传递是否被选中状态\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3ctemplate v-for=\x26quot;item in qsList\x26quot;\x3e\n  \x3cul\x3e\n    \x3cli\x3e\x3cinput type=\x26quot;checkbox\x26quot; v-model=\x26quot;item.checked\x26quot;\x3e\x3c\/li\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xml\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ev-for\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22item in qsList\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eul\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3einput\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22checkbox\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ev-model\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22item.checked\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e然后给全选按钮也用v-model绑定是否全选状态\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3clabel\x3e\x3cinput type=\x26quot;checkbox\x26quot; id=\x26quot;all-check\x26quot; v-model=\x26quot;selectAll\x26quot;\x3e全选\x3c\/label\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stata\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x26lt;\x3cspan class=\x22hljs-keyword\x22\x3elabel\x3c\/span\x3e\x26gt;\x26lt;\x3cspan class=\x22hljs-keyword\x22\x3einput\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3etype\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22checkbox\x22\x3c\/span\x3e id=\x3cspan class=\x22hljs-string\x22\x3e\x22all-check\x22\x3c\/span\x3e v-model=\x3cspan class=\x22hljs-string\x22\x3e\x22selectAll\x22\x3c\/span\x3e\x26gt;全选\x26lt;\/\x3cspan class=\x22hljs-keyword\x22\x3elabel\x3c\/span\x3e\x26gt;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e下一步在computed中定义三个计算属性\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\x3cp\x3eselectAll: 是否全选\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eselectCount: 计算有多少项被选中\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eselectGroup: 存储当前选中项，以便对它们进行操作\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e\x3cbr\x3e\x3c\/p\x3e\n\x3cblockquote\x3e\x3cp\x3eselectAll计算属性：\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e\x3cbr\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22selectAll: {\n    get() { \/\/this.qsList是一个数组，理解代码时可以看为[{checked: false}, {checked: false}]\n      return this.selectCount === this.qsList.length \x26amp;\x26amp; this.selectCount !== 0;\n    },\n    set(value) {\n      this.qsList.forEach( item =\x3e {\n        item.checked = value;\n      } );\n      return value;\n    }\n  }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs kotlin\x22\x3e\x3ccode\x3eselectAll: {\n    \x3cspan class=\x22hljs-keyword\x22\x3eget\x3c\/span\x3e() { \x3cspan class=\x22hljs-comment\x22\x3e\/\/this.qsList是一个数组，理解代码时可以看为[{checked: false}, {checked: false}]\x3c\/span\x3e\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.selectCount === \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.qsList.length \x26amp;\x26amp; \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.selectCount !== \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n    },\n    \x3cspan class=\x22hljs-keyword\x22\x3eset\x3c\/span\x3e(value) {\n      \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.qsList.forEach( item =\x26gt; {\n        item.checked = value;\n      } );\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e value;\n    }\n  }\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e通过get方法获取当前选中数，从而实现当列表项全被选中时，全选按钮自动被选中\x3cbr\x3e\x3cbr\x3e   通过set方法实现当全选按钮选中时，所有列表项也被选中\x3cbr\x3e\x3c\/p\x3e\n\x3cblockquote\x3e\x3cp\x3eselectCount计算属性\x3cbr\x3e\x3cbr\x3e\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22selectCount() {\n    let i = 0;\n    this.qsList.forEach( item =\x3e {\n      if (item.checked) i\x2b\x2b;\n    } );\n    return i;\n  },\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3eselectCount() {\n    \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.qsList.forEach( \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3eitem\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n      \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (item.checked) i\x2b\x2b;\n    } );\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e i;\n  },\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e计算当前有多少项被选中，selectAll通过此变量来计算当前是否所有列表项都被选中\x3cbr\x3e\x3cbr\x3e\x3c\/p\x3e\n\x3cblockquote\x3e\x3cp\x3eselectGroup计算属性\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e\x3cbr\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22selectGroup() {\n    let group = [];\n    this.qsList.forEach( item =\x3e {\n      if (item.checked) group.push(item);\n    } );\n    return group;\n  }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs cs\x22\x3e\x3ccode\x3eselectGroup() {\n    \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3egroup\x3c\/span\x3e = [];\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.qsList.forEach( item =\x26gt; {\n      \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (item.\x3cspan class=\x22hljs-keyword\x22\x3echecked\x3c\/span\x3e) \x3cspan class=\x22hljs-keyword\x22\x3egroup\x3c\/span\x3e.push(item);\n    } );\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3egroup\x3c\/span\x3e;\n  }\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e存储被选中项，进行统一操作\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader9\x22\x3e检测表单必填项是否填写\x3c\/h3\x3e\n\x3cp\x3e这个问题我使用了v-model来解决，问卷中总共有三种类型的表单项，radio，checkbox，textarea 因为对于radio的v-model来说只能绑定一个基本类型的值, checkbox的v-model应该绑定一个数组，这样选中项就会一个一个push到数组中，而且是双向绑定的，textarea的v-model也应该是一个基本类型，我设置的是字符串\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cp v-for=\x26quot;option in item.options\x26quot; class=\x26quot;option\x26quot;\x3e\n        \x3clabel\x3e\n          \x3cinput \n          type=\x26quot;radio\x26quot; \n          :name=\x26quot;`${item.num}-${item.title}`\x26quot;\n          v-model=\x26quot;requiredItem[item.num]\x26quot;\n          v-if=\x26quot;item.type === \x27radio\x27\x26quot;\n          :value=\x26quot;option\x26quot;\x3e\n          \x3cinput \n          type=\x26quot;checkbox\x26quot; \n          :name=\x26quot;`${item.num}-${item.title}`\x26quot;\n          v-model=\x26quot;requiredItem[item.num]\x26quot;\n          v-if=\x26quot;item.type === \x27checkbox\x27\x26quot;\n          :value=\x26quot;option\x26quot;\x3e\x22{{\x22option\x22}}\x22\n        \x3c\/label\x3e\n      \x3c\/p\x3e\n      \x3ctextarea \n      v-if=\x26quot;item.type === \x27textarea\x27\x26quot; \n      v-model=\x26quot;requiredItem[item.num]\x26quot;\x3e\x3c\/textarea\x3e\n      \n      \n      \/\/获取必选项，用对象存储起来，相当于 {1: \x27\x27, 2: [], 3: \x27\x27}\n      getRequiredItem() {\n        this.qsItem.question.forEach( item =\x3e {\n        if (item.isNeed) {\n          if (item.isNeed) {\n            if (item.type === \x27checkbox\x27) {\n              this.requiredItem[item.num] = [] \/\/多选框双向绑定的值\n            } else {\n              this.requiredItem[item.num] = \x27\x27 \/\/单选框 文本框双向绑定的值\n            }\n          }\n        }\n      } )\n    }\n    \n    \/\/直接检测双向绑定的值的内容长度即可知道必填项是否有值\n     validate() {\n      for (let i in this.requiredItem) {\n        if (this.requiredItem[i].length === 0) return false\n      }\n      return true\n    }\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs kotlin\x22\x3e\x3ccode\x3e\x26lt;p v-\x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22option in item.options\x22\x3c\/span\x3e \x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e=\x22\x3cspan class=\x22hljs-title\x22\x3eoption\x3c\/span\x3e\x22\x26gt;\x3c\/span\x3e\n        \x26lt;label\x26gt;\n          \x26lt;input \n          type=\x3cspan class=\x22hljs-string\x22\x3e\x22radio\x22\x3c\/span\x3e \n          :name=\x3cspan class=\x22hljs-string\x22\x3e\x22`\x3cspan class=\x22hljs-subst\x22\x3e${item.num}\x3c\/span\x3e-\x3cspan class=\x22hljs-subst\x22\x3e${item.title}\x3c\/span\x3e`\x22\x3c\/span\x3e\n          v-model=\x3cspan class=\x22hljs-string\x22\x3e\x22requiredItem[item.num]\x22\x3c\/span\x3e\n          v-\x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22item.type === \x27radio\x27\x22\x3c\/span\x3e\n          :value=\x3cspan class=\x22hljs-string\x22\x3e\x22option\x22\x3c\/span\x3e\x26gt;\n          \x26lt;input \n          type=\x3cspan class=\x22hljs-string\x22\x3e\x22checkbox\x22\x3c\/span\x3e \n          :name=\x3cspan class=\x22hljs-string\x22\x3e\x22`\x3cspan class=\x22hljs-subst\x22\x3e${item.num}\x3c\/span\x3e-\x3cspan class=\x22hljs-subst\x22\x3e${item.title}\x3c\/span\x3e`\x22\x3c\/span\x3e\n          v-model=\x3cspan class=\x22hljs-string\x22\x3e\x22requiredItem[item.num]\x22\x3c\/span\x3e\n          v-\x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22item.type === \x27checkbox\x27\x22\x3c\/span\x3e\n          :value=\x3cspan class=\x22hljs-string\x22\x3e\x22option\x22\x3c\/span\x3e\x26gt;\x22{{\x22option\x22}}\x22\n        \x26lt;\/label\x26gt;\n      \x26lt;\/p\x26gt;\n      \x26lt;textarea \n      v-\x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22item.type === \x27textarea\x27\x22\x3c\/span\x3e \n      v-model=\x3cspan class=\x22hljs-string\x22\x3e\x22requiredItem[item.num]\x22\x3c\/span\x3e\x26gt;\x26lt;\/textarea\x26gt;\n      \n      \n      \x3cspan class=\x22hljs-comment\x22\x3e\/\/获取必选项，用对象存储起来，相当于 {1: \x27\x27, 2: [], 3: \x27\x27}\x3c\/span\x3e\n      getRequiredItem() {\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.qsItem.question.forEach( item =\x26gt; {\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (item.isNeed) {\n          \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (item.isNeed) {\n            \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (item.type === \x3cspan class=\x22hljs-string\x22\x3e\x27checkbox\x27\x3c\/span\x3e) {\n              \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.requiredItem[item.num] = [] \x3cspan class=\x22hljs-comment\x22\x3e\/\/多选框双向绑定的值\x3c\/span\x3e\n            } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n              \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.requiredItem[item.num] = \x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3e\/\/单选框 文本框双向绑定的值\x3c\/span\x3e\n            }\n          }\n        }\n      } )\n    }\n    \n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/直接检测双向绑定的值的内容长度即可知道必填项是否有值\x3c\/span\x3e\n     validate() {\n      \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (let i \x3cspan class=\x22hljs-keyword\x22\x3ein\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.requiredItem) {\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.requiredItem[i].length === \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e) \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e\n      }\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e\n    }\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cbr\x3e\x3cbr\x3e  这里还有一个问题，我现在在v-for中通过v-if来判断表单项类型，这样看起来有些冗余，为什么不直接动态绑定type来渲染表单项呢，这样就不用v-if了\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cp v-for=\x26quot;option in item.options\x26quot; class=\x26quot;option\x26quot;\x3e\n  \x3cinput \n    :type=\x26quot;item.type\x26quot; \n    :name=\x26quot;`${item.num}-${item.title}`\x26quot;\n    v-model=\x26quot;requiredItem[item.num]\x26quot;\n    :value=\x26quot;option\x26quot;\x3e\n\x3c\/p\x3e\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x26lt;p v-\x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22option in item.options\x22\x3c\/span\x3e \x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22option\x22\x3c\/span\x3e\x26gt;\n  \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3einput\x3c\/span\x3e \n    \x3cspan class=\x22hljs-attr\x22\x3e:type\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22item.type\x22\x3c\/span\x3e \n    \x3cspan class=\x22hljs-attr\x22\x3e:name\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22`${item.num}-${item.title}`\x22\x3c\/span\x3e\n    \x3cspan class=\x22hljs-attr\x22\x3ev-model\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22requiredItem[item.num]\x22\x3c\/span\x3e\n    \x3cspan class=\x22hljs-attr\x22\x3e:value\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22option\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ep\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cbr\x3e\x3cbr\x3e这样看起来简洁多了，但是这样写会报错，v-model不能绑定在type属性为动态值的表单项上，即type是bind的表单项不能用v-model，所以这里只能退一步使用v-if来选择渲染哪种类型的表单项\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader10\x22\x3e延迟执行函数\x3c\/h3\x3e\n\x3cp\x3e当用户点击删除某一项时，一般的做法时弹出一个弹出层询问用户是否删除，用户点击确定再进行删除操作。这时只要给确定按钮绑定一个点击事件进行删除操作即可，但是当要多次点击确定进行下一个步骤，或者页面多个操作事件都是弹出这个弹出层，这时确定按钮就要去判断绑定哪个操作事件等等，很快就变得非常复杂起来\x3cbr\x3e这里可以使用ES6的Generator函数，可以很方便的解决这个问题\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cdiv class=\x26quot;shadow\x26quot; v-if=\x26quot;showDialog\x26quot;\x3e\n  \x3cdiv class=\x26quot;del-dialog\x26quot;\x3e\n    \x3cheader\x3e\n      \x3cspan\x3e提示\x3c\/span\x3e\n      \x3cspan class=\x26quot;close-btn\x26quot; @click=\x26quot;showDialog = false\x26quot;\x3eX\x3c\/span\x3e\n    \x3c\/header\x3e\n    \x3cp\x3e\x22{{\x22info\x22}}\x22\x3c\/p\x3e\n    \x3cdiv class=\x26quot;btn-box\x26quot;\x3e\n      \x3cbutton class=\x26quot;yes\x26quot; @click=\x26quot;iterator.next();\x26quot;\x3e确定\x3c\/button\x3e\n      \x3cbutton @click=\x26quot;showDialog = false\x26quot;\x3e取消\x3c\/button\x3e\n    \x3c\/div\x3e\n  \x3c\/div\x3e\n\x3c\/div\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x26lt;div \x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22shadow\x22\x3c\/span\x3e v-\x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22showDialog\x22\x3c\/span\x3e\x26gt;\n  \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22del-dialog\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eheader\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n      \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e\x26gt;\x3c\/span\x3e提示\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n      \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22close-btn\x22\x3c\/span\x3e @\x3cspan class=\x22hljs-attr\x22\x3eclick\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22showDialog = false\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3eX\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eheader\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ep\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x22{{\x22info\x22}}\x22\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ep\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22btn-box\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n      \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ebutton\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22yes\x22\x3c\/span\x3e @\x3cspan class=\x22hljs-attr\x22\x3eclick\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22iterator.next();\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e确定\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ebutton\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n      \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ebutton\x3c\/span\x3e @\x3cspan class=\x22hljs-attr\x22\x3eclick\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22showDialog = false\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e取消\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ebutton\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n\x26lt;\x3cspan class=\x22hljs-regexp\x22\x3e\/div\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e弹出层内容\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22data() {\n  return {\n    qsList: [],\n    showDialog: false, \/\/是否显示弹出层\n    iterator: {}, \/\/当前迭代器\n    info: \x27\x27 \/\/弹出层提示内容\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs less\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-selector-tag\x22\x3edata\x3c\/span\x3e() {\n  \x3cspan class=\x22hljs-selector-tag\x22\x3ereturn\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-attribute\x22\x3eqsList\x3c\/span\x3e: [],\n    \x3cspan class=\x22hljs-attribute\x22\x3eshowDialog\x3c\/span\x3e: false, \x3cspan class=\x22hljs-comment\x22\x3e\/\/是否显示弹出层\x3c\/span\x3e\n    \x3cspan class=\x22hljs-attribute\x22\x3eiterator\x3c\/span\x3e: {}, \x3cspan class=\x22hljs-comment\x22\x3e\/\/当前迭代器\x3c\/span\x3e\n    \x3cspan class=\x22hljs-attribute\x22\x3einfo\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3e\/\/弹出层提示内容\x3c\/span\x3e\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3edata中的数据\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22*delItem(num) {\n    yield this.showDialogMsg(\x27确认要删除此问卷\x27)\n\n    yield (() =\x3e {\n      let index = 0;\n      for (let length = this.qsList.length; index \x3c length; index\x2b\x2b) {\n        if (this.qsList[index].num === num) break;\n      }\n      this.qsList.splice(index, 1);\n      this.showDialog = false;\n    })();\n  },\n  *delItems() {\n    yield this.showDialogMsg(\x27确认要删除选中的问卷？\x27);\n\n    yield (() =\x3e {\n      this.showDialog = false;\n      if (this.selectAll) {\n        this.qsList = [];\n        return;\n      }\n      if (this.selectGroup == []) return;\n\n      this.selectGroup.forEach( item =\x3e {\n        if (this.qsList.indexOf(item) \x3e -1) this.qsList.splice(this.qsList.indexOf(item), 1);\n      } )\n    })();     \n  },\n  *edit(item) {\n    yield (() =\x3e {\n      if (item.state === \x27noissue\x27) {\n        this.showDialogMsg(\x27确认要编辑？\x27);\n      } else {\n        this.showDialogMsg(\x27只有未发布的问卷才能编辑\x27);\n      }\n    })();\n    yield (() =\x3e {\n      if (item.state !== \x27noissue\x27) {\n        this.showDialog = false;\n      } else {\n        this.showDialog = false;\n        this.$router.push({name: \x27qsEdit\x27, params: { num: item.num \x22}}\x22)\n      }\n    })();\n  },\n  *watchData(item) {\n    yield (() =\x3e {\n      if (item.state === \x27noissue\x27) {\n        this.showDialogMsg(\x27未发布的问卷无数据可查看\x27);\n      } else {\n        this.$router.push({ name: \x27qsData\x27, params: { num: item.num \x22}}\x22)\n      }\n    })();\n    yield this.showDialog = false;\n  }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs kotlin\x22\x3e\x3ccode\x3e*delItem(num) {\n    yield \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.showDialogMsg(\x3cspan class=\x22hljs-string\x22\x3e\x27确认要删除此问卷\x27\x3c\/span\x3e)\n\n    yield (() =\x26gt; {\n      let index = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n      \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (let length = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.qsList.length; index \x26lt; length; index\x2b\x2b) {\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.qsList[index].num === num) \x3cspan class=\x22hljs-keyword\x22\x3ebreak\x3c\/span\x3e;\n      }\n      \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.qsList.splice(index, \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e);\n      \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.showDialog = \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e;\n    })();\n  },\n  *delItems() {\n    yield \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.showDialogMsg(\x3cspan class=\x22hljs-string\x22\x3e\x27确认要删除选中的问卷？\x27\x3c\/span\x3e);\n\n    yield (() =\x26gt; {\n      \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.showDialog = \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e;\n      \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.selectAll) {\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.qsList = [];\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e;\n      }\n      \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.selectGroup == []) \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e;\n\n      \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.selectGroup.forEach( item =\x26gt; {\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.qsList.indexOf(item) \x26gt; \x3cspan class=\x22hljs-number\x22\x3e-1\x3c\/span\x3e) \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.qsList.splice(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.qsList.indexOf(item), \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e);\n      } )\n    })();     \n  },\n  *edit(item) {\n    yield (() =\x26gt; {\n      \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (item.state === \x3cspan class=\x22hljs-string\x22\x3e\x27noissue\x27\x3c\/span\x3e) {\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.showDialogMsg(\x3cspan class=\x22hljs-string\x22\x3e\x27确认要编辑？\x27\x3c\/span\x3e);\n      } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.showDialogMsg(\x3cspan class=\x22hljs-string\x22\x3e\x27只有未发布的问卷才能编辑\x27\x3c\/span\x3e);\n      }\n    })();\n    yield (() =\x26gt; {\n      \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (item.state !== \x3cspan class=\x22hljs-string\x22\x3e\x27noissue\x27\x3c\/span\x3e) {\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.showDialog = \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e;\n      } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.showDialog = \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e;\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$router.push({name: \x3cspan class=\x22hljs-string\x22\x3e\x27qsEdit\x27\x3c\/span\x3e, params: { num: item.num \x22}}\x22)\n      }\n    })();\n  },\n  *watchData(item) {\n    yield (() =\x26gt; {\n      \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (item.state === \x3cspan class=\x22hljs-string\x22\x3e\x27noissue\x27\x3c\/span\x3e) {\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.showDialogMsg(\x3cspan class=\x22hljs-string\x22\x3e\x27未发布的问卷无数据可查看\x27\x3c\/span\x3e);\n      } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$router.push({ name: \x3cspan class=\x22hljs-string\x22\x3e\x27qsData\x27\x3c\/span\x3e, params: { num: item.num \x22}}\x22)\n      }\n    })();\n    yield \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.showDialog = \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e;\n  }\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e可以看到 页面中多个操作都绑定在一个弹出层上，实现最大程度的复用，而且不会冲突，只要把当前要执行的操作的迭代器赋给确定按钮，确定按钮执行next方法即可\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader11\x22\x3ev-for每次渲染元素就自动执行一个函数\x3c\/h3\x3e\n\x3cp\x3e有时我们需要v-for的每次遍历中就执行一个函数，我们可以这样\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cli v-for=\x26quot;item in data\x26quot;\x3e\x22{{\x22doSomething()\x22}}\x22\x3c\/li\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs django\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ev-for\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22item in data\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e\x22{{\x22doSomething()\x22}}\x22\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e但是这种做法如果执行比较复杂的方法很容易出现一些错误比如无限循环等错误，而且也不推荐\x3cbr\x3e\x3cbr\x3e根据需要可以考虑在js中再次遍历这个数据然后在遍历中对每一项进行操作\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader12\x22\x3ewatch无意中造成的无限循环错误\x3c\/h3\x3e\n\x3cp\x3e在编辑问卷功能中，题目号应该要根据题目的上移下移复用删除新建等操作进行变化，我使用了watch来监测变化然后更改题号\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22watch: {\n  \x27$route\x27: \x27fetchData\x27,\n  qsItem: {\n    handler(newVal) {\n      newVal.question.forEach( (item, index) =\x3e {\n        item.num = `Q${index \x2b 1}`\n      } )\n    },\n    deep: true\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs coffeescript\x22\x3e\x3ccode\x3ewatch: {\n  \x3cspan class=\x22hljs-string\x22\x3e\x27$route\x27\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27fetchData\x27\x3c\/span\x3e,\n  qsItem: {\n    handler(newVal) {\n      newVal.question.forEach( \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e(item, index)\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n        item.num = `\x3cspan class=\x22javascript\x22\x3eQ${index \x2b \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e}\x3c\/span\x3e`\n      } )\n    },\n    deep: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e我在进行上移，下移，删除，新建问题等操作时都没有问题，但是在复用操作时产生了无限循环的问题\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cdiv class=\x26quot;questions\x26quot; v-for=\x26quot;(qs, index) in qsItem.question\x26quot;\x3e\n    \x3cspan @click=\x26quot;copy(index, qs)\x26quot;\x3e复用\x3c\/span\x3e\n\x3c\/div\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x26lt;div \x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22questions\x22\x3c\/span\x3e v-\x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22(qs, index) in qsItem.question\x22\x3c\/span\x3e\x26gt;\n    \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e @\x3cspan class=\x22hljs-attr\x22\x3eclick\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22copy(index, qs)\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e复用\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n\x26lt;\x3cspan class=\x22hljs-regexp\x22\x3e\/div\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e复用按钮，和复用方法\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22copy(index, qs) {\n  if (this.questionLength === 10) return alert(\x27问卷已满！\x27)\n  this.qsItem.question.splice(index, 0, qs)\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs kotlin\x22\x3e\x3ccode\x3ecopy(index, qs) {\n  \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.questionLength === \x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3e) \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e alert(\x3cspan class=\x22hljs-string\x22\x3e\x27问卷已满！\x27\x3c\/span\x3e)\n  \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.qsItem.question.splice(index, \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e, qs)\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这样写看起来没什么问题，哪个item下的复用按钮被点击，就将这个item添加到自己下一项。\x3cbr\x3e但是qs添加到watch监测的变量中后，会触发watch的方法，更改题目号，即qs的题目号被更改，同时qs又是那个被点击的item，它们之间存在引用，这就会造成qs题目号的更改会使点击的item的题目号跟着一起变化，这样item一变化，watch又被触发，同时item的题目号因为跟着一起变化，导致题目号不是它正确的题目号，watch触发后，item的题目号又会变化为原来的，因为存在引用qs的又会跟着变，然后再次触发watch....一直循环下去\x3cbr\x3e解决方法是用Object.assign()进行一次深拷贝，这样qs和item之间就不存在引用了\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22copy(index, qs) {\n  if (this.questionLength === 10) return alert(\x27问卷已满！\x27)\n  qs = Object.assign({}, qs)\n  this.qsItem.question.splice(index, 0, qs)\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs kotlin\x22\x3e\x3ccode\x3ecopy(index, qs) {\n  \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.questionLength === \x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3e) \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e alert(\x3cspan class=\x22hljs-string\x22\x3e\x27问卷已满！\x27\x3c\/span\x3e)\n  qs = Object.assign({}, qs)\n  \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.qsItem.question.splice(index, \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e, qs)\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这种做法不推荐，因为这种情况下使用watch本来就是不应该的，非常容易造成想不到的问题\x3cbr\x3e\x3cbr\x3e推荐的做法是将watch中的方法封装成一个函数，每次操作时就调用这个函数，当然还是需要Object.assign()来解除复用元素之间的绑定\x3cbr\x3e\x3cbr\x3e这里我为了练习还是使用了watch这个不推荐的方法\x3cbr\x3e\x3c\/p\x3e\n\x3cblockquote\x3e\x3cp\x3e总结完成，交作业了\x3c\/p\x3e\x3c\/blockquote\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>Vue.js实现一个简易问卷平台(项目中遇到的问题总结)</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000009000663">https://segmentfault.com/a/1190000009000663</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/7pqxb7oe3ka/" target="_blank">https://alili.tech/archive/7pqxb7oe3ka/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5328xogjarn/">IndexedDB--HTML5本地存储<aside class="dates">2019-01-28</aside></a></li><li><a href="/archive/xpccu0hsqbr/">JS学习系列 01 - 编译原理和作用域<aside class="dates">2019-01-28</aside></a></li><li><a href="/archive/shv09bbtbfd/">Vue2 SSR 的优化之旅<aside class="dates">2019-01-28</aside></a></li><li><a href="/archive/5vj1ojfo6h6/">[2016年末巨献] — HTML5可交互地铁线路图（第二季：帝都进阶版）<aside class="dates">2019-01-28</aside></a></li><li><a href="/archive/m02hlm4bzh/">vue2.0开发聊天程序（三）组件的通信<aside class="dates">2019-01-28</aside></a></li><li><a href="/archive/mz5o7n90plg/">《很高兴我没有猝死》- 前端新人的 2016 年总结和感悟<aside class="dates">2019-01-28</aside></a></li><li><a href="/archive/3vhoe2mo09k/">一道颇有难度的JavaScript题<aside class="dates">2019-01-28</aside></a></li><li><a href="/archive/uj12mb7thp/">使用CANVAS实现交互性圆形马赛克效果<aside class="dates">2019-01-28</aside></a></li><li><a href="/archive/ja636h8hcxa/">写于 2016 年末<aside class="dates">2019-01-28</aside></a></li><li><a href="/archive/5uomnoq1kmi/">前端学习资源整理<aside class="dates">2019-01-28</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>