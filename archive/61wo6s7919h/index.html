<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="关于weex"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>关于weex | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/61wo6s7919h/",
				"appid": "1613049289050283", 
				"title": "关于weex | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-31T02:31:16"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/p66a1uqbc7o/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/p61o2l4m6b/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2f61wo6s7919h%2f&text=%e5%85%b3%e4%ba%8eweex"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2f61wo6s7919h%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2f61wo6s7919h%2f&text=%e5%85%b3%e4%ba%8eweex"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2f61wo6s7919h%2f&title=%e5%85%b3%e4%ba%8eweex"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2f61wo6s7919h%2f&is_video=false&description=%e5%85%b3%e4%ba%8eweex"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e5%85%b3%e4%ba%8eweex&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2f61wo6s7919h%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2f61wo6s7919h%2f&title=%e5%85%b3%e4%ba%8eweex"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f61wo6s7919h%2f&title=%e5%85%b3%e4%ba%8eweex"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f61wo6s7919h%2f&title=%e5%85%b3%e4%ba%8eweex"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f61wo6s7919h%2f&title=%e5%85%b3%e4%ba%8eweex"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">关于weex</h1><div class="meta"><div class="postdate"><time datetime="2019-01-31" itemprop="datePublished">2019-01-31</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch1 id=\x22articleHeader0\x22\x3e生命周期\x3c\/h1\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cscript\x3e\n  module.exports = {\n    data: {},\n    methods: {},\n\n    init: function () {\n      console.log(\x27在初始化内部变量，并且添加了事件功能后被触发\x27);\n    },\n    created: function () {\n      console.log(\x27完成数据绑定之后，模板编译之前被触发\x27);\n    },\n    ready: function () {\n      console.log(\x27模板已经编译并且生成了 Virtual DOM 之后被触发\x27);\n    },\n    destroyed: function () {\n      console.log(\x27在页面被销毁时调用\x27);\n    }\n  }\n\x3c\/script\x3e\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xml\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22javascript\x22\x3e\n  \x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.exports = {\n    \x3cspan class=\x22hljs-attr\x22\x3edata\x3c\/span\x3e: {},\n    \x3cspan class=\x22hljs-attr\x22\x3emethods\x3c\/span\x3e: {},\n\n    \x3cspan class=\x22hljs-attr\x22\x3einit\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n      \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27在初始化内部变量，并且添加了事件功能后被触发\x27\x3c\/span\x3e);\n    },\n    \x3cspan class=\x22hljs-attr\x22\x3ecreated\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n      \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27完成数据绑定之后，模板编译之前被触发\x27\x3c\/span\x3e);\n    },\n    \x3cspan class=\x22hljs-attr\x22\x3eready\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n      \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27模板已经编译并且生成了 Virtual DOM 之后被触发\x27\x3c\/span\x3e);\n    },\n    \x3cspan class=\x22hljs-attr\x22\x3edestroyed\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n      \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27在页面被销毁时调用\x27\x3c\/span\x3e);\n    }\n  }\n\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3einit内一般用于初始化一些内部变量，绑定一些自定义事件，这时还没有数据绑定，没有创建vdom，所以不能通过this获取到data和methods，也不能获取vdom的节点\x3c\/p\x3e\n\x3cp\x3ecreated 完成了数据绑定 ，但还未开始编译模板，可以通过this获取data和methods，但不能获取vdom的节点\x3c\/p\x3e\n\x3cp\x3eready表示渲染完成 ，从子组件往上触发\x3c\/p\x3e\n\x3cp\x3edestroyed 组件销毁，比如页面跳转，从子组件开始往上触发\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader1\x22\x3e工作原理\x3c\/h1\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVFVNn?w=957\x26amp;h=566\x22 src=\x22https:\/\/static.alili.tech\/img\/bVFVNn?w=957\x26amp;h=566\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVFVNQ?w=998\x26amp;h=661\x22 src=\x22https:\/\/static.alili.tech\/img\/bVFVNQ?w=998\x26amp;h=661\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVFVNU?w=2048\x26amp;h=1536\x22 src=\x22https:\/\/static.alili.tech\/img\/bVFVNU?w=2048\x26amp;h=1536\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3eWeex设计之初就考虑到在三端（iOS、安卓和H5）上能够得到展现。在最上面的DSL，阿里一般称之为Weex文件（.we），通过Transformer转换成js-bundle，再部署到服务器，这样服务端就完成了。在客户端，第一层是JS-Framework，最后到RenderRengine。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVFS1V?w=640\x26amp;h=408\x22 src=\x22https:\/\/static.alili.tech\/img\/bVFS1V?w=640\x26amp;h=408\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e输入是Virtual DOM输出是native或者H5 view，还原成内存中的树型数据结构，再创建view，把事件绑定在view上，把view基本属性设上去。Weex Render会分三个线程，不同的线程负责不同的事情，让JS线程优先保障流畅性。\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader2\x22\x3e工作模式\x3c\/h1\x3e\n\x3cp\x3eWeex的三种工作模式。\x3c\/p\x3e\n\x3col\x3e\x3cli\x3e\x3cp\x3e全页模式\x3c\/p\x3e\x3c\/li\x3e\x3c\/ol\x3e\n\x3cp\x3e目前支持单页使用或整个App使用Weex开发（还不完善，需要开发Router和生命周期管理），这是主推的模式，可以类比RN。\x3c\/p\x3e\n\x3col\x3e\x3cli\x3e\x3cp\x3eNative Component模式\x3c\/p\x3e\x3c\/li\x3e\x3c\/ol\x3e\n\x3cp\x3e把Weex当作一个iOS\/Android组件来使用，类比ImageView。这类需求遍布手淘主链路，如首页、主搜结果、交易组件化等，这类Native页面主体已经很稳定，但是局部动态化需求旺盛导致频繁发版，解决这类问题也是Weex的重点。\x3c\/p\x3e\n\x3col\x3e\x3cli\x3e\x3cp\x3eH5 Component模式\x3c\/p\x3e\x3c\/li\x3e\x3c\/ol\x3e\n\x3cp\x3e在H5种使用Weex，类比WVC。一些较复杂或特殊的H5页面短期内无法完全转为Weex全页模式（或RN），比如互动类页面、一些复杂频道页等。这个痛点的解决办法是：在现有的H5页面上做微调，引入Native解决长列表内存暴增、滚动不流畅、动画\/手势体验差等问题。\x3c\/p\x3e\n\x3cp\x3e另外，WVC将会融入到Weex中，成为Weex的H5 Components模式。\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader3\x22\x3e各种文档\x3c\/h1\x3e\n\x3ch2 id=\x22articleHeader4\x22\x3e官方\x3c\/h2\x3e\n\x3cp\x3e官网 \x3ca href=\x22http:\/\/alibaba.github.io\/weex\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/alibaba.github.io\/weex\/\x3c\/a\x3e\x3cbr\x3e官方英文 \x3ca href=\x22http:\/\/alibaba.github.io\/weex\/doc\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/alibaba.github.io\/weex...\x3c\/a\x3e\x3cbr\x3e官方示例 \x3ca href=\x22http:\/\/alibaba.github.io\/weex\/demo.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/alibaba.github.io\/weex...\x3c\/a\x3e\x3cbr\x3eWeex Playground \x3ca href=\x22http:\/\/alibaba.github.io\/weex\/download.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/alibaba.github.io\/weex...\x3c\/a\x3e\x3cbr\x3egithub \x3ca href=\x22https:\/\/github.com\/alibaba\/weex\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/github.com\/alibaba\/weex\x3c\/a\x3e\x3cbr\x3e工程开发套件 \x3ca href=\x22https:\/\/github.com\/weexteam\/weex-pack\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/github.com\/weexteam\/w...\x3c\/a\x3e\x3cbr\x3e命令行工具 \x3ca href=\x22https:\/\/github.com\/weexteam\/weex-toolkit\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/github.com\/weexteam\/w...\x3c\/a\x3e\x3cbr\x3e调试工具 \x3ca href=\x22https:\/\/github.com\/weexteam\/weex-devtool\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/github.com\/weexteam\/w...\x3c\/a\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader5\x22\x3e第三方\x3c\/h2\x3e\n\x3cp\x3eawesome-weex \x3ca href=\x22https:\/\/github.com\/joggerplus\/awesome-weex\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/github.com\/joggerplus...\x3c\/a\x3e\x3cbr\x3evczero \x3ca href=\x22https:\/\/github.com\/vczero\/weex-learning\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/github.com\/vczero\/wee...\x3c\/a\x3e\x3cbr\x3eh5weex开发相关文章 \x3ca href=\x22https:\/\/github.com\/h5weex\/h5weex-books\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/github.com\/h5weex\/h5w...\x3c\/a\x3e\x3cbr\x3eweex中文文档 \x3ca href=\x22http:\/\/doc.weexstore.com\/177086\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/doc.weexstore.com\/177086\x3c\/a\x3e\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader6\x22\x3e社区讨论组\x3c\/h1\x3e\n\x3cp\x3egitter \x3ca href=\x22https:\/\/gitter.im\/weexteam\/cn\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/gitter.im\/weexteam\/cn\x3c\/a\x3e\x3cbr\x3eweex-help \x3ca href=\x22http:\/\/weex.help\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/weex.help\/\x3c\/a\x3e\x3cbr\x3eweex.store \x3ca href=\x22http:\/\/weexstore.com\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/weexstore.com\/\x3c\/a\x3e\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader7\x22\x3edemo\x3c\/h1\x3e\n\x3cp\x3eweex-demo-dusan 实现splash，guide，home页面，交互主要是点击，左右，上下滑动。\x3ca href=\x22https:\/\/github.com\/duqian291902259\/weex-demo-dusan\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/github.com\/duqian2919...\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3ehello-weex包括一个Weex App，和自己扩展的WeexiOSKit。\x3cbr\x3ehello-weex \x3ca href=\x22https:\/\/github.com\/coderyi\/hello-weex\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/github.com\/coderyi\/he...\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3etoolbox-weex 一个小型的项目，帮助新手体会一下如何做出可以看、可以用的原生界面。\x3cbr\x3e\x3ca href=\x22https:\/\/github.com\/hugojing\/toolbox-weex\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/github.com\/hugojing\/t...\x3c\/a\x3e\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader8\x22\x3e模块化\x3c\/h1\x3e\n\x3cp\x3eweex很多功能都进行了模块化的封装,内置模块引用需要添加@weex-module前缀,使用\x3ccode\x3erequire(\x27@weex-module\/name\x27)\x3c\/code\x3e可以进行引用。\x3c\/p\x3e\n\x3cp\x3e现有模块包括:\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3edom\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3esteam\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3emodal\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eanimation\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3ewebview\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3enavigator\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch1 id=\x22articleHeader9\x22\x3e文章\x3c\/h1\x3e\n\x3cp\x3e阿里巴巴开源前端框架--Weex实践\x3cbr\x3e\x3ca href=\x22http:\/\/blog.csdn.net\/zhangcanyan\/article\/details\/51823356\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/blog.csdn.net\/zhangcan...\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3eWeex详解：灵活的移动端高性能动态化方案 \x3ca href=\x22http:\/\/www.imooc.com\/article\/7213\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/www.imooc.com\/article\/...\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e给正在学习Vuejs同学的几个小Tips\x3ca href=\x22http:\/\/www.imooc.com\/article\/12479\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/www.imooc.com\/article\/...\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e阿里无线11.11 ： Weex——关于移动端动态性的思考、实现和未来 \x3ca href=\x22http:\/\/www.infoq.com\/cn\/articles\/taobao-mobile-weex\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/www.infoq.com\/cn\/artic...\x3c\/a\x3e\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader10\x22\x3e细节\x3c\/h1\x3e\n\x3ch2 id=\x22articleHeader11\x22\x3e文件目录结构\x3c\/h2\x3e\n\x3cp\x3eWeex默认的文件结构是要求所有相关的we文件都在同一级目录下，以便能准确的找到依赖的组件，例如：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22bar.we\n\n\x3ctemplate\x3e\n  \x3cdiv\x3e\x3ctext\x3ebar\x3c\/text\x3e\x3c\/div\x3e\n\x3c\/template\x3e\nfoo.we\n\n\x3ctemplate\x3e\n  \x3cdiv\x3e\x3cbar\x3e\x3c\/bar\x3e\x3c\/div\x3e\n\x3c\/template\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xml\x22\x3e\x3ccode\x3ebar.we\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etext\x3c\/span\x3e\x26gt;\x3c\/span\x3ebar\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etext\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\nfoo.we\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ebar\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ebar\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e当需要提取一些公共组件，这些公共组件一般存放在一个公共目录下（自建的目录或通过npm安装到node_modules目录），而这样的文件结构，也往往出现在一些完整的项目工程中，当通过上述的脚手架搭建好示例工程手，可以通过前端习惯的require方式来引用非相同目录下的we文件，例如：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22components\/bar.we\n\n\x3ctemplate\x3e\n \x3cdiv\x3e\x3ctext\x3ebar\x3c\/text\x3e\x3c\/div\x3e\n\x3c\/template\x3e\nfoo.we\n\n\x3ctemplate\x3e\n \x3cdiv\x3e\x3cbar\x3e\x3c\/bar\x3e\x3c\/div\x3e\n\x3c\/template\x3e\n\n\x3cscript\x3e\nrequire(\x27.\/components\/bar\x27)\n\x3c\/script\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xml\x22\x3e\x3ccode\x3ecomponents\/bar.we\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etext\x3c\/span\x3e\x26gt;\x3c\/span\x3ebar\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etext\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\nfoo.we\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ebar\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ebar\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22javascript\x22\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27.\/components\/bar\x27\x3c\/span\x3e)\n\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e其背后的原理，实际上是整个转换和打包过程借助了webpack以及weex-loader，使得其中的模块化定义遵循标准的The way of CommonJS。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader12\x22\x3e引用标准JS文件\x3c\/h2\x3e\n\x3cp\x3e有了webpack的助力，在we文件中，也能轻松使用一个符合CommonJS规范的JS文件。例如，通过npm安装了业界No.1的工具库lodash：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22foo.we\n\n\x3ctemplate\x3e\n \x3cdiv\x3e\x3ctext\x3e\x22{{\x22foo \x2b bar\x22}}\x22\x3c\/text\x3e\x3c\/div\x3e\n\x3c\/template\x3e\n\n\x3cscript\x3e\nvar _  = require(\x27lodash\x27)\nmodule.exports = {\n  data: {\n    foo: \x27foo\x27,\n    bar: \x27bar\x27\n  },\n  created: function() {\n    _.assign(this.data, {foo: \x27the foo\x27, bar: \x27the bar\x27})\n  }\n}\n\x3c\/script\x3e\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs django\x22\x3e\x3ccode\x3e\x3cspan class=\x22xml\x22\x3efoo.we\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etext\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e\x22{{\x22foo \x2b bar\x22}}\x22\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etext\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22javascript\x22\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e _  = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27lodash\x27\x3c\/span\x3e)\n\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.exports = {\n  \x3cspan class=\x22hljs-attr\x22\x3edata\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-attr\x22\x3efoo\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27foo\x27\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3ebar\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27bar\x27\x3c\/span\x3e\n  },\n  \x3cspan class=\x22hljs-attr\x22\x3ecreated\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    _.assign(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.data, {\x3cspan class=\x22hljs-attr\x22\x3efoo\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27the foo\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3ebar\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27the bar\x27\x3c\/span\x3e})\n  }\n}\n\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e##用上Tomorrow\x27s css和ES2015\x3cbr\x3e如今前端的开发，一般离不开预处理器，比如postcss和babel。在默认的we文件中，即使有webpack的助力，这类预处理器也是对其无能为力的。为此，我们需要拆分这个we文件，让它变成标准的html、css或js文件。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\nbar.we.html\n\n\x3ctemplate\x3e\n \x3cdiv\x3e\x3ctext class=\x26quot;hello\x26quot;\x3eHello \x22{{\x22name\x22}}\x22\x3c\/text\x3e\x3c\/div\x3e\n\x3c\/template\x3e\nbar.we.css\n\n.hello {\n  font-size: 40px;\n  color: #333;\n}\nbar.we.js\n\nmodule.exports = {\n  template: require(\x27.\/foo.we.html\x27),\n  style: require(\x27.\/foo.we.css\x27),\n  data: {\n    name: \x27Weex\x27\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode\x3e\nbar\x3cspan class=\x22hljs-selector-class\x22\x3e.we\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.html\x3c\/span\x3e\n\n\x26lt;template\x26gt;\n \x26lt;div\x26gt;\x26lt;text class=\x3cspan class=\x22hljs-string\x22\x3e\x22hello\x22\x3c\/span\x3e\x26gt;Hello \x22{{\x22name\x22}}\x22\x26lt;\/text\x26gt;\x26lt;\/div\x26gt;\n\x26lt;\/template\x26gt;\nbar\x3cspan class=\x22hljs-selector-class\x22\x3e.we\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.css\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-selector-class\x22\x3e.hello\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-attribute\x22\x3efont-size\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e40px\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-attribute\x22\x3ecolor\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e#333\x3c\/span\x3e;\n}\nbar\x3cspan class=\x22hljs-selector-class\x22\x3e.we\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.js\x3c\/span\x3e\n\nmodule\x3cspan class=\x22hljs-selector-class\x22\x3e.exports\x3c\/span\x3e = {\n  template: require(\x3cspan class=\x22hljs-string\x22\x3e\x27.\/foo.we.html\x27\x3c\/span\x3e),\n  style: require(\x3cspan class=\x22hljs-string\x22\x3e\x27.\/foo.we.css\x27\x3c\/span\x3e),\n  data: {\n    name: \x3cspan class=\x22hljs-string\x22\x3e\x27Weex\x27\x3c\/span\x3e\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e并且，需要在webpack.config.js中加入几个能解析这些特殊文件的loader：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\nloaders: [\n  {\n    test: \/\\.we\\.js(\\?[^?]\x2b)?$\/,\n    loaders: [\x27weex?type=script\x27]\n  },\n  {\n    test: \/\\.we\\.css(\\?[^?]\x2b)?$\/, \n    loaders: [\x27weex?type=style\x27]\n  },\n  {\n    test: \/\\.we\\.html(\\?[^?]\x2b)?$\/, \n    loaders: [\x27weex?type=tpl\x27]\n  }\n]\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs tex\x22\x3e\x3ccode\x3e\nloaders: [\n  {\n    test: \/\x3cspan class=\x22hljs-tag\x22\x3e\\\x3cspan class=\x22hljs-name\x22\x3e.\x3c\/span\x3e\x3c\/span\x3ewe\x3cspan class=\x22hljs-tag\x22\x3e\\\x3cspan class=\x22hljs-name\x22\x3e.\x3c\/span\x3e\x3c\/span\x3ejs(\x3cspan class=\x22hljs-tag\x22\x3e\\\x3cspan class=\x22hljs-name\x22\x3e?\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e[^?]\x3c\/span\x3e\x3c\/span\x3e\x2b)?\x3cspan class=\x22hljs-formula\x22\x3e$\/,\n    loaders: [\x27weex?type=script\x27]\n  },\n  {\n    test: \/\x3cspan class=\x22hljs-tag\x22\x3e\\\x3cspan class=\x22hljs-name\x22\x3e.\x3c\/span\x3e\x3c\/span\x3ewe\x3cspan class=\x22hljs-tag\x22\x3e\\\x3cspan class=\x22hljs-name\x22\x3e.\x3c\/span\x3e\x3c\/span\x3ecss(\x3cspan class=\x22hljs-tag\x22\x3e\\\x3cspan class=\x22hljs-name\x22\x3e?\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e[^?]\x3c\/span\x3e\x3c\/span\x3e\x2b)?$\x3c\/span\x3e\/, \n    loaders: [\x27weex?type=style\x27]\n  },\n  {\n    test: \/\x3cspan class=\x22hljs-tag\x22\x3e\\\x3cspan class=\x22hljs-name\x22\x3e.\x3c\/span\x3e\x3c\/span\x3ewe\x3cspan class=\x22hljs-tag\x22\x3e\\\x3cspan class=\x22hljs-name\x22\x3e.\x3c\/span\x3e\x3c\/span\x3ehtml(\x3cspan class=\x22hljs-tag\x22\x3e\\\x3cspan class=\x22hljs-name\x22\x3e?\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e[^?]\x3c\/span\x3e\x3c\/span\x3e\x2b)?\x3cspan class=\x22hljs-formula\x22\x3e$\/, \n    loaders: [\x27weex?type=tpl\x27]\n  }\n]\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e之后，仍然使用require的方式来引用这个\x27we\x27文件：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22foo.we\n\n\x3ctemplate\x3e\n \x3cdiv\x3e\x3cbar\x3e\x3c\/bar\x3e\x3c\/div\x3e\n\x3c\/template\x3e\n\n\x3cscript\x3e\nrequire(\x27.\/bar.we.js\x27)\n\x3c\/script\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xml\x22\x3e\x3ccode\x3efoo.we\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ebar\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ebar\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22javascript\x22\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27.\/bar.we.js\x27\x3c\/span\x3e)\n\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e当分割了we文件后，你就可以分别对其中的css或js文件使用你想要的预处理器。\x3c\/p\x3e\n\x3cp\x3e！！！不过需要特别提醒的是，目前weex-loader只支持module.exports={...}的模块输出方式，所以即使你在js文件中用了ES6的import，但请勿使用export来导出模块\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader13\x22\x3e调用native提供的模块方法\x3c\/h2\x3e\n\x3cp\x3eWeex的代码本身是运行在js的runtime下的，所以为了和native进行通讯，就需要借由hybrid的方式。其中，对于native提供的一系列模块方法，就需要用一种特殊，但直观的方式来调用。\x3c\/p\x3e\n\x3cp\x3e原本，Weex中集成了一些预定义的API，例如this.$sendMtop。但这些预定义API的维护成本过高，因此在最新甚至以后的Weex版本中，会渐渐废弃这类预定义的API，而改用更加通用的方式：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var stream = require(\x27@weex-module\/stream\x27)\nmodule.exports = {\n  ready: function() {\n    if (stream \x26amp;\x26amp; stream.sendMtop) {\n      stream.sendMtop(params, callback)\n    } else {\n      console.error(\x27stream.sendMtop is invalid\x27)\n    }\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e stream = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27@weex-module\/stream\x27\x3c\/span\x3e)\n\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.exports = {\n  \x3cspan class=\x22hljs-attr\x22\x3eready\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (stream \x26amp;\x26amp; stream.sendMtop) {\n      stream.sendMtop(params, callback)\n    } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n      \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.error(\x3cspan class=\x22hljs-string\x22\x3e\x27stream.sendMtop is invalid\x27\x3c\/span\x3e)\n    }\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这里又再次请出了万能的 require ，不过和普通的 require 不同的是，需要指定特定的 \x3ccode\x3e@weex-module\x3c\/code\x3e 前缀方能正确使用\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader14\x22\x3e慎用或不用异步函数\x3c\/h2\x3e\n\x3cp\x3e为了解释异步函数的在Weex中的危害，首先要理解在Weex中产生的两类task。\x3c\/p\x3e\n\x3cp\x3e一类，是由Weex控制的js和native交互时产生的task（以下简称Weex的task），比如一系列异步调用native模块方法，或者点击事件等。\x3c\/p\x3e\n\x3cp\x3e一类，是系统原生的task（以下简称原生的task），比如·setTimeout，Promise·。\x3c\/p\x3e\n\x3cp\x3e在Weex的task中更新数据时，Weex可以自动更新View。而在原生的task中，因为Weex丧失了控制权，所以无法做到自动更新。这就导致，在原生的task中产生的diff，会滞留直到下一次Weex的task才会被触发更新View。从表面上看，就是在这些原生的task中改变数据后，并没有及时反应到View上。为了，避免这个问题的产生，目前来说并不推荐使用Promise。而对于setTimeout来说，可以使用native提供的timer.setTimeout的模块方法。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader15\x22\x3e生命周期的一二三\x3c\/h2\x3e\n\x3cp\x3eWeex当前版本设计了组件的生命周期，以下的一张图可以比较直观的告诉大家在整个生命周期里都做了些什么事情：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVFTzk?w=721\x26amp;h=486\x22 src=\x22https:\/\/static.alili.tech\/img\/bVFTzk?w=721\x26amp;h=486\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e那么在这些生命周期的Hook里，可以做哪些事情呢：\x3c\/p\x3e\n\x3cp\x3e在init中可以进行数据请求，比如mtop。但这个时候上下文中还没有data对象，同时也不建议在之后的任何阶段改变data的数据结构。\x3cbr\x3e在created中，可以对data进行操作了，且此时更新数据不会产生多余的diff，但切忌也不能更改data的数据结构。另外，可以通过this.$on来监听子组件的dispatch。\x3cbr\x3e在ready中，此时子组件已经ready，可以获取子组件的Vm对象了。而此时，如果更新数据，会产生多余的diff。\x3cbr\x3e特别提醒：这三个阶段，都是不允许更改data的数据结构的。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader16\x22\x3e[Bug]设置样式的默认值\x3c\/h2\x3e\n\x3cp\x3e来看一个通过改变class来改变样式的例子：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3ctemplate\x3e\n  \x3cdiv\x3e\n    \x3ctext class=\x26quot;\x22{{\x22className\x22}}\x22\x26quot; onclick=\x26quot;toggle\x26quot;\x3eHello Weex\x3c\/text\x3e\n  \x3c\/div\x3e\n\x3c\/template\x3e\n\n\x3cstyle\x3e\n.normal {\n  font-size: 40px;\n}\n\n.hightlight {\n  font-size: 40px;\n  color: red;\n}\n\x3c\/style\x3e\n\n\x3cscript\x3e\nmodule.exports = {\n  data: {\n    className: \x27normal\x27\n  },\n  methods: {\n    toggle: function() {\n      if (this.className === \x27normal\x27) {\n         this.className = \x27hightlight\x27\n      } else {\n        this.className = \x27normal\x27\n      }\n    }\n  }\n}\n\x3c\/script\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs django\x22\x3e\x3ccode\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etext\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e\x22{{\x22className\x22}}\x22\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x3cspan class=\x22hljs-string\x22\x3e\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eonclick\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22toggle\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3eHello Weex\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etext\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3estyle\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22css\x22\x3e\n\x3cspan class=\x22hljs-selector-class\x22\x3e.normal\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-attribute\x22\x3efont-size\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e40px\x3c\/span\x3e;\n}\n\n\x3cspan class=\x22hljs-selector-class\x22\x3e.hightlight\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-attribute\x22\x3efont-size\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e40px\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-attribute\x22\x3ecolor\x3c\/span\x3e: red;\n}\n\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3estyle\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22javascript\x22\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.exports = {\n  \x3cspan class=\x22hljs-attr\x22\x3edata\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-attr\x22\x3eclassName\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27normal\x27\x3c\/span\x3e\n  },\n  \x3cspan class=\x22hljs-attr\x22\x3emethods\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-attr\x22\x3etoggle\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n      \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.className === \x3cspan class=\x22hljs-string\x22\x3e\x27normal\x27\x3c\/span\x3e) {\n         \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.className = \x3cspan class=\x22hljs-string\x22\x3e\x27hightlight\x27\x3c\/span\x3e\n      } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.className = \x3cspan class=\x22hljs-string\x22\x3e\x27normal\x27\x3c\/span\x3e\n      }\n    }\n  }\n}\n\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e上述例子，通过点击来切换样式名。但是你会惊奇的发现，在最初一次切换之后，字体的颜色就一直是红色的了。\x3c\/p\x3e\n\x3cp\x3e这其实是目前Weex一个bug，讨论如何修复的issue在这里#397。原因就是，在Weex中样式表样式的切换，并不会清除原来的样式。例如，当前样式是highlight，其中字体颜色是red，在切换到normal时，因为没有指定字体颜色，结果原来的red颜色就被保留了下来而并没有清除掉。所以，在上面的例子中为了避开这个bug，需要显示的设置字体颜色：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22.normal {\n  font-size: 40px;\n  color: black;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs css\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.normal\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-attribute\x22\x3efont-size\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e40px\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-attribute\x22\x3ecolor\x3c\/span\x3e: black;\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e另外，对于最佳实践来说，可以通过组合class名称的方式，把需要切换的样式提取出来：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3ctemplate\x3e\n  \x3cdiv\x3e\n    \x3ctext class=\x26quot;common \x22{{\x22className\x22}}\x22\x26quot; onclick=\x26quot;toggle\x26quot;\x3eHello Weex\x3c\/text\x3e\n  \x3c\/div\x3e\n\x3c\/template\x3e\n\n\x3cstyle\x3e\n.common {\n  font-size: 40px;\n}\n\n.normal {\n  color: black;\n}\n\n.hightlight {\n  color: red;\n}\n\x3c\/style\x3e\n\n\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs django\x22\x3e\x3ccode\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etext\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22common \x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e\x22{{\x22className\x22}}\x22\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x3cspan class=\x22hljs-string\x22\x3e\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eonclick\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22toggle\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3eHello Weex\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etext\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3estyle\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22css\x22\x3e\n\x3cspan class=\x22hljs-selector-class\x22\x3e.common\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-attribute\x22\x3efont-size\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e40px\x3c\/span\x3e;\n}\n\n\x3cspan class=\x22hljs-selector-class\x22\x3e.normal\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-attribute\x22\x3ecolor\x3c\/span\x3e: black;\n}\n\n\x3cspan class=\x22hljs-selector-class\x22\x3e.hightlight\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-attribute\x22\x3ecolor\x3c\/span\x3e: red;\n}\n\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3estyle\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\n\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader17\x22\x3e元素上的属性定义\x3c\/h2\x3e\n\x3cp\x3eWeex拥有一套类似前端开发习惯的DSL，HTML和CSS部分也都会遵循W3C的标准。其中元素上的属性定义，对于非前端同学来说会有很多误区，这里务必要说明下。\x3c\/p\x3e\n\x3cp\x3e属性名必须全部小写，可以使用连接符-。\x3cbr\x3e属性值，尽量保证是原始类型，即number\/string\/boolean\/undefined\/null。对象类型的值一般用于大数据量的数据绑定。\x3cbr\x3e一些HTML文章里会推荐在属性上用data-xxx的方式，这里并不需要特意加data前缀，因为Weex的js中并没有dataset的API可供调用。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader18\x22\x3e搞定子组件的数据绑定\x3c\/h2\x3e\n\x3cp\x3e趁热打铁，来说下子组件的数据绑定。因为数据绑定也是通过属性来定义的，所以首先要遵循上一段所说的规则。\x3c\/p\x3e\n\x3cp\x3e绑定数据通过属性来定义，不仅需要在使用的元素上指定属性并绑定父组件中的数据，也要在子组件的data中指定对应的键，并且元素上的属性和子组件中的键名的对应规则是：如果属性中有连接符，则键名为去掉连接符后的驼峰写法，否则全部以小写命名。\x3cbr\x3e如果仅仅需要给子组件传递数据，而其中的数据结构对父组件是透明的，那么建议直接使用一个属性来映射；如果，属性是子组件的一些功能（且数量小于等于5个），则可以独立开来（基本上和API行为的设计原则差不多），例如：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cwe-element name=\x26quot;sub1\x26quot;\x3e\n  \x3ctemplate\x3e\n    \x3cdiv\x3e\x3ctext\x3esub1\x3c\/text\x3e\x3c\/div\x3e\n  \x3c\/template\x3e\n\n  \x3cscript\x3e\n    module.exports = {\n      data: {\n        aMtopData: {}\n      }\n    }\n  \x3c\/script\x3e\n\x3c\/we-element\x3e\n\n\x3cwe-element name=\x26quot;sub2\x26quot;\x3e\n  \x3ctemplate\x3e\n    \x3cdiv\x3e\x3ctext\x3esub2\x3c\/text\x3e\x3c\/div\x3e\n  \x3c\/template\x3e\n\n  \x3cscript\x3e\n    module.exports = {\n      data: {\n        option1: \x27\x27,\n        option2: \x27\x27\n      }\n    }\n  \x3c\/script\x3e\n\x3c\/we-element\x3e\n\n\x3ctemplate\x3e\n    \x3cdiv\x3e\n      \x3csub1 a-mtop-data=\x26quot;\x22{{\x22mtopdata\x22}}\x22\x26quot;\x3e\x3c\/sub1\x3e\n      \x3csub2 option1=\x26quot;\x22{{\x22options.op1\x22}}\x22\x26quot; options2=\x26quot;\x22{{\x22options.op2\x22}}\x22\x26quot;\x3e\x3c\/sub2\x3e\n    \x3c\/div\x3e\n\x3c\/template\x3e\n\n\x3cscript\x3e\n  module.exports = {\n    data: {\n      options: {\n        op1: \x27op1\x27,\n        op2: \x27op2\x27\n      },\n      mtopdata: {}\n    },\n    created: function() {\n      var self = this\n      this.$sendMtop({...}, function(r) {\n        self.mtopdata = r.data\n      })\n    }\n  }\n\x3c\/script\x3e\n\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs django\x22\x3e\x3ccode\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ewe-element\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22sub1\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etext\x3c\/span\x3e\x26gt;\x3c\/span\x3esub1\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etext\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22javascript\x22\x3e\n    \x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.exports = {\n      \x3cspan class=\x22hljs-attr\x22\x3edata\x3c\/span\x3e: {\n        \x3cspan class=\x22hljs-attr\x22\x3eaMtopData\x3c\/span\x3e: {}\n      }\n    }\n  \x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ewe-element\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ewe-element\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22sub2\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etext\x3c\/span\x3e\x26gt;\x3c\/span\x3esub2\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etext\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22javascript\x22\x3e\n    \x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.exports = {\n      \x3cspan class=\x22hljs-attr\x22\x3edata\x3c\/span\x3e: {\n        \x3cspan class=\x22hljs-attr\x22\x3eoption1\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3eoption2\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e\n      }\n    }\n  \x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ewe-element\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n      \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3esub1\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ea-mtop-data\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e\x22{{\x22mtopdata\x22}}\x22\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x3cspan class=\x22hljs-string\x22\x3e\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3esub1\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n      \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3esub2\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eoption1\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e\x22{{\x22options.op1\x22}}\x22\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x3cspan class=\x22hljs-string\x22\x3e\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eoptions2\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e\x22{{\x22options.op2\x22}}\x22\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x3cspan class=\x22hljs-string\x22\x3e\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3esub2\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22javascript\x22\x3e\n  \x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.exports = {\n    \x3cspan class=\x22hljs-attr\x22\x3edata\x3c\/span\x3e: {\n      \x3cspan class=\x22hljs-attr\x22\x3eoptions\x3c\/span\x3e: {\n        \x3cspan class=\x22hljs-attr\x22\x3eop1\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27op1\x27\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3eop2\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27op2\x27\x3c\/span\x3e\n      },\n      \x3cspan class=\x22hljs-attr\x22\x3emtopdata\x3c\/span\x3e: {}\n    },\n    \x3cspan class=\x22hljs-attr\x22\x3ecreated\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n      \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e self = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e\n      \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$sendMtop({...}, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3er\x3c\/span\x3e) \x3c\/span\x3e{\n        self.mtopdata = r.data\n      })\n    }\n  }\n\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader19\x22\x3e遍历长列表\x3c\/h2\x3e\n\x3cp\x3e在我们各类大型运营活动的页面中，大家对楼层\/坑位这些词应该不陌生。而这些名词的界面，基本都要靠循环列表来完成。而循环列表的性能又是整个运营页面的关键。所以在遍历这样的列表或者数组的时候，就需要一些技巧。\x3c\/p\x3e\n\x3cp\x3e通常来说，因为存在楼层的概念，而楼层里又是多个坑位，坑位又经常是双列宝贝，眼瞅着这得用个三重循环才能搞定。不过实际上，双列宝贝可以优化成不使用循环的结构。当然了，前端的童靴们一定要对着你们的服务端童靴保持坚定立场，要求获得清晰且正确的数据结构，确保前端不需要对数据结构做二次处理。\x3c\/p\x3e\n\x3cp\x3e通常的数据结构和对应的模板一般是这样的：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\n\x3ctemplate\x3e\n  \x3cdiv onclick=\x26quot;update\x26quot;\x3e\n    \x3cdiv class=\x26quot;tabheader\x26quot;\x3e\n      \x3cdiv repeat=\x26quot;\x22{{\x22headers\x22}}\x22\x26quot; track-by=\x26quot;name\x26quot; append=\x26quot;tree\x26quot;\x3e\n        \x3ctext\x3e\x22{{\x22name\x22}}\x22\x3c\/text\x3e\n      \x3c\/div\x3e\n    \x3c\/div\x3e\n    \x3cdiv class=\x26quot;floor\x26quot; repeat=\x26quot;\x22{{\x22floor in floors\x22}}\x22\x26quot; track-by=\x26quot;floorId\x26quot;\x3e\n      \x3cdiv class=\x26quot;items\x26quot; repeat=\x26quot;\x22{{\x22items in floor.items\x22}}\x22\x26quot; track-by=\x26quot;lineId\x26quot; append=\x26quot;tree\x26quot;\x3e\n        \x3ctext\x3e\x22{{\x22items.list[0].name\x22}}\x22\x3c\/text\x3e\n        \x3ctext\x3e\x22{{\x22items.list[1].name\x22}}\x22\x3c\/text\x3e\n      \x3c\/div\x3e\n    \x3c\/div\x3e\n  \x3c\/div\x3e\n\x3c\/template\x3e\n\n\x3cstyle\x3e\n  .tabheader {\n    flex-direction: row;\n  }\n  .items {\n    flex-direction: row;\n  }\n\x3c\/style\x3e\n\n\x3cscript\x3e\nmodule.exports = {\n  data: {\n    floors: [\n      {\n        floorId: 1,\n        name: \x27f1\x27, \n        items:[\n          {lineId: 1, list: [{itemId:1, name: \x27i1\x27}, {itemId:2, name: \x27i2\x27}]},\n          {lineId: 2, list: [{itemId:3, name: \x27i3\x27}, {itemId:4, name: \x27i4\x27}]}\n        ]\n      }\n    ]\n  },\n  computed: {\n    headers: function() {\n      return this.floors.map(function(v) {\n        return {name: v.name}\n      })\n    }\n  },\n  methods: {\n    update: function() {\n      this.floors[0].items.push(\n        {lineId: 3, list: [{itemId:5, name: \x27i5\x27}, {itemId:6, name: \x27i6\x27}]},\n        {lineId: 4, list: [{itemId:7, name: \x27i7\x27}, {itemId:8, name: \x27i8\x27}]} \n      )\n      this.floors.push({\n        floorId: 2,\n        name: \x27f2\x27,\n        items: [\n          {lineId: 5, list: [{itemId:9, name: \x27i9\x27}, {itemId:10, name: \x27i10\x27}]},\n          {lineId: 6, list: [{itemId:11, name: \x27i11\x27}, {itemId:12, name: \x27i12\x27}]}\n        ]\n      })\n    }\n  }\n}\n\x3c\/script\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs handlebars\x22\x3e\x3ccode\x3e\x3cspan class=\x22xml\x22\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eonclick\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22update\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22tabheader\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n      \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3erepeat\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e\x22{{\x22headers\x22}}\x22\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x3cspan class=\x22hljs-string\x22\x3e\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etrack-by\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22name\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eappend\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22tree\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etext\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e\x22{{\x22name\x22}}\x22\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etext\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n      \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22floor\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3erepeat\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e\x22{{\x22floor \x3cspan class=\x22hljs-builtin-name\x22\x3ein\x3c\/span\x3e floors\x22}}\x22\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x3cspan class=\x22hljs-string\x22\x3e\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etrack-by\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22floorId\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n      \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22items\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3erepeat\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e\x22{{\x22items \x3cspan class=\x22hljs-builtin-name\x22\x3ein\x3c\/span\x3e floor.items\x22}}\x22\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x3cspan class=\x22hljs-string\x22\x3e\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etrack-by\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22lineId\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eappend\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22tree\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etext\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e\x22{{\x22items.list[0].name\x22}}\x22\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etext\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etext\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e\x22{{\x22items.list[1].name\x22}}\x22\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etext\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n      \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3estyle\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22css\x22\x3e\n  \x3cspan class=\x22hljs-selector-class\x22\x3e.tabheader\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-attribute\x22\x3eflex-direction\x3c\/span\x3e: row;\n  }\n  \x3cspan class=\x22hljs-selector-class\x22\x3e.items\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-attribute\x22\x3eflex-direction\x3c\/span\x3e: row;\n  }\n\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3estyle\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22javascript\x22\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.exports = {\n  \x3cspan class=\x22hljs-attr\x22\x3edata\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-attr\x22\x3efloors\x3c\/span\x3e: [\n      {\n        \x3cspan class=\x22hljs-attr\x22\x3efloorId\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27f1\x27\x3c\/span\x3e, \n        \x3cspan class=\x22hljs-attr\x22\x3eitems\x3c\/span\x3e:[\n          {\x3cspan class=\x22hljs-attr\x22\x3elineId\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3elist\x3c\/span\x3e: [{\x3cspan class=\x22hljs-attr\x22\x3eitemId\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27i1\x27\x3c\/span\x3e}, {\x3cspan class=\x22hljs-attr\x22\x3eitemId\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27i2\x27\x3c\/span\x3e}]},\n          {\x3cspan class=\x22hljs-attr\x22\x3elineId\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3elist\x3c\/span\x3e: [{\x3cspan class=\x22hljs-attr\x22\x3eitemId\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27i3\x27\x3c\/span\x3e}, {\x3cspan class=\x22hljs-attr\x22\x3eitemId\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27i4\x27\x3c\/span\x3e}]}\n        ]\n      }\n    ]\n  },\n  \x3cspan class=\x22hljs-attr\x22\x3ecomputed\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-attr\x22\x3eheaders\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.floors.map(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ev\x3c\/span\x3e) \x3c\/span\x3e{\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e {\x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e: v.name}\n      })\n    }\n  },\n  \x3cspan class=\x22hljs-attr\x22\x3emethods\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-attr\x22\x3eupdate\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n      \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.floors[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e].items.push(\n        {\x3cspan class=\x22hljs-attr\x22\x3elineId\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3elist\x3c\/span\x3e: [{\x3cspan class=\x22hljs-attr\x22\x3eitemId\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27i5\x27\x3c\/span\x3e}, {\x3cspan class=\x22hljs-attr\x22\x3eitemId\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e6\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27i6\x27\x3c\/span\x3e}]},\n        {\x3cspan class=\x22hljs-attr\x22\x3elineId\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3elist\x3c\/span\x3e: [{\x3cspan class=\x22hljs-attr\x22\x3eitemId\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e7\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27i7\x27\x3c\/span\x3e}, {\x3cspan class=\x22hljs-attr\x22\x3eitemId\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e8\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27i8\x27\x3c\/span\x3e}]} \n      )\n      \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.floors.push({\n        \x3cspan class=\x22hljs-attr\x22\x3efloorId\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27f2\x27\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3eitems\x3c\/span\x3e: [\n          {\x3cspan class=\x22hljs-attr\x22\x3elineId\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3elist\x3c\/span\x3e: [{\x3cspan class=\x22hljs-attr\x22\x3eitemId\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e9\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27i9\x27\x3c\/span\x3e}, {\x3cspan class=\x22hljs-attr\x22\x3eitemId\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27i10\x27\x3c\/span\x3e}]},\n          {\x3cspan class=\x22hljs-attr\x22\x3elineId\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e6\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3elist\x3c\/span\x3e: [{\x3cspan class=\x22hljs-attr\x22\x3eitemId\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e11\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27i11\x27\x3c\/span\x3e}, {\x3cspan class=\x22hljs-attr\x22\x3eitemId\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e12\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27i12\x27\x3c\/span\x3e}]}\n        ]\n      })\n    }\n  }\n}\n\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e其中比较常见的数据结构问题，比如items只是一个一维数组。如果能在服务端就处理好items的多维数组问题，那么前端的效率会高很多。\x3c\/p\x3e\n\x3cp\x3e再仔细剖析其中的模板：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cdiv class=\x26quot;tabheader\x26quot; repeat=\x26quot;\x22{{\x22headers\x22}}\x22\x26quot;\x3e\n\n...\n\n  computed: {\n    headers: function() {\n      return this.floors.map(function(v) {\n        return {name: v.name}\n      })\n    }\n  }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x26lt;div \x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22tabheader\x22\x3c\/span\x3e repeat=\x3cspan class=\x22hljs-string\x22\x3e\x22\x22{{\x22headers\x22}}\x22\x22\x3c\/span\x3e\x26gt;\n\n...\n\n  computed: {\n    \x3cspan class=\x22hljs-attr\x22\x3eheaders\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.floors.map(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ev\x3c\/span\x3e) \x3c\/span\x3e{\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e {\x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e: v.name}\n      })\n    }\n  }\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这里绑定了一个computed特性的数据。当某类数据不太适合展示的时候，推荐可以用computed的方式来达到数据预处理的目的，而不是在created中吭哧吭哧的算一份新的数据结构出来。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22...\n    \x3cdiv repeat=\x26quot;\x22{{\x22headers\x22}}\x22\x26quot; track-by=\x26quot;name\x26quot; append=\x26quot;tree\x26quot;\x3e\n...\n\n\x3cdiv class=\x26quot;floor\x26quot; repeat=\x26quot;\x22{{\x22floor in floors\x22}}\x22\x26quot; track-by=\x26quot;floorId\x26quot;\x3e\n      \x3cdiv class=\x26quot;items\x26quot; repeat=\x26quot;\x22{{\x22items in floor.items\x22}}\x22\x26quot; track-by=\x26quot;lineId\x26quot;\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs applescript\x22\x3e\x3ccode\x3e...\n    \x26lt;\x3cspan class=\x22hljs-keyword\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3erepeat\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22\x22{{\x22headers\x22}}\x22\x22\x3c\/span\x3e track-\x3cspan class=\x22hljs-keyword\x22\x3eby\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22name\x22\x3c\/span\x3e append=\x3cspan class=\x22hljs-string\x22\x3e\x22tree\x22\x3c\/span\x3e\x26gt;\n...\n\n\x26lt;\x3cspan class=\x22hljs-keyword\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22floor\x22\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3erepeat\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22\x22{{\x22floor in floors\x22}}\x22\x22\x3c\/span\x3e track-\x3cspan class=\x22hljs-keyword\x22\x3eby\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22floorId\x22\x3c\/span\x3e\x26gt;\n      \x26lt;\x3cspan class=\x22hljs-keyword\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22items\x22\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3erepeat\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22\x22{{\x22items in floor.items\x22}}\x22\x22\x3c\/span\x3e track-\x3cspan class=\x22hljs-keyword\x22\x3eby\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22lineId\x22\x3c\/span\x3e\x26gt;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在这三个repeat中都用了track-by。它的特点是，可以记录数组中某个项的一个主键，并在之后的更新中复用这个特定的项，而不是重构整个数组。例如\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22楼层1增加两行坑位\n\nthis.floors[0].items.push(\n  {lineId: 3, list: [{itemId:5, name: \x27i5\x27}, {itemId:6, name: \x27i6\x27}]},\n  {lineId: 4, list: [{itemId:7, name: \x27i7\x27}, {itemId:8, name: \x27i8\x27}]} \n)\n增加一个楼层\n\nthis.floors.push({\n  floorId: 2,\n  name: \x27f2\x27,\n  items: [\n    {lineId: 5, list: [{itemId:9, name: \x27i9\x27}, {itemId:10, name: \x27i10\x27}]},\n    {lineId: 6, list: [{itemId:11, name: \x27i11\x27}, {itemId:12, name: \x27i12\x27}]}\n  ]\n})\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs css\x22\x3e\x3ccode\x3e楼层1增加两行坑位\n\n\x3cspan class=\x22hljs-selector-tag\x22\x3ethis\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.floors\x3c\/span\x3e\x3cspan class=\x22hljs-selector-attr\x22\x3e[0]\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.items\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.push\x3c\/span\x3e(\n  {\x3cspan class=\x22hljs-attribute\x22\x3elineId\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e, list: [{itemId:\x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e, name: \x3cspan class=\x22hljs-string\x22\x3e\x27i5\x27\x3c\/span\x3e}, {\x3cspan class=\x22hljs-attribute\x22\x3eitemId\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e6\x3c\/span\x3e, name: \x3cspan class=\x22hljs-string\x22\x3e\x27i6\x27\x3c\/span\x3e}]},\n  {\x3cspan class=\x22hljs-attribute\x22\x3elineId\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e, list: [{itemId:\x3cspan class=\x22hljs-number\x22\x3e7\x3c\/span\x3e, name: \x3cspan class=\x22hljs-string\x22\x3e\x27i7\x27\x3c\/span\x3e}, {\x3cspan class=\x22hljs-attribute\x22\x3eitemId\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e8\x3c\/span\x3e, name: \x3cspan class=\x22hljs-string\x22\x3e\x27i8\x27\x3c\/span\x3e}]} \n)\n增加一个楼层\n\n\x3cspan class=\x22hljs-selector-tag\x22\x3ethis\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.floors\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.push\x3c\/span\x3e({\n  \x3cspan class=\x22hljs-attribute\x22\x3efloorId\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e,\n  name: \x3cspan class=\x22hljs-string\x22\x3e\x27f2\x27\x3c\/span\x3e,\n  items: [\n    {lineId: \x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e, list: [{itemId:\x3cspan class=\x22hljs-number\x22\x3e9\x3c\/span\x3e, name: \x3cspan class=\x22hljs-string\x22\x3e\x27i9\x27\x3c\/span\x3e}, {\x3cspan class=\x22hljs-attribute\x22\x3eitemId\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3e, name: \x3cspan class=\x22hljs-string\x22\x3e\x27i10\x27\x3c\/span\x3e}]},\n    {\x3cspan class=\x22hljs-attribute\x22\x3elineId\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e6\x3c\/span\x3e, list: [{itemId:\x3cspan class=\x22hljs-number\x22\x3e11\x3c\/span\x3e, name: \x3cspan class=\x22hljs-string\x22\x3e\x27i11\x27\x3c\/span\x3e}, {\x3cspan class=\x22hljs-attribute\x22\x3eitemId\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e12\x3c\/span\x3e, name: \x3cspan class=\x22hljs-string\x22\x3e\x27i12\x27\x3c\/span\x3e}]}\n  ]\n})\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e如果没有设置track-by，那么Weex会重构整个数组，导致元素被删除后又重新添加。而添加了id作为track-by的主键后，id相同的元素会通过移动的方式来优化操作。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader20\x22\x3e优化长列表\x3c\/h2\x3e\n\x3cp\x3e长列表相信大家都做过。Weex中，对列表的优化已经非常接近原生系统的列表了，这个要归功于我们的Native团队。但即使有了性能不错的列表，对于首屏的渲染还是有追求的。\x3c\/p\x3e\n\x3cp\x3e在Weex中，要做无尽列表其实非常简单，因为在list和scroll的元素上，已经实现了onloadmore事件，这个事件会在滚动触底（或者离底部一定的距离）时触发，所以这样看起来，做无尽列表变得非常容易。不过，这样的无尽列表体验绝对算不上极致。这个时候，可以借助loading这个组件，并配合onloading事件，来展现更加出色的无尽列表。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\n\x3ctemplate\x3e\n  \x3clist\x3e\n    \x3ccell repeat=\x26quot;\x22{{\x22v in items\x22}}\x22\x26quot; track-by=\x26quot;id\x26quot;\x3e\n      \x3ctext\x3e\x22{{\x22v.name\x22}}\x22\x3c\/text\x3e\n    \x3c\/cell\x3e\n    \x3cloading class=\x26quot;loading\x26quot; onLoading=\x26quot;loadingHandler\x26quot;\x3e\n      \x3ctext\x3e\x22{{\x22loadingText\x22}}\x22\x3c\/text\x3e\n    \x3c\/loading\x3e\n  \x3c\/list\x3e\n\x3c\/template\x3e\n\n\x3cscript\x3e\nmodule.exports = {\n  data: {\n    index: 0,\n    size: 50,\n    count: 10,\n    loadingText: \x27加载更多...\x27,\n    items: []\n  },\n  created: function() {\n    this.addPage()\n  },\n  methods: {\n    addPage: function() {\n      for (var i = 0; i \x3c this.size; i\x2b\x2b) {\n        var id = this.index * this.size \x2b i\n        this.items.push({id: id, name: \x27item-\x27 \x2b id})\n      }\n      this.index\x2b\x2b\n    },\n    loadingHandler: function() {\n      if (this.index === this.count) {\n        this.loadingText = \x27没有更多了\x27\n      } else {\n        this.addPage()\n      }\n    }\n  }\n}\n\x3c\/script\x3e\n\n\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs handlebars\x22\x3e\x3ccode\x3e\x3cspan class=\x22xml\x22\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3elist\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ecell\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3erepeat\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e\x22{{\x22v \x3cspan class=\x22hljs-builtin-name\x22\x3ein\x3c\/span\x3e items\x22}}\x22\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x3cspan class=\x22hljs-string\x22\x3e\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etrack-by\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22id\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n      \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etext\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e\x22{{\x22v.name\x22}}\x22\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etext\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ecell\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eloading\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22loading\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eonLoading\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22loadingHandler\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n      \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etext\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e\x22{{\x22loadingText\x22}}\x22\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etext\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eloading\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3elist\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22javascript\x22\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.exports = {\n  \x3cspan class=\x22hljs-attr\x22\x3edata\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-attr\x22\x3eindex\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3esize\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e50\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3ecount\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3eloadingText\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27加载更多...\x27\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3eitems\x3c\/span\x3e: []\n  },\n  \x3cspan class=\x22hljs-attr\x22\x3ecreated\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.addPage()\n  },\n  \x3cspan class=\x22hljs-attr\x22\x3emethods\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-attr\x22\x3eaddPage\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n      \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; i \x26lt; \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.size; i\x2b\x2b) {\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e id = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.index * \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.size \x2b i\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.items.push({\x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e: id, \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27item-\x27\x3c\/span\x3e \x2b id})\n      }\n      \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.index\x2b\x2b\n    },\n    \x3cspan class=\x22hljs-attr\x22\x3eloadingHandler\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n      \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.index === \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.count) {\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.loadingText = \x3cspan class=\x22hljs-string\x22\x3e\x27没有更多了\x27\x3c\/span\x3e\n      } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.addPage()\n      }\n    }\n  }\n}\n\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\n\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader21\x22\x3e设计优秀的Weex组件\x3c\/h2\x3e\n\x3cp\x3e在Weex原生功能越来越丰富的前提下，开发者可以设计出各类符合业务需求的UI组件，这些UI组件基本可以遵循标准的模块化开发，已达到复用和高度定制的目的。\x3c\/p\x3e\n\x3cp\x3e用脚手架来初始化Weex组件的仓库再合适不过了。\x3cbr\x3eWeex是一种数据驱动的设计框架，组件并不是通过API来暴露行为，而是通过数据绑定来给组件设置行为。\x3cbr\x3e组件的通信，可以通过$dispath\/$broadcast来完成，不过这得付出一点点性能的代价。而在父组件拿到直接子组件的对象后，其实可以通过$on\/$emit来减少性能的开销。\x3cbr\x3e如果组件需要高度定制UI，可以考虑使用content\/slot标签，具体可以参考下wxc-marquee。\x3cbr\x3e借由脚手架初始化Weex组件工程，可以轻松发布到npm\/tnpm，并且开发者在通过npm install安装后，可以轻松的以require方式来引入这些组件。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader22\x22\x3e调试代码（查看日志）\x3c\/h2\x3e\n\x3cp\x3eWeex未来会接入Chrome Dev-tools，甚至Debugger for IDE，这些都可以小小期待下的。而当下可以通过输出日志的原始方式来调试。\x3c\/p\x3e\n\x3cp\x3e在最开始的利器一章中，我已经让大家安装了weex-toolkit，并拥有了weex命令。那么现在要用它来开启调试的大门：\x3c\/p\x3e\n\x3cp\x3eweex --debugger\x3cbr\x3e或者在脚手架工程中运行：\x3c\/p\x3e\n\x3cp\x3enpm run debugger\x3cbr\x3e这个时候会输出一段本地的ip地址，在浏览器里输入这个地址，会展示一个二维码。用手淘debug包或Playground扫码之后，就开启了输出日志模式。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVFTzZ?w=2526\x26amp;h=1532\x22 src=\x22https:\/\/static.alili.tech\/img\/bVFTzZ?w=2526\x26amp;h=1532\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e在这个界面中，你可以通过选择设备的日志级别，以及展示的输出级别来找到你想要的日志。同时在代码中，可以通过console.log\/debug\/info\/warn\/debug来输出相应级别的日志。\x3c\/p\x3e\n\x3cp\x3e在日志debug级别中，以[js framework]开头的，便是js-framework的解析操作。在日志verbose级别中，以Calling JS和Calling Native开头的，就是js和native互相通信的操作。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader23\x22\x3e页面间通信\x3c\/h2\x3e\n\x3cp\x3e页面跳转是通过指定下一个页面的url，然后通过openurl或者push的方式来跳转\x3c\/p\x3e\n\x3cp\x3e获取url的方式可以通过下面这段JS代码\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function getAppBaseUrl(self) {\n    var dir =\x27examples\x27\n    var url = self.$getConfig().bundleUrl;\n    var bundleUrl = url;\n    bundleUrl = new String(bundleUrl);\n\n    var nativeBase;\n    var isAndroidAssets = bundleUrl.indexOf(\x27file:\/\/assets\/\x27) \x3e= 0;\n\n    var isiOSAssets = bundleUrl.indexOf(\x27file:\/\/\/\x27) \x3e= 0;\n    if (isAndroidAssets) {\n      nativeBase = \x27file:\/\/assets\/\x27;\n    }\n    else if (isiOSAssets) {\n      nativeBase = bundleUrl.substring(0, bundleUrl.lastIndexOf(\x27\/\x27) \x2b 1);\n    }\n    else {\n      var host = \x27localhost:12580\x27;\n      var matches = \/\\\/\\\/([^\\\/]\x2b?)\\\/\/.exec(self.$getConfig().bundleUrl);\n      if (matches \x26amp;\x26amp; matches.length \x3e= 2) {\n        host = matches[1];\n      }\n      nativeBase = \x27http:\/\/\x27 \x2b host \x2b \x27\/\x27 \x2b dir \x2b \x27\/build\/\x27;\n    }\n    var h5Base = \x27.\/index.html?page=.\/\x27 \x2b dir \x2b \x27\/build\/\x27;\n    \/\/Native端\n    var base = nativeBase;\n    \/\/H5端\n    if (typeof window === \x27object\x27) {\n      base = h5Base;\n    }\n    return base\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs qml\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3egetAppBaseUrl\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eself\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-built_in\x22\x3evar\x3c\/span\x3e dir =\x3cspan class=\x22hljs-string\x22\x3e\x27examples\x27\x3c\/span\x3e\n    \x3cspan class=\x22hljs-built_in\x22\x3evar\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eurl\x3c\/span\x3e = self.$getConfig().bundleUrl;\n    \x3cspan class=\x22hljs-built_in\x22\x3evar\x3c\/span\x3e bundleUrl = \x3cspan class=\x22hljs-built_in\x22\x3eurl\x3c\/span\x3e;\n    bundleUrl = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eString\x3c\/span\x3e(bundleUrl);\n\n    \x3cspan class=\x22hljs-built_in\x22\x3evar\x3c\/span\x3e nativeBase;\n    \x3cspan class=\x22hljs-built_in\x22\x3evar\x3c\/span\x3e isAndroidAssets = bundleUrl.indexOf(\x3cspan class=\x22hljs-string\x22\x3e\x27file:\/\/assets\/\x27\x3c\/span\x3e) \x26gt;= \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n\n    \x3cspan class=\x22hljs-built_in\x22\x3evar\x3c\/span\x3e isiOSAssets = bundleUrl.indexOf(\x3cspan class=\x22hljs-string\x22\x3e\x27file:\/\/\/\x27\x3c\/span\x3e) \x26gt;= \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (isAndroidAssets) {\n      nativeBase = \x3cspan class=\x22hljs-string\x22\x3e\x27file:\/\/assets\/\x27\x3c\/span\x3e;\n    }\n    \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (isiOSAssets) {\n      nativeBase = bundleUrl.substring(\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e, bundleUrl.lastIndexOf(\x3cspan class=\x22hljs-string\x22\x3e\x27\/\x27\x3c\/span\x3e) \x2b \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e);\n    }\n    \x3cspan class=\x22hljs-title\x22\x3eelse\x3c\/span\x3e {\n      \x3cspan class=\x22hljs-built_in\x22\x3evar\x3c\/span\x3e host = \x3cspan class=\x22hljs-string\x22\x3e\x27localhost:12580\x27\x3c\/span\x3e;\n      \x3cspan class=\x22hljs-built_in\x22\x3evar\x3c\/span\x3e matches = \x3cspan class=\x22hljs-regexp\x22\x3e\/\\\/\\\/([^\\\/]\x2b?)\\\/\/\x3c\/span\x3e.exec(self.$getConfig().bundleUrl);\n      \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (matches \x26amp;\x26amp; matches.length \x26gt;= \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e) {\n        host = matches[\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e];\n      }\n      nativeBase = \x3cspan class=\x22hljs-string\x22\x3e\x27http:\/\/\x27\x3c\/span\x3e \x2b host \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27\/\x27\x3c\/span\x3e \x2b dir \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27\/build\/\x27\x3c\/span\x3e;\n    }\n    \x3cspan class=\x22hljs-built_in\x22\x3evar\x3c\/span\x3e h5Base = \x3cspan class=\x22hljs-string\x22\x3e\x27.\/index.html?page=.\/\x27\x3c\/span\x3e \x2b dir \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27\/build\/\x27\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/Native端\x3c\/span\x3e\n    \x3cspan class=\x22hljs-built_in\x22\x3evar\x3c\/span\x3e base = nativeBase;\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/H5端\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3etypeof\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e === \x3cspan class=\x22hljs-string\x22\x3e\x27object\x27\x3c\/span\x3e) {\n      base = h5Base;\n    }\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e base\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cblockquote\x3e\x3cp\x3e第六篇 导航、页面跳转、stream、webview\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e页面通信有两种方式\x3c\/p\x3e\n\x3cp\x3e1.通过 url 参数传递。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/**\n * 获取URL参数\n *\/\ngetUrlParam: function (key) {\n    var t = this.$getConfig().bundleUrl;\n    var reg = new RegExp(\x27[?|\x26amp;]\x27 \x2b key \x2b \x27=([^\x26amp;]\x2b)\x27);\n    var match = t.match(reg);\n    return match \x26amp;\x26amp; match[1];\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/**\n * 获取URL参数\n *\/\x3c\/span\x3e\ngetUrlParam: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3ekey\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e t = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$getConfig().bundleUrl;\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e reg = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eRegExp\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27[?|\x26amp;]\x27\x3c\/span\x3e \x2b key \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27=([^\x26amp;]\x2b)\x27\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e match = t.match(reg);\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e match \x26amp;\x26amp; match[\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e];\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e2.通过 localStorage 数据存储。\x3c\/p\x3e\n\x3cp\x3e如果是组件间通信不是页面通信，则参考：组件之间通信 - (Communicate Between Components)\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader24\x22\x3eweex cheatsheet\x3c\/h1\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/github.com\/alibaba\/weex\/blob\/dev\/doc\/references\/cheatsheet.md\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/github.com\/alibaba\/we...\x3c\/a\x3e\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>关于weex</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000007560611">https://segmentfault.com/a/1190000007560611</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/61wo6s7919h/" target="_blank">https://alili.tech/archive/61wo6s7919h/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5x6tenwjeux/">ES6中的异步编程：Generators函数&#43;Promise:最强大的异步处理方式<aside class="dates">2019-01-31</aside></a></li><li><a href="/archive/nvtmua2a1hd/">GreenSock (TweenMax) 极简入门指南<aside class="dates">2019-01-31</aside></a></li><li><a href="/archive/7kt5s47oysx/">HTML5 中 canvas 的使用总结<aside class="dates">2019-01-31</aside></a></li><li><a href="/archive/41pgo3a2iyp/">JavaScript 开发者所需要知道的 V8（一）：V8 In NodeJS<aside class="dates">2019-01-31</aside></a></li><li><a href="/archive/krb1zm7x38j/">JavaScript 时间与日期处理实战:你肯定被坑过<aside class="dates">2019-01-31</aside></a></li><li><a href="/archive/yh2lq30d0x/">JavaScript中的各种宽高属性<aside class="dates">2019-01-31</aside></a></li><li><a href="/archive/eydwczesyv/">Muse UI — 基于 Vue2.0 的 Material Design UI 库<aside class="dates">2019-01-31</aside></a></li><li><a href="/archive/y62oejm8cr/">Nodejs基础：路径处理模块path总结<aside class="dates">2019-01-31</aside></a></li><li><a href="/archive/06cwh88ankmd/">PhantomJS &amp; NodeJS 在京东网站前端监控平台的最佳实践<aside class="dates">2019-01-31</aside></a></li><li><a href="/archive/z4ymvs0jz2h/">Promise 的链式调用与中止<aside class="dates">2019-01-31</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>