<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="使用 Ganglia 对 linux 网格和集群服务器进行实时监控"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>使用 Ganglia 对 linux 网格和集群服务器进行实时监控 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/y0f50jwa5e/",
				"appid": "1613049289050283", 
				"title": "使用 Ganglia 对 linux 网格和集群服务器进行实时监控 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-24T02:30:11"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/4hp1w6wkb3/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/1tckfm7yg0h/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fy0f50jwa5e%2f&text=%e4%bd%bf%e7%94%a8%20Ganglia%20%e5%af%b9%20linux%20%e7%bd%91%e6%a0%bc%e5%92%8c%e9%9b%86%e7%be%a4%e6%9c%8d%e5%8a%a1%e5%99%a8%e8%bf%9b%e8%a1%8c%e5%ae%9e%e6%97%b6%e7%9b%91%e6%8e%a7"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fy0f50jwa5e%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fy0f50jwa5e%2f&text=%e4%bd%bf%e7%94%a8%20Ganglia%20%e5%af%b9%20linux%20%e7%bd%91%e6%a0%bc%e5%92%8c%e9%9b%86%e7%be%a4%e6%9c%8d%e5%8a%a1%e5%99%a8%e8%bf%9b%e8%a1%8c%e5%ae%9e%e6%97%b6%e7%9b%91%e6%8e%a7"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fy0f50jwa5e%2f&title=%e4%bd%bf%e7%94%a8%20Ganglia%20%e5%af%b9%20linux%20%e7%bd%91%e6%a0%bc%e5%92%8c%e9%9b%86%e7%be%a4%e6%9c%8d%e5%8a%a1%e5%99%a8%e8%bf%9b%e8%a1%8c%e5%ae%9e%e6%97%b6%e7%9b%91%e6%8e%a7"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fy0f50jwa5e%2f&is_video=false&description=%e4%bd%bf%e7%94%a8%20Ganglia%20%e5%af%b9%20linux%20%e7%bd%91%e6%a0%bc%e5%92%8c%e9%9b%86%e7%be%a4%e6%9c%8d%e5%8a%a1%e5%99%a8%e8%bf%9b%e8%a1%8c%e5%ae%9e%e6%97%b6%e7%9b%91%e6%8e%a7"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e4%bd%bf%e7%94%a8%20Ganglia%20%e5%af%b9%20linux%20%e7%bd%91%e6%a0%bc%e5%92%8c%e9%9b%86%e7%be%a4%e6%9c%8d%e5%8a%a1%e5%99%a8%e8%bf%9b%e8%a1%8c%e5%ae%9e%e6%97%b6%e7%9b%91%e6%8e%a7&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fy0f50jwa5e%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fy0f50jwa5e%2f&title=%e4%bd%bf%e7%94%a8%20Ganglia%20%e5%af%b9%20linux%20%e7%bd%91%e6%a0%bc%e5%92%8c%e9%9b%86%e7%be%a4%e6%9c%8d%e5%8a%a1%e5%99%a8%e8%bf%9b%e8%a1%8c%e5%ae%9e%e6%97%b6%e7%9b%91%e6%8e%a7"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fy0f50jwa5e%2f&title=%e4%bd%bf%e7%94%a8%20Ganglia%20%e5%af%b9%20linux%20%e7%bd%91%e6%a0%bc%e5%92%8c%e9%9b%86%e7%be%a4%e6%9c%8d%e5%8a%a1%e5%99%a8%e8%bf%9b%e8%a1%8c%e5%ae%9e%e6%97%b6%e7%9b%91%e6%8e%a7"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fy0f50jwa5e%2f&title=%e4%bd%bf%e7%94%a8%20Ganglia%20%e5%af%b9%20linux%20%e7%bd%91%e6%a0%bc%e5%92%8c%e9%9b%86%e7%be%a4%e6%9c%8d%e5%8a%a1%e5%99%a8%e8%bf%9b%e8%a1%8c%e5%ae%9e%e6%97%b6%e7%9b%91%e6%8e%a7"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fy0f50jwa5e%2f&title=%e4%bd%bf%e7%94%a8%20Ganglia%20%e5%af%b9%20linux%20%e7%bd%91%e6%a0%bc%e5%92%8c%e9%9b%86%e7%be%a4%e6%9c%8d%e5%8a%a1%e5%99%a8%e8%bf%9b%e8%a1%8c%e5%ae%9e%e6%97%b6%e7%9b%91%e6%8e%a7"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">使用 Ganglia 对 linux 网格和集群服务器进行实时监控</h1><div class="meta"><div class="postdate"><time datetime="2019-01-24" itemprop="datePublished">2019-01-24</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n            \x3ch1\x3e\x3ca href=\x22#使用-ganglia-对-linux-网格和集群服务器进行实时监控\x22\x3e\x3c\/a\x3e使用 Ganglia 对 linux 网格和集群服务器进行实时监控\x3c\/h1\x3e\n\x3cp\x3e从系统管理员接手服务器和主机管理以来，像应用监控这样的工具就成了他们的好帮手。其中比较有名的有 [Nagios][11]、 [Zabbix][10]、 [Icinga][9] 和 Centreon。以上这些是重量级的监控工具，让一个新手管理员来设置，并使用其中的高级特性是有些困难的。\x3c\/p\x3e\n\x3cp\x3e本文将向你介绍 Ganglia，它是一个易于扩展的监控系统。使用它可以实时查看 Linux 服务器和集群（图形化展示）中的各项性能指标。\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/camo.githubusercontent.com\/8140782124c07e3243146c65aef35f21259ff3e8\/687474703a2f2f7777772e7465636d696e742e636f6d2f77702d636f6e74656e742f75706c6f6164732f323031362f30362f496e7374616c6c2d47616e67696c612d4d6f6e69746f72696e672d696e2d4c696e75782e706e67\x22\x3e\x3cimg src=\x22https:\/\/p0.ssl.qhimg.com\/t01b9a0b57a5ea6d811.png\x22 alt=\x22Install Gangila Monitoring in Linux\x22\x3e\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cem\x3e在 Linux 上安装 Ganglia\x3c\/em\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3eGanglia\x3c\/strong\x3e 能够让你以\x3cstrong\x3e集群\x3c\/strong\x3e（按服务器组）和\x3cstrong\x3e网格\x3c\/strong\x3e（按地理位置）的方式更好地组织服务器。\x3c\/p\x3e\n\x3cp\x3e这样，我们可以创建一个包含所有远程主机的网格，然后将那些机器按照其它标准分组成小的集合。\x3c\/p\x3e\n\x3cp\x3e此外， Ganglia 的 web 页面对移动设备进行过优化，也允许你导出 \x3ccode\x3ecsv\x3c\/code\x3e 和 \x3ccode\x3e.json\x3c\/code\x3e 格式的数据。\x3c\/p\x3e\n\x3cp\x3e我们的测试环境包括一个安装 Ganglia 的主节点服务器 CentOS 7 （IP 地址 192.168.0.29），和一个作为被监控端的 Ubuntu 14.04 主机（192.168.0.32）。我们将通过 Ganglia 的 Web 页面来监控这台 Ubuntu 主机。\x3c\/p\x3e\n\x3cp\x3e下面的例子可以给大家提供参考，CentOS7 作为主节点，Ubuntu 作为被监控对象。\x3c\/p\x3e\n\x3ch3\x3e\x3ca href=\x22#安装和配置-ganglia\x22\x3e\x3c\/a\x3e安装和配置 Ganglia\x3c\/h3\x3e\n\x3cp\x3e请遵循以下步骤，在主节点服务器安装监控工具。\x3c\/p\x3e\n\x3cp\x3e1、 启用 [EPEL 仓库][7] ，然后安装 Ganglia 和相关工具：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs shell\x22\x3e\x3cspan class=\x22hljs-meta\x22\x3e#\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e yum update \x26amp;\x26amp; yum install epel-release\x3c\/span\x3e\n\x3cspan class=\x22hljs-meta\x22\x3e#\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e yum install ganglia rrdtool ganglia-gmetad ganglia-gmond ganglia-web\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e在上面这步随 Ganglia 将安装一些应用，它们的功能如下：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3ccode\x3errdtool\x3c\/code\x3e，Round-Robin 数据库，它是一个储存并图形化显示随着时间变化的数据的工具；\x3c\/li\x3e\n\x3cli\x3e\x3ccode\x3eganglia-gmetad\x3c\/code\x3e 一个守护进程，用来收集被监控主机的数据。被监控主机与主节点主机都要安装 Ganglia-gmond（监控守护进程本身）；\x3c\/li\x3e\n\x3cli\x3e\x3ccode\x3eganglia-web\x3c\/code\x3e 提供 Web 前端，用于显示监控系统的历史数据和图形。   2、 使用 Apache 提供的基本认证功能，为 Ganglia Web 界面（\x3ccode\x3e\/usr\/share\/ganglia\x3c\/code\x3e）配置身份认证。\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e如果你想了解更多高级安全机制，请参阅 Apache 文档的 [授权与认证][6]部分。\x3c\/p\x3e\n\x3cp\x3e为完成这个目标，我们需要创建一个用户名并设定一个密码，以访问被 Apache 保护的资源。在本例中，我们先来创建一个叫 \x3ccode\x3eadminganglia\x3c\/code\x3e 的用户名，然后给它分配一个密码，它将被储存在 \x3ccode\x3e\/etc\/httpd\/auth.basic\x3c\/code\x3e（可以随意选择另一个目录 和\/或 文件名， 只要 Apache 对此有读取权限就可以。） \x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs shell\x22\x3e\x3cspan class=\x22hljs-meta\x22\x3e#\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e htpasswd -c \/etc\/httpd\/auth.basic adminganglia\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e给 adminganglia 输入两次密码完成密码设置。\x3c\/p\x3e\n\x3cp\x3e3、 修改配置文件 \x3ccode\x3e\/etc\/httpd\/conf.d\/ganglia.conf\x3c\/code\x3e：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs jboss-cli\x22\x3eAlias \x3cspan class=\x22hljs-string\x22\x3e\/ganglia\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\/usr\/share\/ganglia\x3c\/span\x3e\n\x26lt;Location \x3cspan class=\x22hljs-string\x22\x3e\/ganglia\x3c\/span\x3e\x26gt;\nAuthType basic\nAuthName \x3cspan class=\x22hljs-string\x22\x3e\x22Ganglia web UI\x22\x3c\/span\x3e\nAuthBasicProvider file\nAuthUserFile \x3cspan class=\x22hljs-string\x22\x3e\x22\/etc\/httpd\/auth.basic\x22\x3c\/span\x3e\nRequire user adminganglia\n\x26lt;\x3cspan class=\x22hljs-string\x22\x3e\/Location\x3c\/span\x3e\x26gt;\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e4、 编辑 \x3ccode\x3e\/etc\/ganglia\/gmetad.conf\x3c\/code\x3e：\x3c\/p\x3e\n\x3cp\x3e首先，使用 \x3ccode\x3egridname\x3c\/code\x3e 指令来为网格设置一个描述性名称。\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs nginx\x22\x3e\x3cspan class=\x22hljs-attribute\x22\x3egridname\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22Home office\x22\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e然后，使用 \x3ccode\x3edata_source\x3c\/code\x3e 指令，后面跟集群名（服务器组）、轮询时间间隔（秒）、主节点主机和被监控节点的 IP 地址：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs css\x22\x3e\x3cspan class=\x22hljs-selector-tag\x22\x3edata_source\x3c\/span\x3e \x22\x3cspan class=\x22hljs-selector-tag\x22\x3eLabs\x3c\/span\x3e\x22 60 192\x3cspan class=\x22hljs-selector-class\x22\x3e.168\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.0\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.29\x3c\/span\x3e\x3cspan class=\x22hljs-selector-pseudo\x22\x3e:8649\x3c\/span\x3e # 主节点\n\x3cspan class=\x22hljs-selector-tag\x22\x3edata_source\x3c\/span\x3e \x22\x3cspan class=\x22hljs-selector-tag\x22\x3eLabs\x3c\/span\x3e\x22 60 192\x3cspan class=\x22hljs-selector-class\x22\x3e.168\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.0\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.32\x3c\/span\x3e # 被监控节点\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e5、 编辑 \x3ccode\x3e\/etc\/ganglia\/gmond.conf\x3c\/code\x3e。\x3c\/p\x3e\n\x3cp\x3ea) 确保集群的配置类似下面。\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs makefile\x22\x3ecluster {\nname = \x3cspan class=\x22hljs-string\x22\x3e\x22Labs\x22\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3e# gmetad.conf 中的  data_source 指令的名字\x3c\/span\x3e\nowner = \x3cspan class=\x22hljs-string\x22\x3e\x22unspecified\x22\x3c\/span\x3e\nlatlong = \x3cspan class=\x22hljs-string\x22\x3e\x22unspecified\x22\x3c\/span\x3e\nurl = \x3cspan class=\x22hljs-string\x22\x3e\x22unspecified\x22\x3c\/span\x3e\n}\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3eb) 在 \x3ccode\x3eudp_send_chanel\x3c\/code\x3e 中，注释掉 \x3ccode\x3emcast_join\x3c\/code\x3e：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs routeros\x22\x3eudp_send_channel   {\n\x3cspan class=\x22hljs-comment\x22\x3e# mcast_join = 239.2.11.71\x3c\/span\x3e\nhost = localhost\x3cspan class=\x22hljs-built_in\x22\x3e\nport \x3c\/span\x3e= 8649\nttl = 1\n}\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3ec) 在 \x3ccode\x3eudp_recv_channel\x3c\/code\x3e 中，注释掉 \x3ccode\x3emcast_join\x3c\/code\x3e 和 \x3ccode\x3ebind\x3c\/code\x3e 部分：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs routeros\x22\x3eudp_recv_channel {\n\x3cspan class=\x22hljs-comment\x22\x3e# mcast_join = 239.2.11.71 ## comment out\x3c\/span\x3e\x3cspan class=\x22hljs-built_in\x22\x3e\nport \x3c\/span\x3e= 8649\n\x3cspan class=\x22hljs-comment\x22\x3e# bind = 239.2.11.71 ## comment out\x3c\/span\x3e\n}\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e保存并退出。\x3c\/p\x3e\n\x3cp\x3e6、打开 8649\/udp 端口，使用 SELinux 确保 php 脚本（通过 Apache 运行）能够连接到网络：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs shell\x22\x3e\x3cspan class=\x22hljs-meta\x22\x3e#\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e firewall-cmd --add-port=8649\/udp\x3c\/span\x3e\n\x3cspan class=\x22hljs-meta\x22\x3e#\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e firewall-cmd --add-port=8649\/udp --permanent\x3c\/span\x3e\n\x3cspan class=\x22hljs-meta\x22\x3e#\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e setsebool -P httpd_can_network_connect 1\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e7、重启 Apache、gmetad、gmond，并确保它们启用了“开机启动”。\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs shell\x22\x3e\x3cspan class=\x22hljs-meta\x22\x3e#\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e systemctl restart httpd gmetad gmond\x3c\/span\x3e\n\x3cspan class=\x22hljs-meta\x22\x3e#\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e systemctl \x3cspan class=\x22hljs-built_in\x22\x3eenable\x3c\/span\x3e httpd gmetad httpd\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e至此，我们现在能够打开 Ganglia 的 Web 页面 \x3ccode\x3ehttp:\/\/192.168.0.29\/ganglia\x3c\/code\x3e 并用步骤 2 中设置的凭证登录。\x3c\/p\x3e\n\x3cp\x3e[\x3ca href=\x22https:\/\/camo.githubusercontent.com\/b048e3d717f35d1f1c08c121571ae4bd9f56b030\/687474703a2f2f7777772e7465636d696e742e636f6d2f77702d636f6e74656e742f75706c6f6164732f323031362f30362f47616e67696c612d5765622d496e746572666163652e706e67\x22\x3e\x3cimg src=\x22https:\/\/p4.ssl.qhimg.com\/t01ed7f3c2e16a37f67.png\x22 alt=\x22Gangila Web Interface\x22\x3e\x3c\/a\x3e][5]\x3c\/p\x3e\n\x3cp\x3e\x3cem\x3eGangila Web 页面\x3c\/em\x3e\x3c\/p\x3e\n\x3cp\x3e8、 在 \x3cstrong\x3eUbuntu\x3c\/strong\x3e 主机上，只需安装 Ganglia-monitor，等同于 CentOS 上的 ganglia-gmond：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs shell\x22\x3e\x3cspan class=\x22hljs-meta\x22\x3e$\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e sudo aptitude update \x26amp;\x26amp; aptitude install ganglia-monitor\x3c\/span\x3e\n\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e9、 编辑被监控主机的 \x3ccode\x3e\/etc\/ganglia\/gmond.conf\x3c\/code\x3e 文件。与主节点主机上是相同的文件，除了被注释掉的 \x3ccode\x3ecluster\x3c\/code\x3e, \x3ccode\x3eudp_send_channel\x3c\/code\x3e ， \x3ccode\x3eudp_recv_channel\x3c\/code\x3e 这里不应被注释：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs makefile\x22\x3ecluster {\nname = \x3cspan class=\x22hljs-string\x22\x3e\x22Labs\x22\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3e# The name in the data_source directive in gmetad.conf\x3c\/span\x3e\nowner = \x3cspan class=\x22hljs-string\x22\x3e\x22unspecified\x22\x3c\/span\x3e\nlatlong = \x3cspan class=\x22hljs-string\x22\x3e\x22unspecified\x22\x3c\/span\x3e\nurl = \x3cspan class=\x22hljs-string\x22\x3e\x22unspecified\x22\x3c\/span\x3e\n}\nudp_send_channel   {\nmcast_join = 239.2.11.71\nhost = localhost\nport = 8649\nttl = 1\n}\nudp_recv_channel {\nmcast_join = 239.2.11.71 \x3cspan class=\x22hljs-comment\x22\x3e## comment out\x3c\/span\x3e\nport = 8649\nbind = 239.2.11.71 \x3cspan class=\x22hljs-comment\x22\x3e## comment out\x3c\/span\x3e\n}\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e之后重启服务。\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs routeros\x22\x3e$ sudo\x3cspan class=\x22hljs-built_in\x22\x3e service \x3c\/span\x3eganglia-monitor restart\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e10、 刷新页面，你将在 Home office grid \/ Labs cluster 中看到两台主机的各种统计及图形化的展示（用下拉菜单选择集群，本例中为 Labs）：\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22http:\/\/www.tecmint.com\/wp-content\/uploads\/2016\/06\/Ganglia-Home-Office-Grid-Report.png\x22\x3e\x3cimg src=\x22https:\/\/p2.ssl.qhimg.com\/t0107493eff58f6446b.png\x22 alt=\x22Ganglia Home Office Grid Report\x22\x3e\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cem\x3eGanglia 中 Home office 网格报告\x3c\/em\x3e\x3c\/p\x3e\n\x3cp\x3e使用菜单按钮（如上指出的），你可以获取到每台服务器和集群的信息。还可以使用 对比主机Compare Hosts选项卡来比较集群中所有服务器的状态。\x3c\/p\x3e\n\x3cp\x3e可以使用正则表达式选择一组服务器，立刻就可以看到它们性能的对比：\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22http:\/\/www.tecmint.com\/wp-content\/uploads\/2016\/06\/Ganglia-Server-Information.png\x22\x3e\x3cimg src=\x22https:\/\/p0.ssl.qhimg.com\/t0161fd491885e1a89c.png\x22 alt=\x22Ganglia Host Server Information\x22\x3e\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cem\x3eGanglia 服务器信息\x3c\/em\x3e\x3c\/p\x3e\n\x3cp\x3e我最喜欢的一个特点是对移动端有友好的总结界面，可以通过 Mobile 选项来访问。选择你感兴趣的集群，然后选中一个主机。\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22http:\/\/www.tecmint.com\/wp-content\/uploads\/2016\/06\/Ganglia-Mobile-View.png\x22\x3e\x3cimg src=\x22https:\/\/p3.ssl.qhimg.com\/t017f080960956622f4.png\x22 alt=\x22Ganglia Mobile Friendly Summary View\x22\x3e\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cem\x3eGanglia 移动端总结截图\x3c\/em\x3e\x3c\/p\x3e\n\x3ch3\x3e\x3ca href=\x22#总结\x22\x3e\x3c\/a\x3e总结\x3c\/h3\x3e\n\x3cp\x3e本篇文章向大家介绍了 Ganglia，它是一个功能强大、扩展性很好的监控工具，主要用来监控集群和网格。它可以随意安装，便捷的组合各种功能（你甚至可以尝试一下\x3ca href=\x22http:\/\/ganglia.info\/\x22\x3e官方网站\x3c\/a\x3e 提供的 Demo）。\x3c\/p\x3e\n\x3cp\x3e此时，你可能会发现许多知名的 IT 或非 IT 的企业在使用 Ganglia。除了我们在文章中提及的之外，还有很多理由这样做，其中易用性，统计的图形化（在名字旁附上脸部照片更清晰，不是吗）可能是最重要的原因。\x3c\/p\x3e\n\x3cp\x3e但是请不要拘泥于本篇文章，尝试一下自己去做。如果你有任何问题，欢迎给我留言。\x3c\/p\x3e\n\x3chr\x3e\n\x3cp\x3evia: \x3ca href=\x22http:\/\/www.tecmint.com\/install-configure-ganglia-monitoring-centos-linux\/\x22\x3ehttp:\/\/www.tecmint.com\/install-configure-ganglia-monitoring-centos-linux\/\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e作者：\x3ca href=\x22http:\/\/www.tecmint.com\/author\/gacanepa\/\x22\x3eGabriel Cánepa\x3c\/a\x3e 译者：\x3ca href=\x22https:\/\/github.com\/ivo-wang\x22\x3eivo-wang\x3c\/a\x3e 校对：\x3ca href=\x22https:\/\/github.com\/jasminepeng\x22\x3ejasminepeng\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e本文由 \x3ca href=\x22https:\/\/github.com\/LCTT\/TranslateProject\x22\x3eLCTT\x3c\/a\x3e 组织编译，\x3ca href=\x22https:\/\/linux.cn\/\x22\x3eLinux中国\x3c\/a\x3e 荣誉推出\x3c\/p\x3e\n\x3cp\x3e[5]:\x3ca href=\x22http:\/\/www.tecmint.co\x22\x3ehttp:\/\/www.tecmint.co\x3c\/a\x3e m\/wp-content\/uploads\/2016\/06\/Gangila-Web-Interface.png [6]:\x3ca href=\x22http:\/\/httpd.apache.org\/docs\/current\/howto\/auth.html\x22\x3ehttp:\/\/httpd.apache.org\/docs\/current\/howto\/auth.html\x3c\/a\x3e [7]:\x3ca href=\x22https:\/\/linux.cn\/article-2324-1.html\x22\x3ehttps:\/\/linux.cn\/article-2324-1.html\x3c\/a\x3e [8]:\x3ca href=\x22http:\/\/www.tecmint.com\/wp-content\/uploads\/2016\/06\/\x22\x3ehttp:\/\/www.tecmint.com\/wp-content\/uploads\/2016\/06\/\x3c\/a\x3e Install-Gangila-Monitoring-in-Linux.png [9]:\x3ca href=\x22http:\/\/www.tecmint.com\/install-icinga-in-centos-7\/\x22\x3ehttp:\/\/www.tecmint.com\/install-icinga-in-centos-7\/\x3c\/a\x3e [10]:\x3ca href=\x22http:\/\/www.tecmint.com\/install-and-configure-zabbix-monitoring-on-debian-centos-rhel\/\x22\x3ehttp:\/\/www.tecmint.com\/install-and-configure-zabbix-monitoring-on-debian-centos-rhel\/\x3c\/a\x3e [11]:\x3ca href=\x22http:\/\/www.tecmint.com\/install-nagios-in-linux\/\x22\x3ehttp:\/\/www.tecmint.com\/install-nagios-in-linux\/\x3c\/a\x3e\x3c\/p\x3e\n\n          \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>使用 Ganglia 对 linux 网格和集群服务器进行实时监控</p><h2 id="原文链接">原文链接</h2><p><a href="https://www.zcfy.cc/article/setting-up-real-time-monitoring-with-ganglia">https://www.zcfy.cc/article/setting-up-real-time-monitoring-with-ganglia</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/y0f50jwa5e/" target="_blank">https://alili.tech/archive/y0f50jwa5e/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5328xogjarn/">IndexedDB--HTML5本地存储<aside class="dates">2019-01-28</aside></a></li><li><a href="/archive/xpccu0hsqbr/">JS学习系列 01 - 编译原理和作用域<aside class="dates">2019-01-28</aside></a></li><li><a href="/archive/shv09bbtbfd/">Vue2 SSR 的优化之旅<aside class="dates">2019-01-28</aside></a></li><li><a href="/archive/5vj1ojfo6h6/">[2016年末巨献] — HTML5可交互地铁线路图（第二季：帝都进阶版）<aside class="dates">2019-01-28</aside></a></li><li><a href="/archive/m02hlm4bzh/">vue2.0开发聊天程序（三）组件的通信<aside class="dates">2019-01-28</aside></a></li><li><a href="/archive/mz5o7n90plg/">《很高兴我没有猝死》- 前端新人的 2016 年总结和感悟<aside class="dates">2019-01-28</aside></a></li><li><a href="/archive/3vhoe2mo09k/">一道颇有难度的JavaScript题<aside class="dates">2019-01-28</aside></a></li><li><a href="/archive/uj12mb7thp/">使用CANVAS实现交互性圆形马赛克效果<aside class="dates">2019-01-28</aside></a></li><li><a href="/archive/ja636h8hcxa/">写于 2016 年末<aside class="dates">2019-01-28</aside></a></li><li><a href="/archive/5uomnoq1kmi/">前端学习资源整理<aside class="dates">2019-01-28</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>