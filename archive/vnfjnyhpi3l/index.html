<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="原生 JS 获取元素的尺寸和位置"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>原生 JS 获取元素的尺寸和位置 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/vnfjnyhpi3l/",
				"appid": "1613049289050283", 
				"title": "原生 JS 获取元素的尺寸和位置 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-30T02:30:23"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/pmkr8f26r6/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/xcauezii2ke/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fvnfjnyhpi3l%2f&text=%e5%8e%9f%e7%94%9f%20JS%20%e8%8e%b7%e5%8f%96%e5%85%83%e7%b4%a0%e7%9a%84%e5%b0%ba%e5%af%b8%e5%92%8c%e4%bd%8d%e7%bd%ae"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fvnfjnyhpi3l%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fvnfjnyhpi3l%2f&text=%e5%8e%9f%e7%94%9f%20JS%20%e8%8e%b7%e5%8f%96%e5%85%83%e7%b4%a0%e7%9a%84%e5%b0%ba%e5%af%b8%e5%92%8c%e4%bd%8d%e7%bd%ae"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fvnfjnyhpi3l%2f&title=%e5%8e%9f%e7%94%9f%20JS%20%e8%8e%b7%e5%8f%96%e5%85%83%e7%b4%a0%e7%9a%84%e5%b0%ba%e5%af%b8%e5%92%8c%e4%bd%8d%e7%bd%ae"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fvnfjnyhpi3l%2f&is_video=false&description=%e5%8e%9f%e7%94%9f%20JS%20%e8%8e%b7%e5%8f%96%e5%85%83%e7%b4%a0%e7%9a%84%e5%b0%ba%e5%af%b8%e5%92%8c%e4%bd%8d%e7%bd%ae"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e5%8e%9f%e7%94%9f%20JS%20%e8%8e%b7%e5%8f%96%e5%85%83%e7%b4%a0%e7%9a%84%e5%b0%ba%e5%af%b8%e5%92%8c%e4%bd%8d%e7%bd%ae&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fvnfjnyhpi3l%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fvnfjnyhpi3l%2f&title=%e5%8e%9f%e7%94%9f%20JS%20%e8%8e%b7%e5%8f%96%e5%85%83%e7%b4%a0%e7%9a%84%e5%b0%ba%e5%af%b8%e5%92%8c%e4%bd%8d%e7%bd%ae"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fvnfjnyhpi3l%2f&title=%e5%8e%9f%e7%94%9f%20JS%20%e8%8e%b7%e5%8f%96%e5%85%83%e7%b4%a0%e7%9a%84%e5%b0%ba%e5%af%b8%e5%92%8c%e4%bd%8d%e7%bd%ae"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fvnfjnyhpi3l%2f&title=%e5%8e%9f%e7%94%9f%20JS%20%e8%8e%b7%e5%8f%96%e5%85%83%e7%b4%a0%e7%9a%84%e5%b0%ba%e5%af%b8%e5%92%8c%e4%bd%8d%e7%bd%ae"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fvnfjnyhpi3l%2f&title=%e5%8e%9f%e7%94%9f%20JS%20%e8%8e%b7%e5%8f%96%e5%85%83%e7%b4%a0%e7%9a%84%e5%b0%ba%e5%af%b8%e5%92%8c%e4%bd%8d%e7%bd%ae"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">原生 JS 获取元素的尺寸和位置</h1><div class="meta"><div class="postdate"><time datetime="2019-01-30" itemprop="datePublished">2019-01-30</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e关于元素的尺寸和位置，这原本是 CSS 干的事，但更多的时候需要用 JavaScript 来获取这些参数，比如一个很好的例子 js 实现的图片瀑布流。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVGp85?w=680\x26amp;h=451\x22 src=\x22https:\/\/static.alili.tech\/img\/bVGp85?w=680\x26amp;h=451\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e在介绍 JS 中的例子之前，先来说明一下 css 中的元素尺寸。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3eCSS 中的 width 和 height\x3c\/h2\x3e\n\x3cp\x3e先开个头吧，一个元素所占据的物理尺寸包括以下几个部分，由内到外分别是内容，padding，border，margin，这些值加到一起才算是一个元素真实尺寸。这里面并没有把滚动条的宽度算上，因为滚动条时占用 padding 的宽度的，如果 padding 宽度小于滚动条，那么滚动条多出来的部分将占用内容的宽度。\x3ca href=\x22http:\/\/blog.csdn.net\/huzhigenlaohu\/article\/details\/49636041\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3epadding与滚动条关系\x3c\/a\x3e。\x3c\/p\x3e\n\x3cp\x3e比如下面的这个例子：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ html\n\x3cdiv class=\x26quot;test\x26quot;\x3e\x3c\/div\x3e\n\n\/\/ css style\n.test{\n    width:100px;\n    height: 100px;\n    padding:10px;\n    border:2px solid black;\n    margin: 5px;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ html\x3c\/span\x3e\n\x26lt;\x3cspan class=\x22hljs-selector-tag\x22\x3ediv\x3c\/span\x3e class=\x3cspan class=\x22hljs-string\x22\x3e\x22test\x22\x3c\/span\x3e\x26gt;\x26lt;\/div\x26gt;\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ css style\x3c\/span\x3e\n.test{\n    \x3cspan class=\x22hljs-attribute\x22\x3ewidth\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e100px\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-attribute\x22\x3eheight\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e100px\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-attribute\x22\x3epadding\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e10px\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-attribute\x22\x3eborder\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e2px\x3c\/span\x3e solid black;\n    \x3cspan class=\x22hljs-attribute\x22\x3emargin\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e5px\x3c\/span\x3e;\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVGp8P?w=221\x26amp;h=170\x22 src=\x22https:\/\/static.alili.tech\/img\/bVGp8P?w=221\x26amp;h=170\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e上图是 chrome 调试下的 styles，所以 \x3ccode\x3e.test\x3c\/code\x3e 的实际宽度应该是 100px \x2b 20px \x2b 4px \x2b 10px = 134px，这里把 margin 也算进去，高度的计算同理。知道这一点很重要，当我们需要精确设定元素宽度的时候，就不会因为尺寸过大而把元素挤到下一行。\x3c\/p\x3e\n\x3cp\x3e不过，这是入门级的 CSS。除此之外，还需要知道一个非常重要的 CSS 样式，即 \x3ccode\x3ebox-sizing\x3c\/code\x3e，可参考 \x3ca href=\x22https:\/\/developer.mozilla.org\/zh-CN\/docs\/Web\/CSS\/box-sizing\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eMDN\x3c\/a\x3e 上的介绍。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/* 关键字值 *\/\nbox-sizing: content-box;\nbox-sizing: border-box;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs maxima\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/* 关键字值 *\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3ebox\x3c\/span\x3e-sizing: \x3cspan class=\x22hljs-built_in\x22\x3econtent\x3c\/span\x3e-\x3cspan class=\x22hljs-built_in\x22\x3ebox\x3c\/span\x3e;\n\x3cspan class=\x22hljs-built_in\x22\x3ebox\x3c\/span\x3e-sizing: \x3cspan class=\x22hljs-built_in\x22\x3eborder\x3c\/span\x3e-\x3cspan class=\x22hljs-built_in\x22\x3ebox\x3c\/span\x3e;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3ccode\x3ebox-sizing\x3c\/code\x3e 有两个关键字（据说还有一个 padding-box，反正我在 chrome 上测试不成功），content-box 是默认值，此时 width 只表示内容 content，border-box 表示元素的 width 等于 content \x2b padding \x2b border 三者之和。border-box 非常有用，尤其当我们在使用 100% 来规定宽高的时候，如果元素存在 border 或 padding，将直接导致元素的实际大小大于 100%，估计还有人记得 \x3ccode\x3ecalc\x3c\/code\x3e 带来的痛苦。\x3c\/p\x3e\n\x3cp\x3e修改上面的例子：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22.test{\n  width:100px;\n  height: 100px;\n  padding:10px;\n  border:2px solid black;\n  margin: 5px;\n  box-sizing: border-box;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs css\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.test\x3c\/span\x3e{\n  \x3cspan class=\x22hljs-attribute\x22\x3ewidth\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e100px\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-attribute\x22\x3eheight\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e100px\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-attribute\x22\x3epadding\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e10px\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-attribute\x22\x3eborder\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e2px\x3c\/span\x3e solid black;\n  \x3cspan class=\x22hljs-attribute\x22\x3emargin\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e5px\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-attribute\x22\x3ebox-sizing\x3c\/span\x3e: border-box;\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVGp8V?w=220\x26amp;h=175\x22 src=\x22https:\/\/static.alili.tech\/img\/bVGp8V?w=220\x26amp;h=175\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e\x3ccode\x3e76 \x2b 20 \x2b 4 = 100px\x3c\/code\x3e，此时的 width 表示三者之和，而内容的宽度只有 76px 了。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3eJS 获取元素尺寸\x3c\/h2\x3e\n\x3cp\x3e千万不要尝试用 element.style.width 或 element.style.height 来获得元素的高度和宽度，它们的默认值都是 0，除非你在 html 元素里面设置，否则 \x3cstrong\x3ejs 是无法获得 css 的样式的\x3c\/strong\x3e，必须要用其他的方法。比如下面这段代码 \x3ccode\x3eelement.style.width\x3c\/code\x3e 的值才是 100px：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cdiv class=\x26quot;test\x26quot; style=\x26quot;width:100px\x26quot;\x3e\x3c\/div\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x26lt;div \x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22test\x22\x3c\/span\x3e style=\x3cspan class=\x22hljs-string\x22\x3e\x22width:100px\x22\x3c\/span\x3e\x26gt;\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3eJS 中 element 对象提供 \x3ccode\x3eoffsetHeight\x3c\/code\x3e, \x3ccode\x3escrollHeight\x3c\/code\x3e, \x3ccode\x3eclientHeight\x3c\/code\x3e(每个都对应 width)，其中：\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3eoffsetHeight 可以用来计算元素的物理空间\x3c\/strong\x3e，此空间包括内容，padding 和 border（还包括滚动条的宽度，但大多时候滚动条的宽度是计算到 padding 和内容中的）。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVGp8X?w=219\x26amp;h=176\x22 src=\x22https:\/\/static.alili.tech\/img\/bVGp8X?w=219\x26amp;h=176\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var test = document.getElementsByClassName(\x27test\x27)[0];\ntest.offsetHeight \/\/ 100\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stata\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3etest\x3c\/span\x3e = document.getElementsByClassName(\x27\x3cspan class=\x22hljs-keyword\x22\x3etest\x3c\/span\x3e\x27)[0];\n\x3cspan class=\x22hljs-keyword\x22\x3etest\x3c\/span\x3e.offsetHeight \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 100\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cstrong\x3escrollHeight 用来计算可滚动容器的大小，包括不可见的部分\x3c\/strong\x3e，比如一个 300*300 的容器放入一个 600*600 的图片，此时 scrollHeight 为 600，当然，scrollHeight 的值需要加上 padding 的值。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3eclientHeight 表示可视区域，包括内容和 padding ，如果有滚动条，还需要减去滚动条的宽度\x3c\/strong\x3e。\x3c\/p\x3e\n\x3cp\x3e举个例子，还是之前那个 test，加入 test2：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cdiv class=\x26quot;test\x26quot;\x3e\n    \x3cdiv class=\x26quot;test2\x26quot;\x3e\x3c\/div\x3e\n\x3c\/div\x3e\n\n\/\/css\n.test{\n  overflow: auto; \/\/新增\n}\n.test2{\n    width: 150px;\n    height: 150px;\n    background-color: gray;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode\x3e\x26lt;\x3cspan class=\x22hljs-selector-tag\x22\x3ediv\x3c\/span\x3e class=\x3cspan class=\x22hljs-string\x22\x3e\x22test\x22\x3c\/span\x3e\x26gt;\n    \x26lt;\x3cspan class=\x22hljs-selector-tag\x22\x3ediv\x3c\/span\x3e class=\x3cspan class=\x22hljs-string\x22\x3e\x22test2\x22\x3c\/span\x3e\x26gt;\x26lt;\/div\x26gt;\n\x26lt;\/div\x26gt;\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/css\x3c\/span\x3e\n.test{\n  \x3cspan class=\x22hljs-attribute\x22\x3eoverflow\x3c\/span\x3e: auto; \x3cspan class=\x22hljs-comment\x22\x3e\/\/新增\x3c\/span\x3e\n}\n.test2{\n    \x3cspan class=\x22hljs-attribute\x22\x3ewidth\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e150px\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-attribute\x22\x3eheight\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e150px\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-attribute\x22\x3ebackground-color\x3c\/span\x3e: gray;\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVGp8Y?w=162\x26amp;h=119\x22 src=\x22https:\/\/static.alili.tech\/img\/bVGp8Y?w=162\x26amp;h=119\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e来看一看 test 的输出值是多少：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var test = document.getElementsByClassName(\x27test\x27)[0];\ntest.offsetHeight \/\/ 100\ntest.scrollHeight \/\/ 170\ntest.clientHeight \/\/ 79\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stata\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3etest\x3c\/span\x3e = document.getElementsByClassName(\x27\x3cspan class=\x22hljs-keyword\x22\x3etest\x3c\/span\x3e\x27)[0];\n\x3cspan class=\x22hljs-keyword\x22\x3etest\x3c\/span\x3e.offsetHeight \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 100\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3etest\x3c\/span\x3e.scrollHeight \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 170\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3etest\x3c\/span\x3e.clientHeight \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 79\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e此时滚动条的宽度是 17px，根据前面的介绍，滚动条时占用 padding 和 content 宽度的，而 17px 大于 padding 的 10px，故还有 7px 会占据 content。\x3c\/p\x3e\n\x3cp\x3e分析一下，offsetHeight 的值是 100，padding 10px，滚动条虽然存在，但是占了 padding 和内容的空间，offsetHeight 的值是 4\x2b20\x2b76 = 100px。scrollHeight 的值是可滚动的范围加上padding 值，同样不包括滚动条，即 150\x2b20 = 170px。clientHeight 的值是可见区域，但是不包括滚动条的值（滚动条。。。），所以20\x2b76-17 = 79px。\x3c\/p\x3e\n\x3cp\x3e其实也不是非常复杂。这个时候可以得出滚动条宽度的计算：offsetHeight 减去 border 和 clientHeight 的和就是滚动条宽度。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3e获取元素内容的尺寸\x3c\/h2\x3e\n\x3cp\x3e刚说了半天，还是无法获得元素内容的尺寸，最接近内容宽度的是 clientHeight，在没有滚动条的情况下，减去 padding 值就是内容的尺寸。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e如何获取元素的真实尺寸呢？\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e通过 getComputedStyle （IE 下 currentStyle），\x3ca href=\x22https:\/\/developer.mozilla.org\/en-US\/docs\/Web\/API\/Window\/getComputedStyle\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eMDN\x3c\/a\x3e 介绍。\x3c\/p\x3e\n\x3cp\x3egetComputedStyle 这个函数主要提供给我们元素 border 和 padding 宽度在内的一系列值（仍然不要妄想通过 element.style.border-width 获得），加上原先的 offsetHeight，就可以减去 border 和 padding 的值获得元素的真实尺寸。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 考虑 IE 的兼容性\nfunction getStyle(el) { \n  if(window.getComputedStyle) { \n    return window.getComputedStyle(el, null); \n  }else{ \n    return el.currentStyle; \n  } \n} \nfunction getWH(el, name) { \n  var val = name === \x26quot;width\x26quot; ? el.offsetWidth : el.offsetHeight, \n  which = name === \x26quot;width\x26quot; ? [\x27Left\x27, \x27Right\x27] : [\x27Top\x27, \x27Bottom\x27]; \n  \/\/ display is none \n  if(val === 0) { \n    return 0; \n  } \n  var style = getStyle(el);\n  \/\/ 左右或上下两边的都减去\n  for(var i = 0, a; a = which[i\x2b\x2b];) { \n    val -= parseFloat( style[\x26quot;border\x26quot; \x2b a \x2b \x26quot;Width\x26quot;]) || 0; \n    val -= parseFloat( style[\x26quot;padding\x26quot; \x2b a ] ) || 0; \n  } \n  return val; \n}\n\/\/ 测试，正确\ngetWH(test, \x27width\x27); \/\/ 76\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 考虑 IE 的兼容性\x3c\/span\x3e\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3egetStyle\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eel\x3c\/span\x3e) \x3c\/span\x3e{ \n  \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(\x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.getComputedStyle) { \n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.getComputedStyle(el, \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e); \n  }\x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e{ \n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e el.currentStyle; \n  } \n} \n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3egetWH\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eel, name\x3c\/span\x3e) \x3c\/span\x3e{ \n  \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e val = name === \x3cspan class=\x22hljs-string\x22\x3e\x22width\x22\x3c\/span\x3e ? el.offsetWidth : el.offsetHeight, \n  which = name === \x3cspan class=\x22hljs-string\x22\x3e\x22width\x22\x3c\/span\x3e ? [\x3cspan class=\x22hljs-string\x22\x3e\x27Left\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27Right\x27\x3c\/span\x3e] : [\x3cspan class=\x22hljs-string\x22\x3e\x27Top\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27Bottom\x27\x3c\/span\x3e]; \n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ display is none \x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(val === \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e) { \n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; \n  } \n  \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e style = getStyle(el);\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 左右或上下两边的都减去\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e, a; a = which[i\x2b\x2b];) { \n    val -= \x3cspan class=\x22hljs-built_in\x22\x3eparseFloat\x3c\/span\x3e( style[\x3cspan class=\x22hljs-string\x22\x3e\x22border\x22\x3c\/span\x3e \x2b a \x2b \x3cspan class=\x22hljs-string\x22\x3e\x22Width\x22\x3c\/span\x3e]) || \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; \n    val -= \x3cspan class=\x22hljs-built_in\x22\x3eparseFloat\x3c\/span\x3e( style[\x3cspan class=\x22hljs-string\x22\x3e\x22padding\x22\x3c\/span\x3e \x2b a ] ) || \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; \n  } \n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e val; \n}\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 测试，正确\x3c\/span\x3e\ngetWH(test, \x3cspan class=\x22hljs-string\x22\x3e\x27width\x27\x3c\/span\x3e); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 76\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader3\x22\x3e获取元素的位置\x3c\/h2\x3e\n\x3cp\x3e在这里先隆重推出一个重量级嘉宾函数，即 \x3ccode\x3egetBoundingClientRect\x3c\/code\x3e，贴上 \x3ca href=\x22https:\/\/developer.mozilla.org\/zh-CN\/docs\/Web\/API\/Element\/getBoundingClientRect\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eMDN\x3c\/a\x3e 链接。\x3c\/p\x3e\n\x3cp\x3e\x3ccode\x3eelement.getBoundingClientRect()\x3c\/code\x3e 会返回一个数组，比如：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22test.getBoundingClientRect();\n  bottom:108\n  height:100\n  left:13\n  right:113\n  top:8\n  width:100\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs css\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-selector-tag\x22\x3etest\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.getBoundingClientRect\x3c\/span\x3e();\n  \x3cspan class=\x22hljs-selector-tag\x22\x3ebottom\x3c\/span\x3e\x3cspan class=\x22hljs-selector-pseudo\x22\x3e:108\x3c\/span\x3e\n  \x3cspan class=\x22hljs-selector-tag\x22\x3eheight\x3c\/span\x3e\x3cspan class=\x22hljs-selector-pseudo\x22\x3e:100\x3c\/span\x3e\n  \x3cspan class=\x22hljs-selector-tag\x22\x3eleft\x3c\/span\x3e\x3cspan class=\x22hljs-selector-pseudo\x22\x3e:13\x3c\/span\x3e\n  \x3cspan class=\x22hljs-selector-tag\x22\x3eright\x3c\/span\x3e\x3cspan class=\x22hljs-selector-pseudo\x22\x3e:113\x3c\/span\x3e\n  \x3cspan class=\x22hljs-selector-tag\x22\x3etop\x3c\/span\x3e\x3cspan class=\x22hljs-selector-pseudo\x22\x3e:8\x3c\/span\x3e\n  \x3cspan class=\x22hljs-selector-tag\x22\x3ewidth\x3c\/span\x3e\x3cspan class=\x22hljs-selector-pseudo\x22\x3e:100\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e其中，width 和 height 跟 element.offset 的值是一致的，left bottom 等值则表示距离浏览器窗口的距离，如果要获得元素的位置，只需要得到 left 和 top 的值即可，\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var X= test.getBoundingClientRect().left;\nvar Y =test.getBoundingClientRect().top;\n\/\/再加上滚动距离，就可以得到绝对位置\nvar X= test.getBoundingClientRect().left\x2bdocument.body.scrollLeft;\nvar Y =test.getBoundingClientRect().top\x2bdocument.body.scrollTop;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stata\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e X= \x3cspan class=\x22hljs-keyword\x22\x3etest\x3c\/span\x3e.getBoundingClientRect().left;\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e Y =\x3cspan class=\x22hljs-keyword\x22\x3etest\x3c\/span\x3e.getBoundingClientRect().top;\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/再加上滚动距离，就可以得到绝对位置\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e X= \x3cspan class=\x22hljs-keyword\x22\x3etest\x3c\/span\x3e.getBoundingClientRect().left\x2bdocument.body.scrollLeft;\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e Y =\x3cspan class=\x22hljs-keyword\x22\x3etest\x3c\/span\x3e.getBoundingClientRect().top\x2bdocument.body.scrollTop;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e此方法之外，还有其他方法。比如每个元素都有 offsetTop 和 offsetLeft 属性，表示距离父容器左、上角的边距，offsetParent 表示父容器，先得到距离父容器的距离，依次累加，得到绝对位置。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVGp8Z?w=473\x26amp;h=340\x22 src=\x22https:\/\/static.alili.tech\/img\/bVGp8Z?w=473\x26amp;h=340\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function getPosition(element, name){\n  name = name.toLowerCase().replace(\x26quot;left\x26quot;, \x26quot;Left\x26quot;).replace(\x26quot;top\x26quot;, \x26quot;Top\x26quot;);\n  var offset = \x27offset\x27 \x2b name;\n  var actualLeft = element[offset];\n  var current = element.offsetParent;\n  while (current !== null){\n    actualLeft \x2b= current[offset];\n    current = current.offsetParent;\n  }\n  return actualLeft;\n}\ngetPosition(test,\x27left\x27) \/\/ 13\ngetPosition(test,\x27top\x27) \/\/ 8\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3egetPosition\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eelement, name\x3c\/span\x3e)\x3c\/span\x3e{\n  name = name.toLowerCase().replace(\x3cspan class=\x22hljs-string\x22\x3e\x22left\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22Left\x22\x3c\/span\x3e).replace(\x3cspan class=\x22hljs-string\x22\x3e\x22top\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22Top\x22\x3c\/span\x3e);\n  \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e offset = \x3cspan class=\x22hljs-string\x22\x3e\x27offset\x27\x3c\/span\x3e \x2b name;\n  \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e actualLeft = element[offset];\n  \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e current = element.offsetParent;\n  \x3cspan class=\x22hljs-keyword\x22\x3ewhile\x3c\/span\x3e (current !== \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e){\n    actualLeft \x2b= current[offset];\n    current = current.offsetParent;\n  }\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e actualLeft;\n}\ngetPosition(test,\x3cspan class=\x22hljs-string\x22\x3e\x27left\x27\x3c\/span\x3e) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 13\x3c\/span\x3e\ngetPosition(test,\x3cspan class=\x22hljs-string\x22\x3e\x27top\x27\x3c\/span\x3e) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 8\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e结果和 getBoundingClientRect() 值一样，有时候需要考虑是相对于屏幕的位置还是绝对位置，然后再做进一步的计算。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader4\x22\x3e总结\x3c\/h2\x3e\n\x3cp\x3e感觉最近的文章越来越水，主要是因为最近都在抓基础，学习 nodejs 和 ES6 的基本语法，没时间去看一下比较流行的框架。白天又特别忙，学校里又一大堆事情，各种烦躁。共勉！\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader5\x22\x3e参考\x3c\/h2\x3e\n\x3cblockquote\x3e\x3cp\x3e\x3ca href=\x22http:\/\/www.ruanyifeng.com\/blog\/2009\/09\/find_element_s_position_using_javascript.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e用Javascript获取页面元素的位置\x3c\/a\x3e\x3cbr\x3e\x3ca href=\x22http:\/\/m.jb51.net\/article\/28278.htm\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e关于元素的尺寸(dimensions) 说明\x3c\/a\x3e\x3cbr\x3e\x3ca href=\x22http:\/\/www.cnblogs.com\/yuteng\/articles\/1894578.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eheight、clientHeight、scrollHeight、offsetHeight区别\x3c\/a\x3e\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e欢迎来我\x3ca href=\x22http:\/\/yuren.space\/blog\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e博客\x3c\/a\x3e交流。\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>原生 JS 获取元素的尺寸和位置</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000007687940">https://segmentfault.com/a/1190000007687940</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/vnfjnyhpi3l/" target="_blank">https://alili.tech/archive/vnfjnyhpi3l/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5fmk2pl6rab/">2016年前端开发者深度调研，看看别人使用什么技术体系<aside class="dates">2019-01-30</aside></a></li><li><a href="/archive/stp6408xnu/">Bootstrap使用模态框modal实现表单提交弹出框<aside class="dates">2019-01-30</aside></a></li><li><a href="/archive/fu7a86e9uyh/">CSS水平垂直居中总结<aside class="dates">2019-01-30</aside></a></li><li><a href="/archive/r0w29esklr/">JS 里怎么给数组填充默认值<aside class="dates">2019-01-30</aside></a></li><li><a href="/archive/i00hiszlr1/">JavaScript - EventEmitter 背后的秘密<aside class="dates">2019-01-30</aside></a></li><li><a href="/archive/u2la0cn9do/">JavaScript 精度丢失问题<aside class="dates">2019-01-30</aside></a></li><li><a href="/archive/3txhfn3ejcb/">Nodejs进阶：如何玩转子进程（child_process）<aside class="dates">2019-01-30</aside></a></li><li><a href="/archive/yr7v8e9fao/">Promise介绍--规范篇<aside class="dates">2019-01-30</aside></a></li><li><a href="/archive/9lyxyz4wc6g/">QQ音乐API整理<aside class="dates">2019-01-30</aside></a></li><li><a href="/archive/84zzlljmes4/">SegmentFault 技术周刊 Vol.14 - 进阶 Vue 2.0<aside class="dates">2019-01-30</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>