<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="vue2.0一起在懵逼的海洋里越陷越深（六）"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>vue2.0一起在懵逼的海洋里越陷越深（六） | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/oqucywm06kh/",
				"appid": "1613049289050283", 
				"title": "vue2.0一起在懵逼的海洋里越陷越深（六） | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-29T02:30:10"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/l9cobt6i29m/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/d0lzs3c7uge/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2foqucywm06kh%2f&text=vue2.0%e4%b8%80%e8%b5%b7%e5%9c%a8%e6%87%b5%e9%80%bc%e7%9a%84%e6%b5%b7%e6%b4%8b%e9%87%8c%e8%b6%8a%e9%99%b7%e8%b6%8a%e6%b7%b1%ef%bc%88%e5%85%ad%ef%bc%89"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2foqucywm06kh%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2foqucywm06kh%2f&text=vue2.0%e4%b8%80%e8%b5%b7%e5%9c%a8%e6%87%b5%e9%80%bc%e7%9a%84%e6%b5%b7%e6%b4%8b%e9%87%8c%e8%b6%8a%e9%99%b7%e8%b6%8a%e6%b7%b1%ef%bc%88%e5%85%ad%ef%bc%89"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2foqucywm06kh%2f&title=vue2.0%e4%b8%80%e8%b5%b7%e5%9c%a8%e6%87%b5%e9%80%bc%e7%9a%84%e6%b5%b7%e6%b4%8b%e9%87%8c%e8%b6%8a%e9%99%b7%e8%b6%8a%e6%b7%b1%ef%bc%88%e5%85%ad%ef%bc%89"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2foqucywm06kh%2f&is_video=false&description=vue2.0%e4%b8%80%e8%b5%b7%e5%9c%a8%e6%87%b5%e9%80%bc%e7%9a%84%e6%b5%b7%e6%b4%8b%e9%87%8c%e8%b6%8a%e9%99%b7%e8%b6%8a%e6%b7%b1%ef%bc%88%e5%85%ad%ef%bc%89"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=vue2.0%e4%b8%80%e8%b5%b7%e5%9c%a8%e6%87%b5%e9%80%bc%e7%9a%84%e6%b5%b7%e6%b4%8b%e9%87%8c%e8%b6%8a%e9%99%b7%e8%b6%8a%e6%b7%b1%ef%bc%88%e5%85%ad%ef%bc%89&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2foqucywm06kh%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2foqucywm06kh%2f&title=vue2.0%e4%b8%80%e8%b5%b7%e5%9c%a8%e6%87%b5%e9%80%bc%e7%9a%84%e6%b5%b7%e6%b4%8b%e9%87%8c%e8%b6%8a%e9%99%b7%e8%b6%8a%e6%b7%b1%ef%bc%88%e5%85%ad%ef%bc%89"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2foqucywm06kh%2f&title=vue2.0%e4%b8%80%e8%b5%b7%e5%9c%a8%e6%87%b5%e9%80%bc%e7%9a%84%e6%b5%b7%e6%b4%8b%e9%87%8c%e8%b6%8a%e9%99%b7%e8%b6%8a%e6%b7%b1%ef%bc%88%e5%85%ad%ef%bc%89"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2foqucywm06kh%2f&title=vue2.0%e4%b8%80%e8%b5%b7%e5%9c%a8%e6%87%b5%e9%80%bc%e7%9a%84%e6%b5%b7%e6%b4%8b%e9%87%8c%e8%b6%8a%e9%99%b7%e8%b6%8a%e6%b7%b1%ef%bc%88%e5%85%ad%ef%bc%89"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2foqucywm06kh%2f&title=vue2.0%e4%b8%80%e8%b5%b7%e5%9c%a8%e6%87%b5%e9%80%bc%e7%9a%84%e6%b5%b7%e6%b4%8b%e9%87%8c%e8%b6%8a%e9%99%b7%e8%b6%8a%e6%b7%b1%ef%bc%88%e5%85%ad%ef%bc%89"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">vue2.0一起在懵逼的海洋里越陷越深（六）</h1><div class="meta"><div class="postdate"><time datetime="2019-01-29" itemprop="datePublished">2019-01-29</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch3 id=\x22articleHeader0\x22\x3e前言\x3c\/h3\x3e\n\x3cp\x3e本文章系列：\x3ca href=\x22http:\/\/leenty.com\/tags\/vuejs\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3evue2.0一起在懵逼的海洋里越陷越深 (http:\/\/leenty.com\/tags\/vuejs\/)\x3c\/a\x3e\x3cbr\x3e\x3ca href=\x22http:\/\/vue2.leenty.com\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e演示场地vue2.0 Demo\x3c\/a\x3e,这是\x3ca href=\x22https:\/\/github.com\/leenty\/vue2\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e源码地址\x3c\/a\x3e,觉得靠谱的话欢迎加星跟随,有问题欢迎评论和指正?\x3c\/p\x3e\n\x3cp\x3e在vue开发SPA应用的过程中，多数情况下我们需要解决一个问题\x3cbr\x3e就是在路由跳转的过程中需要更新你SPA应用的\x3ccode\x3etitle\x3c\/code\x3e ，\x3cbr\x3e这一节不说其他，就展示如何使用\x3ccode\x3evue-router\x3c\/code\x3e的\x3cstrong\x3e导航钩子\x3c\/strong\x3e去解决这么一个问题。\x3cbr\x3e接下来就愉快的去玩耍啦！\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000007858597?w=479\x26amp;h=475\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000007858597?w=479\x26amp;h=475\x22 alt=\x22去吧孩子\x22 title=\x22去吧孩子\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader1\x22\x3e正文\x3c\/h3\x3e\n\x3cp\x3e好的，介绍下背景，我有这么一个\x3ca href=\x22http:\/\/vue2.leenty.com\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e博客的demo\x3c\/a\x3e，里面有多个版块，每个版块有着不同的名称(\x3ccode\x3etitle\x3c\/code\x3e)\x3cbr\x3e先看一下Demo的路由结构\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22vue2.leenty.com\n├── home                # 首页版块\n├── article             # 文章版块\n│   ├── vue2-1            # 具体文章一\n│   ├── vue2-2            # 具体文章二\n│   ├── vue2-3            # 具体文章三\n│   ├── vue2-4            # 具体文章四\n│   ├── vue2-5            # 具体文章五\n│   └── vue2-6            # 具体文章六\n└── demo                # 演示版块\n    └── demo-1            # 具体演示一\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs 1c\x22\x3e\x3ccode\x3evue2.leenty.com\n├── home                \x3cspan class=\x22hljs-meta\x22\x3e# 首页版块\x3c\/span\x3e\n├── article             \x3cspan class=\x22hljs-meta\x22\x3e# 文章版块\x3c\/span\x3e\n│   ├── vue2-\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e            \x3cspan class=\x22hljs-meta\x22\x3e# 具体文章一\x3c\/span\x3e\n│   ├── vue2-\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e            \x3cspan class=\x22hljs-meta\x22\x3e# 具体文章二\x3c\/span\x3e\n│   ├── vue2-\x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e            \x3cspan class=\x22hljs-meta\x22\x3e# 具体文章三\x3c\/span\x3e\n│   ├── vue2-\x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e            \x3cspan class=\x22hljs-meta\x22\x3e# 具体文章四\x3c\/span\x3e\n│   ├── vue2-\x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e            \x3cspan class=\x22hljs-meta\x22\x3e# 具体文章五\x3c\/span\x3e\n│   └── vue2-\x3cspan class=\x22hljs-number\x22\x3e6\x3c\/span\x3e            \x3cspan class=\x22hljs-meta\x22\x3e# 具体文章六\x3c\/span\x3e\n└── demo                \x3cspan class=\x22hljs-meta\x22\x3e# 演示版块\x3c\/span\x3e\n    └── demo-\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e            \x3cspan class=\x22hljs-meta\x22\x3e# 具体演示一\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e好的，接下来要实现的是在切换路由的时候同时的去切换你页面的\x3ccode\x3etitle\x3c\/code\x3e\x3c\/p\x3e\n\x3ch4\x3e思路\x3c\/h4\x3e\n\x3cp\x3e这里思路是使用\x3ccode\x3evue-router\x3c\/code\x3e的路由全局导航钩子去解决这个问题\x3cbr\x3e在路由对象里添加一个\x3ccode\x3etitle\x3c\/code\x3e字段以供路由全局导航钩子读取并更新页面\x3ccode\x3etitle\x3c\/code\x3e\x3c\/p\x3e\n\x3ch4\x3e配置路由\x3c\/h4\x3e\n\x3cp\x3e所以第一步，先在路由对象里添加这一个字段。\x3cbr\x3e打开\x3ccode\x3esrc\/routes.js\x3c\/code\x3e(\x3ca href=\x22https:\/\/github.com\/leenty\/vue2\/blob\/master\/src\/routes.js\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e源文件地址：https:\/\/github.com\/leenty\/vue2\/blob\/master\/src\/routes.js\x3c\/a\x3e)\x3cbr\x3e\x3cstrong\x3e（注意是\x3ccode\x3eroutes.js\x3c\/code\x3e,这是咱用来存放路由对象的文件）\x3c\/strong\x3e\x3cbr\x3e在原有数据的基础上添加\x3ccode\x3etitle\x3c\/code\x3e\x3cbr\x3e这里其实vue1.0和vue2.0的实现是差不多的，所以vue1.0也是可以使用的。\x3cbr\x3evue2.0路由对象提供了一个\x3ccode\x3emeta\x3c\/code\x3e字段来给你存放一些其他信息，所以这里就可以用来存放\x3ccode\x3etitle\x3c\/code\x3e\x3cbr\x3evue1.0的话是没有这个字段的，所以可以直接与\x3ccode\x3epath\x3c\/code\x3e平级。\x3cbr\x3e具体如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const routes = [\n  {\n    name: \x27Home\x27,\n    path: \x27\/\x27,\n    meta: {\n      title: \x27home\x27 \/\/ 主页的title为home\n    },\n    component: require(\x27.\/components\/Home.vue\x27)\n  },\n  {\n    name: \x27Article\x27,\n    path: \x27\/article\x27,\n    meta: {\n      title: \x27article\x27 \/\/ 文章模块相应的title为article\n    },\n    component: require(\x27.\/components\/Article.vue\x27),\n    children: [\n      {\n        name: \x27vue2_1\x27,\n        path: \x27\/article\/vue2_1\x27,\n        meta: {\n          title: \x27vue2.0一起在懵逼的海洋里越陷越深（一）\x27 \/\/ 子路由也是一样的道理\n        },\n        component: require(\x27.\/md\/articles\/vue2-1.md\x27)\n      },\n      \/\/ ... 子路由和父路由都差不多，所以后面的就省略了\n    ]\n  },\n  {\n    name: \x27Demo\x27,\n    path: \x27\/demo\x27,\n    meta: {\n      title: \x27demo\x27 \/\/ 演示模块title为demo\n    },\n    component: require(\x27.\/components\/Demo.vue\x27),\n    children: [\n      {\n        name: \x27DemoVuexState\x27,\n        path: \x27vuex_state\x27,\n        meta: {\n          title: \x27vuex演示\x27\n        },\n        component: require(\x27.\/components\/DemoVuexState.vue\x27)\n      }\n    ]\n  }\n]\n\nexport default routes\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e routes = [\n  {\n    \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27Home\x27\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3epath\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27\/\x27\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3emeta\x3c\/span\x3e: {\n      \x3cspan class=\x22hljs-attr\x22\x3etitle\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27home\x27\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 主页的title为home\x3c\/span\x3e\n    },\n    \x3cspan class=\x22hljs-attr\x22\x3ecomponent\x3c\/span\x3e: \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27.\/components\/Home.vue\x27\x3c\/span\x3e)\n  },\n  {\n    \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27Article\x27\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3epath\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27\/article\x27\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3emeta\x3c\/span\x3e: {\n      \x3cspan class=\x22hljs-attr\x22\x3etitle\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27article\x27\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 文章模块相应的title为article\x3c\/span\x3e\n    },\n    \x3cspan class=\x22hljs-attr\x22\x3ecomponent\x3c\/span\x3e: \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27.\/components\/Article.vue\x27\x3c\/span\x3e),\n    \x3cspan class=\x22hljs-attr\x22\x3echildren\x3c\/span\x3e: [\n      {\n        \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27vue2_1\x27\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3epath\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27\/article\/vue2_1\x27\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3emeta\x3c\/span\x3e: {\n          \x3cspan class=\x22hljs-attr\x22\x3etitle\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27vue2.0一起在懵逼的海洋里越陷越深（一）\x27\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 子路由也是一样的道理\x3c\/span\x3e\n        },\n        \x3cspan class=\x22hljs-attr\x22\x3ecomponent\x3c\/span\x3e: \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27.\/md\/articles\/vue2-1.md\x27\x3c\/span\x3e)\n      },\n      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ ... 子路由和父路由都差不多，所以后面的就省略了\x3c\/span\x3e\n    ]\n  },\n  {\n    \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27Demo\x27\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3epath\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27\/demo\x27\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3emeta\x3c\/span\x3e: {\n      \x3cspan class=\x22hljs-attr\x22\x3etitle\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27demo\x27\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 演示模块title为demo\x3c\/span\x3e\n    },\n    \x3cspan class=\x22hljs-attr\x22\x3ecomponent\x3c\/span\x3e: \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27.\/components\/Demo.vue\x27\x3c\/span\x3e),\n    \x3cspan class=\x22hljs-attr\x22\x3echildren\x3c\/span\x3e: [\n      {\n        \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27DemoVuexState\x27\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3epath\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27vuex_state\x27\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3emeta\x3c\/span\x3e: {\n          \x3cspan class=\x22hljs-attr\x22\x3etitle\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27vuex演示\x27\x3c\/span\x3e\n        },\n        \x3cspan class=\x22hljs-attr\x22\x3ecomponent\x3c\/span\x3e: \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27.\/components\/DemoVuexState.vue\x27\x3c\/span\x3e)\n      }\n    ]\n  }\n]\n\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e routes\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e如此这般，各个页面的\x3ccode\x3etitle\x3c\/code\x3e就预设好了\x3c\/p\x3e\n\x3cp\x3e小明：”为什么\x3ccode\x3etitle\x3c\/code\x3e里不加上站点名后缀？像\x3ccode\x3edemo - leenty blog\x3c\/code\x3e这样？“\x3cbr\x3e老师：“滚出去！”\x3c\/p\x3e\n\x3cp\x3e其实是这样的，后缀如果一个个加也是可以的，但为什么不用语句帮我们加上去呢？\x3cbr\x3e这样就一劳永逸啦，再也不用自己一个个打后缀了，哈哈哈，真TM机智！\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000007858598?w=161\x26amp;h=155\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000007858598?w=161\x26amp;h=155\x22 alt=\x22mdzz\x22 title=\x22mdzz\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch4\x3e路由导航钩子介绍\x3c\/h4\x3e\n\x3cp\x3e讲一讲这个所谓的全局导航钩子，听起来玄不愣登的。。。\x3c\/p\x3e\n\x3cp\x3e导航是发生在路由改变时的事件，这也是为何网页的导航条叫导航条的原因\x3cbr\x3e尤大大的原话是：“正如其名，vue-router 提供的导航钩子主要用来拦截导航，让它完成跳转或取消。有多种方式可以在路由导航发生时执行钩子：全局的, 单个路由独享的, 或者组件级的”\x3cbr\x3e说的很明白，言简意赅，其实就是能让你控制导航的一个方法而已\x3cbr\x3e导航钩子分为全局，单个路由独享和组件级别的。\x3cbr\x3e但不论如何，导航钩子都接受一个函数为参数，并会在导航过程中调用这个函数。\x3cbr\x3e函数会被传入3个参数，分别为\x3ccode\x3eto, from, next\x3c\/code\x3e\x3cbr\x3e没错，你看字面意思应该理解了个大概，即：\x3cbr\x3e\x3ccode\x3efrom\x3c\/code\x3e：你从哪里来？(问询消息的小弟A)\x3cbr\x3e\x3ccode\x3eto\x3c\/code\x3e：要到哪里去？(问询消息的小弟B)\x3cbr\x3e\x3ccode\x3enext\x3c\/code\x3e：让不让过去还得看老子我的！(大哥你懂不)\x3c\/p\x3e\n\x3cp\x3e上面这位大哥(\x3ccode\x3enext\x3c\/code\x3e)会有三种方法！\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22next() \/\/ 默认通过路由\nnext(false) \/\/ 中止导航，那么将会跳回到from的地址\nnext({ path: \x27\/\x27 }) \/\/ 跟一个路由参数对象，将会中止当前导航并跳往指向的路由\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3enext() \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 默认通过路由\x3c\/span\x3e\nnext(\x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 中止导航，那么将会跳回到from的地址\x3c\/span\x3e\nnext({ \x3cspan class=\x22hljs-attr\x22\x3epath\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27\/\x27\x3c\/span\x3e }) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 跟一个路由参数对象，将会中止当前导航并跳往指向的路由\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e好的，先看看全局的写法\x3cbr\x3e\x3cstrong\x3e全局导航钩子\x3c\/strong\x3e 一共两个，\x3ccode\x3erouter.beforeEach\x3c\/code\x3e和\x3ccode\x3erouter.afterEach\x3c\/code\x3e\x3cbr\x3e一个触发于导航开始前，一个触发于导航开始后。用法呢，都是一样的，如下！\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const router = new VueRouter({ ... })\n\nrouter.beforeEach((to, from, next) =\x3e {\n  console.log(\x27小弟B：哎呀妈呀！大兄弟，这是要去哪呀？\x27, to)\n  console.log(\x27小弟A：大兄弟，哪儿旮沓的呀！\x27, from)\n  next(false) \/\/ 大哥：谁让你过去的？\n  \/\/ 调用next(false)中止导航，于是页面回到跳转前\n})\n\nrouter.afterEach((to, from, next) =\x3e {\n  console.log(\x27小弟B：哎呀妈呀！大兄弟，这是要去哪呀？\x27, to)\n  console.log(\x27小弟A：大兄弟，哪儿旮沓的呀！\x27, from)\n  next() \/\/ 大哥：过去吧！\n  \/\/ 调用next通过路由\n})\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e router = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e VueRouter({ ... })\n\nrouter.beforeEach(\x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3eto, \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e, next\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27小弟B：哎呀妈呀！大兄弟，这是要去哪呀？\x27\x3c\/span\x3e, to)\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27小弟A：大兄弟，哪儿旮沓的呀！\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e)\n  next(\x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 大哥：谁让你过去的？\x3c\/span\x3e\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 调用next(false)中止导航，于是页面回到跳转前\x3c\/span\x3e\n})\n\nrouter.afterEach(\x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3eto, \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e, next\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27小弟B：哎呀妈呀！大兄弟，这是要去哪呀？\x27\x3c\/span\x3e, to)\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27小弟A：大兄弟，哪儿旮沓的呀！\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e)\n  next() \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 大哥：过去吧！\x3c\/span\x3e\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 调用next通过路由\x3c\/span\x3e\n})\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cstrong\x3e单个路由独享的钩子\x3c\/strong\x3e ，同样是两个方法\x3ccode\x3ebeforeEnter\x3c\/code\x3e和\x3ccode\x3eafterEnter\x3c\/code\x3e，同样的套路。\x3cbr\x3e套路如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const router = new VueRouter({\n  routes: [\n    {\n      path: \x27\/demo\x27,\n      component: Demo,\n      beforeEnter: (to, from, next) =\x3e {\n        console.log(\x27小弟B：哎呀妈呀！大兄弟，这是要去哪呀？\x27, to)\n        console.log(\x27小弟A：大兄弟，哪儿旮沓的呀！\x27, from)\n        next() \/\/ 大哥：过去吧！\n        \/\/ 调用next通过路由\n      },\n      afterEnter: (to, from, next) =\x3e {\n        console.log(\x27小弟B：哎呀妈呀！大兄弟，这是要去哪呀？\x27, to)\n        console.log(\x27小弟A：大兄弟，哪儿旮沓的呀！\x27, from)\n        next({ path: \x27\/\x27 }) \/\/ 大哥：像那边走！\n        \/\/ 调用next({ path: \x27\/\x27 })中止导航，并跳到首页\n      }\n    }\n  ]\n})\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e router = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e VueRouter({\n  \x3cspan class=\x22hljs-attr\x22\x3eroutes\x3c\/span\x3e: [\n    {\n      \x3cspan class=\x22hljs-attr\x22\x3epath\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27\/demo\x27\x3c\/span\x3e,\n      \x3cspan class=\x22hljs-attr\x22\x3ecomponent\x3c\/span\x3e: Demo,\n      \x3cspan class=\x22hljs-attr\x22\x3ebeforeEnter\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3eto, \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e, next\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27小弟B：哎呀妈呀！大兄弟，这是要去哪呀？\x27\x3c\/span\x3e, to)\n        \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27小弟A：大兄弟，哪儿旮沓的呀！\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e)\n        next() \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 大哥：过去吧！\x3c\/span\x3e\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 调用next通过路由\x3c\/span\x3e\n      },\n      \x3cspan class=\x22hljs-attr\x22\x3eafterEnter\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3eto, \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e, next\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27小弟B：哎呀妈呀！大兄弟，这是要去哪呀？\x27\x3c\/span\x3e, to)\n        \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27小弟A：大兄弟，哪儿旮沓的呀！\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e)\n        next({ \x3cspan class=\x22hljs-attr\x22\x3epath\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27\/\x27\x3c\/span\x3e }) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 大哥：像那边走！\x3c\/span\x3e\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 调用next({ path: \x27\/\x27 })中止导航，并跳到首页\x3c\/span\x3e\n      }\n    }\n  ]\n})\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cstrong\x3e组件内的钩子\x3c\/strong\x3e，依然是一对基友方法\x3ccode\x3ebeforeRouteEnter\x3c\/code\x3e和\x3ccode\x3ebeforeRouteLeave\x3c\/code\x3e\x3cbr\x3e套路还是一样的0.0\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const Demo = {\n  template: `\x3cdiv\x3ethis is a Demo \x3c\/div\x3e`,\n  beforeRouteEnter (to, from, next) {\n    console.log(\x27小弟B：哎呀妈呀！大兄弟，这是要去哪呀？\x27, to)\n    console.log(\x27小弟A：大兄弟，哪儿旮沓的呀！\x27, from)\n    next() \/\/ 大哥：过去吧！\n    \/\/ 在渲染该组件的对应路由被 confirm 前调用\n    \/\/ 不！能！获取组件实例 `this`\n    \/\/ 因为当钩子执行前，组件实例还没被创建\n  },\n  beforeRouteLeave (to, from, next) {\n    console.log(\x27小弟B：哎呀妈呀！大兄弟，这是要去哪呀？\x27, to)\n    console.log(\x27小弟A：大兄弟，哪儿旮沓的呀！\x27, from)\n    next() \/\/ 大哥：过去吧！\n    \/\/ 导航离开该组件的对应路由时调用\n    \/\/ 可以访问组件实例 `this`\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e Demo = {\n  \x3cspan class=\x22hljs-attr\x22\x3etemplate\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e`\x26lt;div\x26gt;this is a Demo \x26lt;\/div\x26gt;`\x3c\/span\x3e,\n  beforeRouteEnter (to, \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e, next) {\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27小弟B：哎呀妈呀！大兄弟，这是要去哪呀？\x27\x3c\/span\x3e, to)\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27小弟A：大兄弟，哪儿旮沓的呀！\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e)\n    next() \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 大哥：过去吧！\x3c\/span\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 在渲染该组件的对应路由被 confirm 前调用\x3c\/span\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 不！能！获取组件实例 `this`\x3c\/span\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 因为当钩子执行前，组件实例还没被创建\x3c\/span\x3e\n  },\n  beforeRouteLeave (to, \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e, next) {\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27小弟B：哎呀妈呀！大兄弟，这是要去哪呀？\x27\x3c\/span\x3e, to)\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27小弟A：大兄弟，哪儿旮沓的呀！\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e)\n    next() \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 大哥：过去吧！\x3c\/span\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 导航离开该组件的对应路由时调用\x3c\/span\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 可以访问组件实例 `this`\x3c\/span\x3e\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch4\x3e配合路由全局导航钩子去更新\x3ccode\x3etitle\x3c\/code\x3e\n\x3c\/h4\x3e\n\x3cp\x3e好的，三种都介绍完了，那么打开\x3ccode\x3esrc\/router.js\x3c\/code\x3e，没错，这回是\x3ccode\x3erouter.js\x3c\/code\x3e，这是咱装载路由的文件\x3c\/p\x3e\n\x3cp\x3e在此之前，我们还需要知道在一个嵌套路由情况下的节点分布。\x3cbr\x3e三个参数之一的\x3ccode\x3eto\x3c\/code\x3e存在属性\x3ccode\x3eto.matched\x3c\/code\x3e,里面存在了一个包含路由节点的数组\x3cbr\x3e顺序是从子路由到根路由\x3c\/p\x3e\n\x3cp\x3e好的，确定下title文案\x3c\/p\x3e\n\x3ctable\x3e\n\x3cthead\x3e\x3ctr\x3e\n\x3cth align=\x22left\x22\x3erouter\x3c\/th\x3e\n\x3cth align=\x22center\x22\x3etitle\x3c\/th\x3e\n\x3c\/tr\x3e\x3c\/thead\x3e\n\x3ctbody\x3e\n\x3ctr\x3e\n\x3ctd align=\x22left\x22\x3e\x3ccode\x3e├── home         \x3c\/code\x3e\x3c\/td\x3e\n\x3ctd align=\x22center\x22\x3eleenty blog\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd align=\x22left\x22\x3e\x3ccode\x3e├── article      \x3c\/code\x3e\x3c\/td\x3e\n\x3ctd align=\x22center\x22\x3earticle - leenty blog\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd align=\x22left\x22\x3e\x3ccode\x3e│   ├── vue2-1   \x3c\/code\x3e\x3c\/td\x3e\n\x3ctd align=\x22center\x22\x3evue2.0一起在懵逼的海洋里越陷越深（一） - article - leenty blog\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd align=\x22left\x22\x3e\x3ccode\x3e│   ├── ...      \x3c\/code\x3e\x3c\/td\x3e\n\x3ctd align=\x22center\x22\x3e... - article - leenty blog\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd align=\x22left\x22\x3e\x3ccode\x3e│   └── vue2-6   \x3c\/code\x3e\x3c\/td\x3e\n\x3ctd align=\x22center\x22\x3evue2.0一起在懵逼的海洋里越陷越深（六） - article - leenty blog\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd align=\x22left\x22\x3e\x3ccode\x3e└── demo         \x3c\/code\x3e\x3c\/td\x3e\n\x3ctd align=\x22center\x22\x3edemo - leenty blog\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd align=\x22left\x22\x3e\x3ccode\x3e    └── demo-1   \x3c\/code\x3e\x3c\/td\x3e\n\x3ctd align=\x22center\x22\x3e具体演示1 - demo - leenty blog\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3c\/tbody\x3e\n\x3c\/table\x3e\n\x3cp\x3e里面的结构是这样的\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import Vue from \x27vue\x27\nimport VueRouter from \x27vue-router\x27\nimport routes from \x27.\/routes\x27\n\nconst title = \x27leenty blog\x27\n\/\/ 定义我们站点的名字\n\nVue.use(VueRouter)\n\n\/* eslint-disable no-new *\/\nconst router = new VueRouter({\n  mode: \x27history\x27,\n  linkActiveClass: \x27u-link--Active\x27,\n  routes\n})\n\n\/\/ 路由导航钩子，beforeEach，在路由进入前调用\nrouter.beforeEach((to, from, next) =\x3e {\n  let titleStr = \x27\x27\n  \/\/ 检测是不是要跳转首页，如果是，则不处理\n  if (to.name !== \x27Home\x27) {\n    \/\/ 倒序遍历数组获取匹配到的路由节点，拼接各部分title\n    for (let i = to.matched.length - 1; i \x3e= 0; i--) {\n      titleStr \x2b= `${to.matched[i].meta.title} - `\n    }\n  }\n  \/\/ 添加站点名\n  titleStr \x2b= title\n  \/\/ 更新title\n  document.title = titleStr\n  \/\/ 继续路由导航\n  next()\n})\n\nexport default router\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e Vue \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27vue\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e VueRouter \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27vue-router\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e routes \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/routes\x27\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e title = \x3cspan class=\x22hljs-string\x22\x3e\x27leenty blog\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 定义我们站点的名字\x3c\/span\x3e\n\nVue.use(VueRouter)\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/* eslint-disable no-new *\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e router = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e VueRouter({\n  \x3cspan class=\x22hljs-attr\x22\x3emode\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27history\x27\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-attr\x22\x3elinkActiveClass\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27u-link--Active\x27\x3c\/span\x3e,\n  routes\n})\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 路由导航钩子，beforeEach，在路由进入前调用\x3c\/span\x3e\nrouter.beforeEach(\x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3eto, \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e, next\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e titleStr = \x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 检测是不是要跳转首页，如果是，则不处理\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (to.name !== \x3cspan class=\x22hljs-string\x22\x3e\x27Home\x27\x3c\/span\x3e) {\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 倒序遍历数组获取匹配到的路由节点，拼接各部分title\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e i = to.matched.length - \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e; i \x26gt;= \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; i--) {\n      titleStr \x2b= \x3cspan class=\x22hljs-string\x22\x3e`\x3cspan class=\x22hljs-subst\x22\x3e${to.matched[i].meta.title}\x3c\/span\x3e - `\x3c\/span\x3e\n    }\n  }\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 添加站点名\x3c\/span\x3e\n  titleStr \x2b= title\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 更新title\x3c\/span\x3e\n  \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.title = titleStr\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 继续路由导航\x3c\/span\x3e\n  next()\n})\n\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e router\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3eok，打完收工！现在可以切换路由看看\x3ccode\x3etitle\x3c\/code\x3e有没有在变化了。\x3cbr\x3e可以看我的Demo\x3ca href=\x22http:\/\/vue2.leenty.com\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/vue2.leenty.com\x3c\/a\x3e，四处切换路由，看看标题如何变化吧！\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader2\x22\x3e其他\x3c\/h3\x3e\n\x3cp\x3e\x3ca href=\x22http:\/\/vue2.leenty.com\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e演示地址(http:\/\/vue2.leenty.com)\x3c\/a\x3e\x3cbr\x3e\x3ca href=\x22https:\/\/github.com\/leenty\/vue2\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e源码地址(https:\/\/github.com\/leenty\/vue2)\x3c\/a\x3e\x3cbr\x3e\x3ca href=\x22https:\/\/github.com\/leenty\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3egithub主页\x3c\/a\x3e,觉得靠谱的话欢迎加星跟随\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>vue2.0一起在懵逼的海洋里越陷越深（六）</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000007858594">https://segmentfault.com/a/1190000007858594</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/oqucywm06kh/" target="_blank">https://alili.tech/archive/oqucywm06kh/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5x6tenwjeux/">ES6中的异步编程：Generators函数&#43;Promise:最强大的异步处理方式<aside class="dates">2019-01-31</aside></a></li><li><a href="/archive/nvtmua2a1hd/">GreenSock (TweenMax) 极简入门指南<aside class="dates">2019-01-31</aside></a></li><li><a href="/archive/7kt5s47oysx/">HTML5 中 canvas 的使用总结<aside class="dates">2019-01-31</aside></a></li><li><a href="/archive/41pgo3a2iyp/">JavaScript 开发者所需要知道的 V8（一）：V8 In NodeJS<aside class="dates">2019-01-31</aside></a></li><li><a href="/archive/krb1zm7x38j/">JavaScript 时间与日期处理实战:你肯定被坑过<aside class="dates">2019-01-31</aside></a></li><li><a href="/archive/yh2lq30d0x/">JavaScript中的各种宽高属性<aside class="dates">2019-01-31</aside></a></li><li><a href="/archive/eydwczesyv/">Muse UI — 基于 Vue2.0 的 Material Design UI 库<aside class="dates">2019-01-31</aside></a></li><li><a href="/archive/y62oejm8cr/">Nodejs基础：路径处理模块path总结<aside class="dates">2019-01-31</aside></a></li><li><a href="/archive/06cwh88ankmd/">PhantomJS &amp; NodeJS 在京东网站前端监控平台的最佳实践<aside class="dates">2019-01-31</aside></a></li><li><a href="/archive/z4ymvs0jz2h/">Promise 的链式调用与中止<aside class="dates">2019-01-31</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>