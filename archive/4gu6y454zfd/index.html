<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="从 JavaScript 到 TypeScript - 模块化和构建"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>从 JavaScript 到 TypeScript - 模块化和构建 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/4gu6y454zfd/",
				"appid": "1613049289050283", 
				"title": "从 JavaScript 到 TypeScript - 模块化和构建 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-17T02:30:25"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/emo34mxsncp/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/3ozv27u7xi/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2f4gu6y454zfd%2f&text=%e4%bb%8e%20JavaScript%20%e5%88%b0%20TypeScript%20-%20%e6%a8%a1%e5%9d%97%e5%8c%96%e5%92%8c%e6%9e%84%e5%bb%ba"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2f4gu6y454zfd%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2f4gu6y454zfd%2f&text=%e4%bb%8e%20JavaScript%20%e5%88%b0%20TypeScript%20-%20%e6%a8%a1%e5%9d%97%e5%8c%96%e5%92%8c%e6%9e%84%e5%bb%ba"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2f4gu6y454zfd%2f&title=%e4%bb%8e%20JavaScript%20%e5%88%b0%20TypeScript%20-%20%e6%a8%a1%e5%9d%97%e5%8c%96%e5%92%8c%e6%9e%84%e5%bb%ba"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2f4gu6y454zfd%2f&is_video=false&description=%e4%bb%8e%20JavaScript%20%e5%88%b0%20TypeScript%20-%20%e6%a8%a1%e5%9d%97%e5%8c%96%e5%92%8c%e6%9e%84%e5%bb%ba"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e4%bb%8e%20JavaScript%20%e5%88%b0%20TypeScript%20-%20%e6%a8%a1%e5%9d%97%e5%8c%96%e5%92%8c%e6%9e%84%e5%bb%ba&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2f4gu6y454zfd%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2f4gu6y454zfd%2f&title=%e4%bb%8e%20JavaScript%20%e5%88%b0%20TypeScript%20-%20%e6%a8%a1%e5%9d%97%e5%8c%96%e5%92%8c%e6%9e%84%e5%bb%ba"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f4gu6y454zfd%2f&title=%e4%bb%8e%20JavaScript%20%e5%88%b0%20TypeScript%20-%20%e6%a8%a1%e5%9d%97%e5%8c%96%e5%92%8c%e6%9e%84%e5%bb%ba"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f4gu6y454zfd%2f&title=%e4%bb%8e%20JavaScript%20%e5%88%b0%20TypeScript%20-%20%e6%a8%a1%e5%9d%97%e5%8c%96%e5%92%8c%e6%9e%84%e5%bb%ba"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f4gu6y454zfd%2f&title=%e4%bb%8e%20JavaScript%20%e5%88%b0%20TypeScript%20-%20%e6%a8%a1%e5%9d%97%e5%8c%96%e5%92%8c%e6%9e%84%e5%bb%ba"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">从 JavaScript 到 TypeScript - 模块化和构建</h1><div class="meta"><div class="postdate"><time datetime="2019-01-17" itemprop="datePublished">2019-01-17</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3eTypeScript 带来的最大好处就是静态类型检查，所以在从 JavaScript 转向 TypeScript 之前，一定要认识到添加类型定义会带来额外的工作量，这是必要的代价。不过，相对于静态类型检查带来的好处，这些代价是值得的。当然，TypeScript 允许不定义类型或者将所有类型定义为 \x3ccode\x3eany\x3c\/code\x3e，但如果这样做，TypeScript 带来的大部分静态检查功能都会失去作用，换言之，也就没必要使用 TypeScript 了。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3e模块化\x3c\/h2\x3e\n\x3cp\x3e在转换之前还要注意的一个问题就是模块化。早期的 JavaScript 代码基本上是每个 HTML 页面对应一个或几个 JavaScript 脚本，那时候的 JavaScript 代码中很少有模块化的概念。不过随着 Web 2.0 的兴起，大量的工作从后端移到前端，JavaScript 程序变得越来越复杂，模块化成为刚需，大量的模块化框架随之而来，其中比较有名的有 RequestJS 及其带来的 AMD 标准，还有 SeaJS 带来的 CMD 标准。而随着 Node.js 的兴起以及 JavaScript 的全栈化，又有了 CommonJS 标准。之后又出现了广为使用的 SystemJS。当然少不了 ES6 的模块化标准，虽然到目前为止 Node.js 和大部分浏览器都还不支持它。\x3c\/p\x3e\n\x3cp\x3eTypeScript 本身支持两种模块化方式，一种是对 ES6 的模块的微小扩展，另一种是在 ES6 发布之前本身模仿 C# 的命名空间。大部分使用命令空间的场景都可以使用 ES6 模块化标准来代替。我们先来看一看两种模块化方式区别。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader1\x22\x3e命名空间\x3c\/h3\x3e\n\x3cp\x3e使用命令空间写的 TS 脚本在转译成 JS 后，可以不使用任何模块加载框架，直接在页面中加载即可使用。不过很遗憾，这种方式转义出来的 JS 程序不能直接在 Node.js 中使用。因为 \x3ccode\x3etsc\x3c\/code\x3e 不为会命名空间形式的模块生成 \x3ccode\x3emodules.exports\x3c\/code\x3e 对象以及 \x3ccode\x3erequire\x3c\/code\x3e 语句。\x3c\/p\x3e\n\x3cblockquote\x3e\x3cp\x3e有一种情况例外。将所有 \x3ccode\x3e.ts\x3c\/code\x3e 文件转译成一个 \x3ccode\x3e.js\x3c\/code\x3e，假设叫 \x3ccode\x3eall.js\x3c\/code\x3e，那么它可以通过 \x3ccode\x3enode all\x3c\/code\x3e 来运行。这种情况下不需要任何模块的导入导出。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e不过在浏览器环境中，严格的按照依赖顺序引入生成的 \x3ccode\x3e.js\x3c\/code\x3e 文件是可行的。早期没有使用模块化的 JS 文件就可以使用“命名空间”形式的模块化写法，甚至可以将原来成百上千行的大型 JS 源文件，拆分成若干小的 TS 文件，再通过 \x3ccode\x3etsc --outfile\x3c\/code\x3e 输出单一 JS 文件来使用，这样既能实现模块化重构，又能不改变原有的 HTML(或其它动态页面文件)的代码。\x3c\/p\x3e\n\x3cp\x3e还有一点需要注意的是，在指定生成单一输出文件的情况下，TypeScript 不会通过代码逻辑去检查模块间的依赖关系。默认情况下它会按文件名的字母序逐个转译 \x3ccode\x3e.ts\x3c\/code\x3e 文件，除非源文件中通过 \x3ccode\x3e\/\/\/ \x26lt;reference path=\x22...\x22 \/\x26gt;\x3c\/code\x3e 明确指定了依赖项。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader2\x22\x3eES6 模块\x3c\/h3\x3e\n\x3cp\x3e在 TypeScript 使用 ES6 模块语法来实现模块化的情况下，\x3ccode\x3etsc\x3c\/code\x3e 允许通过 \x3ccode\x3emodule\x3c\/code\x3e 参数来指定生成的 \x3ccode\x3e.js\x3c\/code\x3e 会应用于何种模块化框架，默认的是 \x3ccode\x3ecommonjs\x3c\/code\x3e，其它比较常用的还有 \x3ccode\x3eamd\x3c\/code\x3e、\x3ccode\x3esystem\x3c\/code\x3e 等。\x3c\/p\x3e\n\x3cp\x3e显然，如果原来的 JS 程序使用了 AMD 框架，在转换成 TS 的时候，就可以使用 ES6 模块写法，并通过 \x3ccode\x3etsc --module amd\x3c\/code\x3e 来输出对应的 JS 文件，同样不需要修改原来的页面文件。\x3c\/p\x3e\n\x3cp\x3e但是，如果原来的 JS 文件没有使用任何模块框架的情况下，转换为采用 ES6 模块写法的 TS 代码，在构建的时候就会麻烦一点。这种情况下即使构建成单一输出文件，仍然会需要模块化框架的支持，比如需要 AMD 的 \x3ccode\x3edefine\x3c\/code\x3e 和 \x3ccode\x3erequire\x3c\/code\x3e，或者需要 System 的 API 支持。\x3c\/p\x3e\n\x3cp\x3e为了避免引入模块化框架，可以考虑以 commonjs 标准输出 JS，然后通过 Webpack 来把所有生成的 JS 打包成单一文件。这里既然用到了 Webpack，构建配置就可以更灵活了，因为 Webpack 可以指定多个 \x3ccode\x3eentry\x3c\/code\x3e，可以有多个输出，它会通过 \x3ccode\x3eimport ...\x3c\/code\x3e 转译成的 \x3ccode\x3erequire(...)\x3c\/code\x3e 自动检查依赖项。而且 Webpack 还可以使用 \x3ccode\x3ets-loader\x3c\/code\x3e 直接处理 \x3ccode\x3e.ts\x3c\/code\x3e 文件而不需要先使用 \x3ccode\x3etsc\x3c\/code\x3e 来进行转译。如果在 TS 中用到了高版本 ECMAScript 语法，比如 \x3ccode\x3easync\/await\x3c\/code\x3e，还可以通过 \x3ccode\x3ebabel-loader\x3c\/code\x3e 来增加一层处理……非常灵活。\x3c\/p\x3e\n\x3cp\x3e但这里往往会有一个问题，生成的 \x3ccode\x3e.js\x3c\/code\x3e 中所有定义都不在全局范围，那么脚本引入网页之后，如何使用其中定义的内容？这需要借助全局对象 \x3ccode\x3ewindow\x3c\/code\x3e——这里不需要考虑 Node.js 的全局对象 \x3ccode\x3eglobal\x3c\/code\x3e，因为在 \x3ccode\x3eNode.js\x3c\/code\x3e 下一般是采用模块化的方式引入，不需要向全局对象注入什么东西。\x3c\/p\x3e\n\x3cp\x3e向 \x3ccode\x3ewindow\x3c\/code\x3e 注入对象(或函数、值等)的方法也很简单，分两步：申明、赋值，比如：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import MyApi from \x26quot;.\/myapi\x26quot;;\n\ndeclare global {\n    interface Window {\n        mime: MyApi;\n    }\n}\n\nwindow.mime = new MyApi();\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22typescript hljs\x22\x3e\x3ccode class=\x22ts\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e MyApi \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22.\/myapi\x22\x3c\/span\x3e;\n\n\x3cspan class=\x22hljs-keyword\x22\x3edeclare\x3c\/span\x3e global {\n    \x3cspan class=\x22hljs-keyword\x22\x3einterface\x3c\/span\x3e Window {\n        mime: MyApi;\n    }\n}\n\n\x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.mime = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e MyApi();\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader3\x22\x3e常用的构建配置\x3c\/h2\x3e\n\x3cp\x3e我们早期项目中使用 TypeScript 的命名空间，不过最近几乎都重构成 ES6 模块方式了。由于会用到 async 函数，所以一般会配置 TypeScript 输出 ES2017 代码，再通过 Babel 转译成 ES5 代码，最后由 Webpack 打包输出。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader4\x22\x3etsconfig.json\x3c\/h3\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22{\n    \x26quot;compilerOptions\x26quot;: {\n        \x26quot;module\x26quot;: \x26quot;commonjs\x26quot;,\n        \x26quot;target\x26quot;: \x26quot;es2017\x26quot;,\n        \x26quot;lib\x26quot;: [\n            \x26quot;dom\x26quot;,\n            \x26quot;es6\x26quot;,\n            \x26quot;dom.iterable\x26quot;,\n            \x26quot;scripthost\x26quot;,\n            \x26quot;es2017\x26quot;\n        ],\n        \x26quot;noImplicitAny\x26quot;: false,\n        \x26quot;sourceMap\x26quot;: false\n    }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22json hljs\x22\x3e\x3ccode class=\x22json\x22\x3e{\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22compilerOptions\x22\x3c\/span\x3e: {\n        \x3cspan class=\x22hljs-attr\x22\x3e\x22module\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22commonjs\x22\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3e\x22target\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22es2017\x22\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3e\x22lib\x22\x3c\/span\x3e: [\n            \x3cspan class=\x22hljs-string\x22\x3e\x22dom\x22\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-string\x22\x3e\x22es6\x22\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-string\x22\x3e\x22dom.iterable\x22\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-string\x22\x3e\x22scripthost\x22\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-string\x22\x3e\x22es2017\x22\x3c\/span\x3e\n        ],\n        \x3cspan class=\x22hljs-attr\x22\x3e\x22noImplicitAny\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3e\x22sourceMap\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e\n    }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在 \x3ccode\x3etarget\x3c\/code\x3e 为 \x3ccode\x3ees5\x3c\/code\x3e 或 \x3ccode\x3ees6\x3c\/code\x3e 的时候，TypeScript 会有默认的 \x3ccode\x3elib\x3c\/code\x3e 列表，这在\x3ca href=\x22http:\/\/www.typescriptlang.org\/docs\/handbook\/compiler-options.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e官方文档\x3c\/a\x3e中有详细说明。\x3ccode\x3etarget\x3c\/code\x3e 定义为 \x3ccode\x3ees2017\x3c\/code\x3e 是为了支持 async 函数，但这个配置没有默认 \x3ccode\x3elib\x3c\/code\x3e 列表，所以参考官方文档对 \x3ccode\x3e--target es6\x3c\/code\x3e 使用的 \x3ccode\x3elib\x3c\/code\x3e 列表，补充 \x3ccode\x3ees2017\x3c\/code\x3e 类型库即可。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader5\x22\x3ewebpack.config.js\x3c\/h3\x3e\n\x3cp\x3e这里使用了 Webpack2 的配置格式。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22module.exports = {\n    entry: {\n        index: \x26quot;.\/js\/index\x26quot;\n    },\n    output: {\n        filename: \x26quot;[name].js\x26quot;\n    },\n    devtool: \x26quot;source-map\x26quot;,\n    resolve: {\n        extensions: [\x26quot;.ts\x26quot;]\n    },\n    module: {\n        rules: [\n            {\n                test: \/\\.ts$\/,\n                use: [\n                    {\n                        loader: \x26quot;babel-loader\x26quot;,\n                        options: {\n                            presets: [\x26quot;es2015\x26quot;, \x26quot;stage-3\x26quot;]\n                        }\n                    },\n                    \x26quot;ts-loader\x26quot;\n                ],\n                exclude: \/node_modules\/\n            }\n        ]\n    }\n};\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.exports = {\n    \x3cspan class=\x22hljs-attr\x22\x3eentry\x3c\/span\x3e: {\n        \x3cspan class=\x22hljs-attr\x22\x3eindex\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22.\/js\/index\x22\x3c\/span\x3e\n    },\n    \x3cspan class=\x22hljs-attr\x22\x3eoutput\x3c\/span\x3e: {\n        \x3cspan class=\x22hljs-attr\x22\x3efilename\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22[name].js\x22\x3c\/span\x3e\n    },\n    \x3cspan class=\x22hljs-attr\x22\x3edevtool\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22source-map\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3eresolve\x3c\/span\x3e: {\n        \x3cspan class=\x22hljs-attr\x22\x3eextensions\x3c\/span\x3e: [\x3cspan class=\x22hljs-string\x22\x3e\x22.ts\x22\x3c\/span\x3e]\n    },\n    \x3cspan class=\x22hljs-attr\x22\x3emodule\x3c\/span\x3e: {\n        \x3cspan class=\x22hljs-attr\x22\x3erules\x3c\/span\x3e: [\n            {\n                \x3cspan class=\x22hljs-attr\x22\x3etest\x3c\/span\x3e: \x3cspan class=\x22hljs-regexp\x22\x3e\/\\.ts$\/\x3c\/span\x3e,\n                \x3cspan class=\x22hljs-attr\x22\x3euse\x3c\/span\x3e: [\n                    {\n                        \x3cspan class=\x22hljs-attr\x22\x3eloader\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22babel-loader\x22\x3c\/span\x3e,\n                        \x3cspan class=\x22hljs-attr\x22\x3eoptions\x3c\/span\x3e: {\n                            \x3cspan class=\x22hljs-attr\x22\x3epresets\x3c\/span\x3e: [\x3cspan class=\x22hljs-string\x22\x3e\x22es2015\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22stage-3\x22\x3c\/span\x3e]\n                        }\n                    },\n                    \x3cspan class=\x22hljs-string\x22\x3e\x22ts-loader\x22\x3c\/span\x3e\n                ],\n                \x3cspan class=\x22hljs-attr\x22\x3eexclude\x3c\/span\x3e: \x3cspan class=\x22hljs-regexp\x22\x3e\/node_modules\/\x3c\/span\x3e\n            }\n        ]\n    }\n};\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader6\x22\x3egulp task\x3c\/h3\x3e\n\x3cp\x3e如果还使用 gulp，任务是这样写的\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const gulp = require(\x26quot;gulp\x26quot;);\nconst gutil = require(\x26quot;gulp-util\x26quot;);\n\n\/\/ 转译JavaScript\ngulp.task(\x26quot;webpack\x26quot;, () =\x3e {\n    const webpack = require(\x26quot;webpack-stream\x26quot;);\n    const config = require(\x26quot;.\/webpack.config.js\x26quot;);\n    return gulp.src(\x26quot;.\/js\/**\/*.ts\x26quot;)\n        .pipe(webpack(config, require(\x26quot;webpack\x26quot;)))\n        .on(\x26quot;error\x26quot;, function(err) {\n            gutil.log(err);\n            this.emit(\x26quot;end\x26quot;);\n        })\n        .pipe(gulp.dest(\x26quot;..\/www\/js\x26quot;));\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e gulp = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x22gulp\x22\x3c\/span\x3e);\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e gutil = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x22gulp-util\x22\x3c\/span\x3e);\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 转译JavaScript\x3c\/span\x3e\ngulp.task(\x3cspan class=\x22hljs-string\x22\x3e\x22webpack\x22\x3c\/span\x3e, () =\x26gt; {\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e webpack = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x22webpack-stream\x22\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e config = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x22.\/webpack.config.js\x22\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e gulp.src(\x3cspan class=\x22hljs-string\x22\x3e\x22.\/js\/**\/*.ts\x22\x3c\/span\x3e)\n        .pipe(webpack(config, \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x22webpack\x22\x3c\/span\x3e)))\n        .on(\x3cspan class=\x22hljs-string\x22\x3e\x22error\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eerr\x3c\/span\x3e) \x3c\/span\x3e{\n            gutil.log(err);\n            \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.emit(\x3cspan class=\x22hljs-string\x22\x3e\x22end\x22\x3c\/span\x3e);\n        })\n        .pipe(gulp.dest(\x3cspan class=\x22hljs-string\x22\x3e\x22..\/www\/js\x22\x3c\/span\x3e));\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这里需要注意的是 webpack-stream 默认使用的是 webpack1，而我们的配置需要 webpack2，所以为它指定第二个参数，一个特定版本的 webpack 实例 (由 \x3ccode\x3erequire(\x22webpack\x22)\x3c\/code\x3e 导入的)。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader7\x22\x3e需要的 Node 模块\x3c\/h3\x3e\n\x3cp\x3e从上面的构建配置中不难总结出构建过程需要安装的 Node 模块，有这样一些\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/www.npmjs.com\/package\/gulp\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3egulp\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/www.npmjs.com\/package\/gulp-util\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3egulp-util\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/www.npmjs.com\/package\/webpack-stream\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ewebpack-stream\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/www.npmjs.com\/package\/webpack\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ewebpack\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/www.npmjs.com\/package\/ts-loader\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ets-loader\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/www.npmjs.com\/package\/typescript\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3etypescript\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/www.npmjs.com\/package\/babel-loader\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ebabel-loader\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/www.npmjs.com\/package\/babel-core\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ebabel-core\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/www.npmjs.com\/package\/babel-preset-es2015\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ebabel-preset-es2015\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/www.npmjs.com\/package\/babel-preset-stage-3\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ebabel-preset-stage-3\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch2 id=\x22articleHeader8\x22\x3e在 Node.js 环境直接运行 .ts\x3c\/h2\x3e\n\x3cp\x3e在 Node.js 中可以通过 \x3ca href=\x22https:\/\/www.npmjs.com\/package\/ts-node\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ets-node\x3c\/a\x3e 包来直接运行 TypeScript 代码。需要做的只是在入口代码文件(当然是个 \x3ccode\x3e.js\x3c\/code\x3e 代码)中添加一句\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22require(\x27ts-node\x27).register({ \/* options *\/ })\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27ts-node\x27\x3c\/span\x3e).register({ \x3cspan class=\x22hljs-comment\x22\x3e\/* options *\/\x3c\/span\x3e })\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e或者\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22require(\x27ts-node\/register\x27)\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27ts-node\/register\x27\x3c\/span\x3e)\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e因为 Node.js 7.6 开始已经直接支持 async 函数语法，所以即使用到了这个语法，也不用担心 ts-node 在内存的转译结果不能运行。\x3c\/p\x3e\n\x3cp\x3e入口文件仍然必须是 \x3ccode\x3e.js\x3c\/code\x3e 文件，这是个小小的遗憾，不过对于使用 Node.js 写构建脚本的用户来说，有两个好消息：gulp 和 webpack 都直接支持 \x3ccode\x3e.ts\x3c\/code\x3e 入口(或配置)文件。比如以 gulp 为例，可以定义 \x3ccode\x3egulpfile.ts\x3c\/code\x3e (注意扩展名是 \x3ccode\x3e.ts\x3c\/code\x3e) 如下\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import * as gulp from \x26quot;gulp\x26quot;;\n\ngulp.task(\x26quot;hello\x26quot;, () =\x3e {\n    console.log(\x26quot;hello gulp\x26quot;);\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22typescript hljs\x22\x3e\x3ccode class=\x22ts\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e * \x3cspan class=\x22hljs-keyword\x22\x3eas\x3c\/span\x3e gulp \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22gulp\x22\x3c\/span\x3e;\n\ngulp.task(\x3cspan class=\x22hljs-string\x22\x3e\x22hello\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x22hello gulp\x22\x3c\/span\x3e);\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e不过 gulp 也是通过 ts-node 模块来实现使用 TypeScript 的，而 ts-node 的功能依赖于 typescript，所以别忘了安装这两个模块。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader9\x22\x3e扩展阅读\x3c\/h2\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000009653948\x22\x3e从 JavaScript 到 TypeScript - 声明类型\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000010774159\x22 target=\x22_blank\x22\x3e从 JavaScript 到 TypeScript - 泛型\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000010979494\x22\x3e从 JavaScript 到 TypeScript - 接口\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3chr\x3e\n\x3cp\x3e关注作者的公众号“边城客栈” →\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22https:\/\/sfault-avatar.b0.upaiyun.com\/291\/548\/2915488432-59576fecc6382_huge256\x22 src=\x22https:\/\/static.alili.techhttps:\/\/sfault-avatar.b0.upaiyun.com\/291\/548\/2915488432-59576fecc6382_huge256\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>从 JavaScript 到 TypeScript - 模块化和构建</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000008996172">https://segmentfault.com/a/1190000008996172</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/4gu6y454zfd/" target="_blank">https://alili.tech/archive/4gu6y454zfd/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/t42iv2yle7e/">2016-我的前端之路:工具化与工程化<aside class="dates">2019-01-29</aside></a></li><li><a href="/archive/xlhryjzdso/">2016年总结--成长<aside class="dates">2019-01-29</aside></a></li><li><a href="/archive/4wvjfeus9ur/">2016年末总结，我的前端之路<aside class="dates">2019-01-29</aside></a></li><li><a href="/archive/w7062tmcw3/">3D 视差效果<aside class="dates">2019-01-29</aside></a></li><li><a href="/archive/5jt1iw1t77b/">AlloyTouch实战--60行代码搞定QQ看点资料卡<aside class="dates">2019-01-29</aside></a></li><li><a href="/archive/kquf0fxkw2j/">ES6，你不得不学！<aside class="dates">2019-01-29</aside></a></li><li><a href="/archive/r5b6g4133jh/">Emmet-前端开发神器<aside class="dates">2019-01-29</aside></a></li><li><a href="/archive/5dbaikv4emi/">FreeCodeCamp中级算法题答案<aside class="dates">2019-01-29</aside></a></li><li><a href="/archive/iuyeljg6lm/">JSONP是什么<aside class="dates">2019-01-29</aside></a></li><li><a href="/archive/23ftsgrtzzc/">JS中的观察者模式(发布订阅)<aside class="dates">2019-01-29</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>