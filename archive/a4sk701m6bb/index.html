<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="初探前端自动化神器 （Gulp）"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>初探前端自动化神器 （Gulp） | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/a4sk701m6bb/",
				"appid": "1613049289050283", 
				"title": "初探前端自动化神器 （Gulp） | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-02-03T02:30:40"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/i56wzh57lq/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/kkbpk4dlnab/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fa4sk701m6bb%2f&text=%e5%88%9d%e6%8e%a2%e5%89%8d%e7%ab%af%e8%87%aa%e5%8a%a8%e5%8c%96%e7%a5%9e%e5%99%a8%20%ef%bc%88Gulp%ef%bc%89"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fa4sk701m6bb%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fa4sk701m6bb%2f&text=%e5%88%9d%e6%8e%a2%e5%89%8d%e7%ab%af%e8%87%aa%e5%8a%a8%e5%8c%96%e7%a5%9e%e5%99%a8%20%ef%bc%88Gulp%ef%bc%89"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fa4sk701m6bb%2f&title=%e5%88%9d%e6%8e%a2%e5%89%8d%e7%ab%af%e8%87%aa%e5%8a%a8%e5%8c%96%e7%a5%9e%e5%99%a8%20%ef%bc%88Gulp%ef%bc%89"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fa4sk701m6bb%2f&is_video=false&description=%e5%88%9d%e6%8e%a2%e5%89%8d%e7%ab%af%e8%87%aa%e5%8a%a8%e5%8c%96%e7%a5%9e%e5%99%a8%20%ef%bc%88Gulp%ef%bc%89"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e5%88%9d%e6%8e%a2%e5%89%8d%e7%ab%af%e8%87%aa%e5%8a%a8%e5%8c%96%e7%a5%9e%e5%99%a8%20%ef%bc%88Gulp%ef%bc%89&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fa4sk701m6bb%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fa4sk701m6bb%2f&title=%e5%88%9d%e6%8e%a2%e5%89%8d%e7%ab%af%e8%87%aa%e5%8a%a8%e5%8c%96%e7%a5%9e%e5%99%a8%20%ef%bc%88Gulp%ef%bc%89"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fa4sk701m6bb%2f&title=%e5%88%9d%e6%8e%a2%e5%89%8d%e7%ab%af%e8%87%aa%e5%8a%a8%e5%8c%96%e7%a5%9e%e5%99%a8%20%ef%bc%88Gulp%ef%bc%89"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fa4sk701m6bb%2f&title=%e5%88%9d%e6%8e%a2%e5%89%8d%e7%ab%af%e8%87%aa%e5%8a%a8%e5%8c%96%e7%a5%9e%e5%99%a8%20%ef%bc%88Gulp%ef%bc%89"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fa4sk701m6bb%2f&title=%e5%88%9d%e6%8e%a2%e5%89%8d%e7%ab%af%e8%87%aa%e5%8a%a8%e5%8c%96%e7%a5%9e%e5%99%a8%20%ef%bc%88Gulp%ef%bc%89"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">初探前端自动化神器 （Gulp）</h1><div class="meta"><div class="postdate"><time datetime="2019-02-03" itemprop="datePublished">2019-02-03</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e如何对网站资源进行优化（比如编译预处理CSS，压缩JavaScript等），如何使用不同浏览器进行测试，是一个繁琐而费时的过程，我们往往把这个过程中的很多重复的任务通过一些前端工具来自动完成，来改进网站开发的过程。\x3c\/p\x3e\n\x3cp\x3e说起前端自动化工具，自然少不了 \x3ca href=\x22http:\/\/gruntjs.com\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eGrunt\x3c\/a\x3e。而 \x3ca href=\x22http:\/\/gulpjs.com\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eGulp\x3c\/a\x3e 的出现，则希望取其精华取而代之。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3eGulp 简介\x3c\/h2\x3e\n\x3cp\x3eGulp 是一个构建系统，开发者可以使用它在网站开发过程中自动执行常见任务。Gulp 是基于 Node.js 构建的，因此 Gulp 源文件和你用来定义任务的 Gulp 文件都被写进了JavaScript（或者CoffeeScript）里。前端开发工程师还可以用自己熟悉的语言来编写任务去 lint JavaScript 和 CSS、解析模板以及在文件变动时编译LESS 文件（当然这些只是一小部分例子）。\x3c\/p\x3e\n\x3cp\x3eGulp 的 Github 页面上有着如下介绍：\x3c\/p\x3e\n\x3cblockquote\x3e\n\x3cp\x3eAutomation - gulp is a toolkit that helps you automate painful or time-consuming tasks in your development workflow.\x3c\/p\x3e\n\x3cp\x3ePlatform-agnostic - Integrations are built into all major IDEs and people are using gulp with PHP, .NET, Node.js, Java, and other platforms.\x3c\/p\x3e\n\x3cp\x3eStrong Ecosystem - Use npm modules to do anything you want \x2b over 2000 curated plugins for streaming file transformations\x3c\/p\x3e\n\x3cp\x3eSimple - By providing only a minimal API surface, gulp is easy to learn and simple to use\x3c\/p\x3e\n\x3c\/blockquote\x3e\n\x3cp\x3e使用Gulp的优势就是利用流的方式进行文件的处理，通过管道将多个任务和操作连接起来，因此只有一次I\/O的过程，流程更清晰，更纯粹。Gulp去除了中间文件，只将最后的输出写入磁盘，整个过程因此变得更快。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3egulp 的安装\x3c\/h2\x3e\n\x3cp\x3e因为 gulp 是基于 Node.js 构建的，所以 gulp 一般是通过 npm 进行安装，如果 Mac 上没有安装 npm，我们可以通过 brew 进行 npm 的安装。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22sudo brew install npm\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs mipsasm\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3esudo \x3cspan class=\x22hljs-keyword\x22\x3ebrew \x3c\/span\x3e\x3cspan class=\x22hljs-keyword\x22\x3einstall \x3c\/span\x3enpm\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e安装完毕，我们在终端执行 \x3ccode\x3enpm -v\x3c\/code\x3e 可以查看版本号，如果正常显示，说明 npm 安装成功。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVCq5P\x22 src=\x22https:\/\/static.alili.tech\/img\/bVCq5P\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3enpm 镜像和代理设置及取消\x3c\/h2\x3e\n\x3cp\x3e由于我们是\x3cdel\x3e网络墙国\x3c\/del\x3e的原因，所以，我们官方的npm安装可能被墙或者慢。我们可以使用国内的一些镜像替换官方的。也可以增加一些代理加速跳转。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader3\x22\x3e替换官方镜像\x3c\/h3\x3e\n\x3cp\x3e原有官方地址：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22https:\/\/registry.npmjs.org\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs avrasm\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-symbol\x22\x3ehttps:\x3c\/span\x3e\/\/registry.npmjs\x3cspan class=\x22hljs-meta\x22\x3e.org\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e替换命令\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22npm config set registry https:\/\/registry.npm.taobao.org\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs tcl\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3enpm config \x3cspan class=\x22hljs-keyword\x22\x3eset\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eregistry\x3c\/span\x3e https:\/\/\x3cspan class=\x22hljs-keyword\x22\x3eregistry\x3c\/span\x3e.npm.taobao.org\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e如果要取消自定义镜像，只需将上述命令的镜像地址改回官方即可。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader4\x22\x3e设置代理\x3c\/h3\x3e\n\x3cp\x3e如果你的网络连接使用了代理服务器，为npm设置代理，输入\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22npm config set proxy http:\/\/172.16.10.7:80\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs actionscript\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3enpm config \x3cspan class=\x22hljs-keyword\x22\x3eset\x3c\/span\x3e proxy http:\x3cspan class=\x22hljs-comment\x22\x3e\/\/172.16.10.7:80\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e以及\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22npm config set http-proxy http:\/\/172.16.10.7:80\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs livecodeserver\x22\x3e\x3ccode\x3enpm config \x3cspan class=\x22hljs-built_in\x22\x3eset\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ehttp\x3c\/span\x3e-proxy \x3cspan class=\x22hljs-keyword\x22\x3ehttp\x3c\/span\x3e:\/\/\x3cspan class=\x22hljs-number\x22\x3e172.16\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e.10\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e.7\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e80\x3c\/span\x3e\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader5\x22\x3e取消代理\x3c\/h3\x3e\n\x3cp\x3e如果代理有误，可以通过以下命令取消\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22npm config delete proxy\nnpm config delete https-proxy\nnpm config delete http-proxy\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs arduino\x22\x3e\x3ccode\x3enpm \x3cspan class=\x22hljs-built_in\x22\x3econfig\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edelete\x3c\/span\x3e proxy\nnpm \x3cspan class=\x22hljs-built_in\x22\x3econfig\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edelete\x3c\/span\x3e https-proxy\nnpm \x3cspan class=\x22hljs-built_in\x22\x3econfig\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edelete\x3c\/span\x3e http-proxy\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader6\x22\x3e通过 VPN 进行安装\x3c\/h3\x3e\n\x3cp\x3e最终我们发现设置镜像和代理貌似没有作用，还不如开启 VPN 来的方便。(⊙﹏⊙)b\x3c\/p\x3e\n\x3cp\x3e还别说，开启 VPN 后，安装貌似顺畅很多。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e安装时，要注意，一定要有管理员权限，否则可能会出错。\x3c\/strong\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader7\x22\x3e通过 \x3ccode\x3ecnpm\x3c\/code\x3e 命令进行安装\x3c\/h3\x3e\n\x3cp\x3e在我们中国，要下载 npm 包非常慢，如果你没有 VPN ，那么不妨试试\x3ccode\x3ecnpm\x3c\/code\x3e，也许感觉就会爽很多啦。\x3c\/p\x3e\n\x3ch4\x3e安装 cnpm\x3c\/h4\x3e\n\x3cp\x3e最新消息和安装包可以参加 \x3ca href=\x22https:\/\/github.com\/cnpm\/cnpm\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ecnpm 的 github 页面\x3c\/a\x3e，或者其\x3ca href=\x22https:\/\/cnpmjs.org\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e官方网站\x3c\/a\x3e 。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22sudo npm install cnpm -g\n\n# 如果被墙的中国用户，可以试试如下命令，指定中国区镜像。\nsudo npm install cnpm -g --registry=https:\/\/registry.npm.taobao.org\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs coffeescript\x22\x3e\x3ccode\x3esudo \x3cspan class=\x22hljs-built_in\x22\x3enpm\x3c\/span\x3e install cnpm -g\n\n\x3cspan class=\x22hljs-comment\x22\x3e# 如果被墙的中国用户，可以试试如下命令，指定中国区镜像。\x3c\/span\x3e\nsudo \x3cspan class=\x22hljs-built_in\x22\x3enpm\x3c\/span\x3e install cnpm -g --registry=https:\x3cspan class=\x22hljs-regexp\x22\x3e\/\/\x3c\/span\x3eregistry.\x3cspan class=\x22hljs-built_in\x22\x3enpm\x3c\/span\x3e.taobao.org\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e安装完毕，就可以用 \x3ccode\x3ecnpm install\x3c\/code\x3e 命令安装插件啦。\x3c\/p\x3e\n\x3cp\x3e但是 cnpm 也有几个问题：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\x3cp\x3ecnpm 的仓库只是 npm 仓库的一个拷贝，其中需要（\x3ccode\x3enpm publish\x3c\/code\x3e）、注册用户(\x3ccode\x3enpm adduser\x3c\/code\x3e)、或者修改 package 状态等命令都无法用 \x3ccode\x3ecnpm\x3c\/code\x3e，要用回原生的 \x3ccode\x3enpm\x3c\/code\x3e 命令。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e有很多 npm 包都集成了 npm install，或者有些 npm API 会读取 ~\/.npmrc 中的 registry，此时仍会访问原生仓库，此时的访问速度和你是不是采用 \x3ccode\x3ecnpm\x3c\/code\x3e 是一样的。\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3ch4\x3e通过 \x3ccode\x3ecnpm\x3c\/code\x3e 安装插件\x3c\/h4\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22sudo cnpm sync [moduleName]\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs accesslog\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3esudo cnpm sync \x3cspan class=\x22hljs-string\x22\x3e[moduleName]\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cblockquote\x3e\x3cp\x3e\x3cstrong\x3e本文的所有操作在未开启 VPN 情况下，也没有方向网速问题，所以就不采用 \x3ccode\x3ecnpm\x3c\/code\x3e 了。当然，有网速问题的伙伴也可将下面的命令中 \x3ccode\x3enpm\x3c\/code\x3e 换成 \x3ccode\x3ecnpm\x3c\/code\x3e ，效果同。\x3c\/strong\x3e\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3ch3 id=\x22articleHeader8\x22\x3e通过 \x3ccode\x3enpm\x3c\/code\x3e 安装 \x3ccode\x3egulp\x3c\/code\x3e\n\x3c\/h3\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 安装 gulp 附属\nsudo npm install\n\n\/\/ 全局安装 gulp，这种模式安装后，gulp 可以应用到所有项目\nsudo npm install gulp -g\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs 1c\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 安装 gulp 附属\x3c\/span\x3e\nsudo npm install\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 全局安装 gulp，这种模式安装后，gulp 可以应用到所有项目\x3c\/span\x3e\nsudo npm install gulp -g\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader9\x22\x3e查看 gulp 版本\x3c\/h3\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22gulp -v\n\n[21:59:43] CLI version 3.9.1\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs css\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-selector-tag\x22\x3egulp\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3e-v\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-selector-attr\x22\x3e[21:59:43]\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3eCLI\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3eversion\x3c\/span\x3e 3\x3cspan class=\x22hljs-selector-class\x22\x3e.9\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.1\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader10\x22\x3egulp 在项目中的部署\x3c\/h2\x3e\n\x3cp\x3e我们先来练习一下 gulp 在项目中如何部署。这里建立一个你的项目目录，比如 test。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader11\x22\x3e初始化你的项目目录:\x3c\/h3\x3e\n\x3cp\x3e先\x3ccode\x3ecd\x3c\/code\x3e到项目的根目录，然后执行：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22$ npm init\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs coffeescript\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e$ \x3cspan class=\x22hljs-built_in\x22\x3enpm\x3c\/span\x3e init\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e执行过程中，会要你输入一些初始化变量，你也可以一路回车下去，等以后再修改。\x3cbr\x3e初始化完成后，当前目录下会多出一个\x3ccode\x3epackage.json\x3c\/code\x3e的文件，里面就是执行 init 时候的各种变量参数，用来保存项目信息。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader12\x22\x3e安装 gulp 为项目依赖\x3c\/h3\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22$ npm install --save-dev gulp\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs q\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e$ npm install --\x3cspan class=\x22hljs-built_in\x22\x3esave\x3c\/span\x3e-\x3cspan class=\x22hljs-built_in\x22\x3edev\x3c\/span\x3e gulp\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e初始化完成后，当前目录下会多出一个\x3ccode\x3enode_modules\x3c\/code\x3e的目录，gulp 依赖都在该目录里面。以后再用 npm 命令安装的 gulp 插件也会存放在这个目录。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader13\x22\x3e在你的项目根目录下建立\x3ccode\x3egulpfile.js\x3c\/code\x3e\n\x3c\/h3\x3e\n\x3cp\x3e初始内容如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 引入 gulp 模块\nvar gulp = require(\x27gulp\x27);\n\n\/\/ 默认任务\ngulp.task(\x27default\x27, function() {\n  \/\/ 所有默认任务的代码放在这里，比如我输出一个 hello, wold\n  console.log(\x27hello, world\x27);\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 引入 gulp 模块\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e gulp = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27gulp\x27\x3c\/span\x3e);\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 默认任务\x3c\/span\x3e\ngulp.task(\x3cspan class=\x22hljs-string\x22\x3e\x27default\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 所有默认任务的代码放在这里，比如我输出一个 hello, wold\x3c\/span\x3e\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27hello, world\x27\x3c\/span\x3e);\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader14\x22\x3e在项目根目录下执行 gulp\x3c\/h3\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22gulp\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs ebnf\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-attribute\x22\x3egulp\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e如果出现下面类似信息，说明 gulp 部署成功。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22[22:36:57] Using gulpfile ~\/Desktop\/theme\/gulpfile.js\n[22:36:57] Starting \x27default\x27...\nok\n[22:36:57] Finished \x27default\x27 after 217 μs\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs prolog\x22\x3e\x3ccode\x3e[\x3cspan class=\x22hljs-number\x22\x3e22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e36\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e57\x3c\/span\x3e] \x3cspan class=\x22hljs-symbol\x22\x3eUsing\x3c\/span\x3e gulpfile ~\/\x3cspan class=\x22hljs-symbol\x22\x3eDesktop\x3c\/span\x3e\/theme\/gulpfile.js\n[\x3cspan class=\x22hljs-number\x22\x3e22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e36\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e57\x3c\/span\x3e] \x3cspan class=\x22hljs-symbol\x22\x3eStarting\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27default\x27\x3c\/span\x3e...\nok\n[\x3cspan class=\x22hljs-number\x22\x3e22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e36\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e57\x3c\/span\x3e] \x3cspan class=\x22hljs-symbol\x22\x3eFinished\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27default\x27\x3c\/span\x3e after \x3cspan class=\x22hljs-number\x22\x3e217\x3c\/span\x3e μs\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader15\x22\x3egulp 的用法\x3c\/h2\x3e\n\x3cp\x3e项目中 gulp 的应用主要还是通过一些插件去实现的。下面我们就开始安装一些常用插件：\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader16\x22\x3e常用插件安装\x3c\/h3\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22# 安装本地 gulp-sass 插件\nsudo npm install gulp-sass --save-dev\n\n# 安装本地 gulp-less 插件\nsudo npm install gulp-less --save-dev\n\n# 安装本地服务器插件：\nnpm install gulp-connect --save-dev \n\n# 安装合并文件插件：\nnpm install gulp-concat --save-dev \n\n# 安装压缩js文件插件：\nnpm install gulp-uglify --save-dev \n\n# 安装重命名插件：\nnpm install gulp-rename --save-dev \n\n# 安装压缩css文件插件：\nnpm install gulp-minify-css --save-dev \n\n# 低损耗压缩图像： \nnpm install gulp-imagemin --save-dev\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs cmake\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e# 安装本地 gulp-sass 插件\x3c\/span\x3e\nsudo npm \x3cspan class=\x22hljs-keyword\x22\x3einstall\x3c\/span\x3e gulp-sass --save-dev\n\n\x3cspan class=\x22hljs-comment\x22\x3e# 安装本地 gulp-less 插件\x3c\/span\x3e\nsudo npm \x3cspan class=\x22hljs-keyword\x22\x3einstall\x3c\/span\x3e gulp-\x3cspan class=\x22hljs-keyword\x22\x3eless\x3c\/span\x3e --save-dev\n\n\x3cspan class=\x22hljs-comment\x22\x3e# 安装本地服务器插件：\x3c\/span\x3e\nnpm \x3cspan class=\x22hljs-keyword\x22\x3einstall\x3c\/span\x3e gulp-connect --save-dev \n\n\x3cspan class=\x22hljs-comment\x22\x3e# 安装合并文件插件：\x3c\/span\x3e\nnpm \x3cspan class=\x22hljs-keyword\x22\x3einstall\x3c\/span\x3e gulp-concat --save-dev \n\n\x3cspan class=\x22hljs-comment\x22\x3e# 安装压缩js文件插件：\x3c\/span\x3e\nnpm \x3cspan class=\x22hljs-keyword\x22\x3einstall\x3c\/span\x3e gulp-uglify --save-dev \n\n\x3cspan class=\x22hljs-comment\x22\x3e# 安装重命名插件：\x3c\/span\x3e\nnpm \x3cspan class=\x22hljs-keyword\x22\x3einstall\x3c\/span\x3e gulp-rename --save-dev \n\n\x3cspan class=\x22hljs-comment\x22\x3e# 安装压缩css文件插件：\x3c\/span\x3e\nnpm \x3cspan class=\x22hljs-keyword\x22\x3einstall\x3c\/span\x3e gulp-minify-css --save-dev \n\n\x3cspan class=\x22hljs-comment\x22\x3e# 低损耗压缩图像： \x3c\/span\x3e\nnpm \x3cspan class=\x22hljs-keyword\x22\x3einstall\x3c\/span\x3e gulp-imagemin --save-dev\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e如果出现警告错误，请查看当前目录下的 \x3ccode\x3enpm-debug.log\x3c\/code\x3e 文件，\x3cbr\x3e当 log 中有如下错误提示\x3c\/p\x3e\n\x3cblockquote\x3e\x3cp\x3eerror Please try running this command again as root\/Administrator.\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e请切换到 root 权限或者用 \x3ccode\x3esudo npm install \x3c\/code\x3e命令进行操作。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader17\x22\x3e插件引入\x3c\/h3\x3e\n\x3cp\x3e在\x3ccode\x3egulpfile.js\x3c\/code\x3e的顶部引入\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var gulp = require(\x27gulp\x27);\/\/将gulp插件包含进来 \nvar sass = require(\x27gulp-sass\x27); \/\/包含sass转换为css插件 \nvar less = require(\x27gulp-less\x27); \/\/包含less转换为css插件 \nvar connect = require(\x27gulp-connect\x27); \/\/包含服务器插件 var concat = require(\x27gulp-concat\x27);\/\/合并文件 \nvar uglify = require(\x27gulp-uglify\x27);\/\/压缩js \nvar rename = require(\x27gulp-rename\x27);\/\/重命名文件 \nvar minifyCSS = require(\x27gulp-minify-css\x27);\/\/压缩css var imagemin = require(\x27gulp-imagemin\x27);\/\/优化图片\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e gulp = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27gulp\x27\x3c\/span\x3e);\x3cspan class=\x22hljs-comment\x22\x3e\/\/将gulp插件包含进来 \x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e sass = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27gulp-sass\x27\x3c\/span\x3e); \x3cspan class=\x22hljs-comment\x22\x3e\/\/包含sass转换为css插件 \x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e less = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27gulp-less\x27\x3c\/span\x3e); \x3cspan class=\x22hljs-comment\x22\x3e\/\/包含less转换为css插件 \x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e connect = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27gulp-connect\x27\x3c\/span\x3e); \x3cspan class=\x22hljs-comment\x22\x3e\/\/包含服务器插件 var concat = require(\x27gulp-concat\x27);\/\/合并文件 \x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e uglify = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27gulp-uglify\x27\x3c\/span\x3e);\x3cspan class=\x22hljs-comment\x22\x3e\/\/压缩js \x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e rename = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27gulp-rename\x27\x3c\/span\x3e);\x3cspan class=\x22hljs-comment\x22\x3e\/\/重命名文件 \x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e minifyCSS = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27gulp-minify-css\x27\x3c\/span\x3e);\x3cspan class=\x22hljs-comment\x22\x3e\/\/压缩css var imagemin = require(\x27gulp-imagemin\x27);\/\/优化图片\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader18\x22\x3e插件用法\x3c\/h3\x3e\n\x3cp\x3e以下所有代码都放在 \x3ccode\x3egulpfile.js\x3c\/code\x3e 文件里面。\x3c\/p\x3e\n\x3ch4\x3e1. 复制文件到指定文件夹\x3c\/h4\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/复制文件到指定文件夹 \ngulp.task(\x27copy-index\x27,function(){ \n    return gulp.src(\x27index.html\x27) \n    .pipe(gulp.dest(\x27dist\x27)) \n    .pipe(connect.reload()); }); \x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs actionscript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/复制文件到指定文件夹 \x3c\/span\x3e\ngulp.task(\x3cspan class=\x22hljs-string\x22\x3e\x27copy-index\x27\x3c\/span\x3e,\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e\x3c\/span\x3e{ \n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e gulp.src(\x3cspan class=\x22hljs-string\x22\x3e\x27index.html\x27\x3c\/span\x3e) \n    .pipe(gulp.dest(\x3cspan class=\x22hljs-string\x22\x3e\x27dist\x27\x3c\/span\x3e)) \n    .pipe(connect.reload()); }); \x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e我们在项目目录下简历 index.html 文件和 dist 目录，\x3cbr\x3e然后执行 \x3ccode\x3egulp copy-index\x3c\/code\x3e 命令，会发现 index.html 文件复制到了 dist 目录。\x3cbr\x3e效果如下：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVCIj9\x22 src=\x22https:\/\/static.alili.tech\/img\/bVCIj9\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch4\x3e2. 复制图片到指定文件夹\x3c\/h4\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 复制 assets\/global\/img 文件的匹配示例\n\/\/ assets\/global\/img\/**\/* assets\/global\/img 目录下的所有子目录和所有东西(包含东西最多) \n\/\/ assets\/global\/img\/*\/* assets\/global\/img 目录下的东西和子目录下的东西 \n\/\/ assets\/global\/img\/*.{png,jpg} images目录下的所有以png和jpg为后缀名的图片  \ngulp.task(\x27images\x27,function(){ \n    return gulp.src(\x27assets\/global\/img\/*.png\x27) \n    .pipe(gulp.dest(\x27dist\/images\x27))\n    .pipe(imagemin()) \/\/未成功 \n    ; \n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs crystal\x22\x3e\x3ccode\x3e\/\x3cspan class=\x22hljs-regexp\x22\x3e\/ 复制 assets\/global\x3c\/span\x3e\x3cspan class=\x22hljs-regexp\x22\x3e\/img 文件的匹配示例\n\/\x3c\/span\x3e\x3cspan class=\x22hljs-regexp\x22\x3e\/ assets\/global\x3c\/span\x3e\x3cspan class=\x22hljs-regexp\x22\x3e\/img\/\x3c\/span\x3e**\x3cspan class=\x22hljs-regexp\x22\x3e\/* assets\/global\x3c\/span\x3e\x3cspan class=\x22hljs-regexp\x22\x3e\/img 目录下的所有子目录和所有东西(包含东西最多) \n\/\x3c\/span\x3e\x3cspan class=\x22hljs-regexp\x22\x3e\/ assets\/global\x3c\/span\x3e\x3cspan class=\x22hljs-regexp\x22\x3e\/img\/\x3c\/span\x3e*\x3cspan class=\x22hljs-regexp\x22\x3e\/* assets\/global\x3c\/span\x3e\x3cspan class=\x22hljs-regexp\x22\x3e\/img 目录下的东西和子目录下的东西 \n\/\x3c\/span\x3e\x3cspan class=\x22hljs-regexp\x22\x3e\/ assets\/global\x3c\/span\x3e\x3cspan class=\x22hljs-regexp\x22\x3e\/img\/\x3c\/span\x3e*.{png,jpg} images目录下的所有以png和jpg为后缀名的图片  \ngulp.task(\x3cspan class=\x22hljs-string\x22\x3e\x27images\x27\x3c\/span\x3e,function(){ \n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e gulp.src(\x3cspan class=\x22hljs-string\x22\x3e\x27assets\/global\/img\/*.png\x27\x3c\/span\x3e) \n    .pipe(gulp.dest(\x3cspan class=\x22hljs-string\x22\x3e\x27dist\/images\x27\x3c\/span\x3e))\n    .pipe(imagemin()) \/\x3cspan class=\x22hljs-regexp\x22\x3e\/未成功 \n    ; \n});\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e效果如下：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVCIkq\x22 src=\x22https:\/\/static.alili.tech\/img\/bVCIkq\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch4\x3e3. 多个数据文件复制\x3c\/h4\x3e\n\x3cp\x3e后面的目录可以不存在，不存在的话会自动创建，在前面加叹号是排除这个（类）文件\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22gulp.task(\x27data\x27,function(){ \n    return gulp.src([\x27xml\/*.xml\x27,\x27json\/*.json\x27,\x27!json\/secre-*.json\x27])\n    .pipe(gulp.dest(\x27dist\/data\x27)); \n    }); \x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs actionscript\x22\x3e\x3ccode\x3egulp.task(\x3cspan class=\x22hljs-string\x22\x3e\x27data\x27\x3c\/span\x3e,\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e\x3c\/span\x3e{ \n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e gulp.src([\x3cspan class=\x22hljs-string\x22\x3e\x27xml\/*.xml\x27\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x27json\/*.json\x27\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x27!json\/secre-*.json\x27\x3c\/span\x3e])\n    .pipe(gulp.dest(\x3cspan class=\x22hljs-string\x22\x3e\x27dist\/data\x27\x3c\/span\x3e)); \n    }); \x3c\/code\x3e\x3c\/pre\x3e\n\x3cblockquote\x3e\x3cp\x3e一般来说，\x3ccode\x3egulp.dest\x3c\/code\x3e 会自动创建不存在的目录，但是我在实际使用过程中却无法自动创建，只有将 \x3ccode\x3e.pipe(gulp.dest(\x27dist\/data\x27)); \x3c\/code\x3e 改为 \x3ccode\x3e.pipe(gulp.dest(\x27.\/dist\/data\x27)); \x3c\/code\x3e时才能自动创建。后来，我又安装了\x3ccode\x3egulp-sourcemaps\x3c\/code\x3e插件后，莫名其妙好了，而且删除\x3ccode\x3egulp-sourcemaps\x3c\/code\x3e插件也没问题，好奇怪。(⊙﹏⊙)b\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3ch3 id=\x22articleHeader19\x22\x3e未完，待续。\x3c\/h3\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>初探前端自动化神器 （Gulp）</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000006804354">https://segmentfault.com/a/1190000006804354</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/a4sk701m6bb/" target="_blank">https://alili.tech/archive/a4sk701m6bb/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/sj57jxyoook/">ES6 &#43; Webpack &#43; React &#43; Babel 如何在低版本浏览器上愉快的玩耍（上）<aside class="dates">2019-02-03</aside></a></li><li><a href="/archive/qsw902j95k/">ES6 &#43; Webpack &#43; React &#43; Babel 如何在低版本浏览器上愉快的玩耍（下）<aside class="dates">2019-02-03</aside></a></li><li><a href="/archive/nnpmjlot58j/">IndexedDB使用与出坑指南<aside class="dates">2019-02-03</aside></a></li><li><a href="/archive/alvlbas9oai/">JS事件模型<aside class="dates">2019-02-03</aside></a></li><li><a href="/archive/u0pzym8k36o/">JS练习实例--编写经典小游戏俄罗斯方块<aside class="dates">2019-02-03</aside></a></li><li><a href="/archive/khwpyk5yz8q/">JavaScript 事件代理和委托<aside class="dates">2019-02-03</aside></a></li><li><a href="/archive/kuocl6lc3n/">JavaScript 版俄罗斯方块<aside class="dates">2019-02-03</aside></a></li><li><a href="/archive/n8bk54lyrf/">Promise学习:基础入门<aside class="dates">2019-02-03</aside></a></li><li><a href="/archive/7bk7u30qncb/">Redux 入坑进阶 - 源码解析<aside class="dates">2019-02-03</aside></a></li><li><a href="/archive/853kqfmqmf7/">Snap.svg 基本知识入门<aside class="dates">2019-02-03</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>