<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="解决页面滚动时吸顶操作不能及时响应bug"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>解决页面滚动时吸顶操作不能及时响应bug | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/58ztskl01lt/",
				"appid": "1613049289050283", 
				"title": "解决页面滚动时吸顶操作不能及时响应bug | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-28T02:30:09"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/lfmj4xr00e/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/yyqhgqfit9r/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2f58ztskl01lt%2f&text=%e8%a7%a3%e5%86%b3%e9%a1%b5%e9%9d%a2%e6%bb%9a%e5%8a%a8%e6%97%b6%e5%90%b8%e9%a1%b6%e6%93%8d%e4%bd%9c%e4%b8%8d%e8%83%bd%e5%8f%8a%e6%97%b6%e5%93%8d%e5%ba%94bug"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2f58ztskl01lt%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2f58ztskl01lt%2f&text=%e8%a7%a3%e5%86%b3%e9%a1%b5%e9%9d%a2%e6%bb%9a%e5%8a%a8%e6%97%b6%e5%90%b8%e9%a1%b6%e6%93%8d%e4%bd%9c%e4%b8%8d%e8%83%bd%e5%8f%8a%e6%97%b6%e5%93%8d%e5%ba%94bug"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2f58ztskl01lt%2f&title=%e8%a7%a3%e5%86%b3%e9%a1%b5%e9%9d%a2%e6%bb%9a%e5%8a%a8%e6%97%b6%e5%90%b8%e9%a1%b6%e6%93%8d%e4%bd%9c%e4%b8%8d%e8%83%bd%e5%8f%8a%e6%97%b6%e5%93%8d%e5%ba%94bug"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2f58ztskl01lt%2f&is_video=false&description=%e8%a7%a3%e5%86%b3%e9%a1%b5%e9%9d%a2%e6%bb%9a%e5%8a%a8%e6%97%b6%e5%90%b8%e9%a1%b6%e6%93%8d%e4%bd%9c%e4%b8%8d%e8%83%bd%e5%8f%8a%e6%97%b6%e5%93%8d%e5%ba%94bug"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e8%a7%a3%e5%86%b3%e9%a1%b5%e9%9d%a2%e6%bb%9a%e5%8a%a8%e6%97%b6%e5%90%b8%e9%a1%b6%e6%93%8d%e4%bd%9c%e4%b8%8d%e8%83%bd%e5%8f%8a%e6%97%b6%e5%93%8d%e5%ba%94bug&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2f58ztskl01lt%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2f58ztskl01lt%2f&title=%e8%a7%a3%e5%86%b3%e9%a1%b5%e9%9d%a2%e6%bb%9a%e5%8a%a8%e6%97%b6%e5%90%b8%e9%a1%b6%e6%93%8d%e4%bd%9c%e4%b8%8d%e8%83%bd%e5%8f%8a%e6%97%b6%e5%93%8d%e5%ba%94bug"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f58ztskl01lt%2f&title=%e8%a7%a3%e5%86%b3%e9%a1%b5%e9%9d%a2%e6%bb%9a%e5%8a%a8%e6%97%b6%e5%90%b8%e9%a1%b6%e6%93%8d%e4%bd%9c%e4%b8%8d%e8%83%bd%e5%8f%8a%e6%97%b6%e5%93%8d%e5%ba%94bug"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f58ztskl01lt%2f&title=%e8%a7%a3%e5%86%b3%e9%a1%b5%e9%9d%a2%e6%bb%9a%e5%8a%a8%e6%97%b6%e5%90%b8%e9%a1%b6%e6%93%8d%e4%bd%9c%e4%b8%8d%e8%83%bd%e5%8f%8a%e6%97%b6%e5%93%8d%e5%ba%94bug"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f58ztskl01lt%2f&title=%e8%a7%a3%e5%86%b3%e9%a1%b5%e9%9d%a2%e6%bb%9a%e5%8a%a8%e6%97%b6%e5%90%b8%e9%a1%b6%e6%93%8d%e4%bd%9c%e4%b8%8d%e8%83%bd%e5%8f%8a%e6%97%b6%e5%93%8d%e5%ba%94bug"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">解决页面滚动时吸顶操作不能及时响应bug</h1><div class="meta"><div class="postdate"><time datetime="2019-01-28" itemprop="datePublished">2019-01-28</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cul\x3e\n\x3cli\x3e\x3cp\x3eposition: sticky;\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3efixed 吸顶\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e页面滚动结束后页面才渲染\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3e需求\x3c\/h2\x3e\n\x3cp\x3e经常会有这样的需求，当页面滚动到某一个位置\x3cstrong\x3efixedTopValue\x3c\/strong\x3e时，需要某个元素\x3cstrong\x3efixedElement\x3c\/strong\x3e固定在屏幕顶部。基本方法是获取页面的scrollTop值做判断：\x3cbr\x3e如果 scrollTop \x26gt; fixedTopValue;  则添加position:fixed;top: 0;否则删除position:fixed;属性。\x3c\/p\x3e\n\x3cp\x3e当在pc浏览器操作的时候正常。真机测试时总会出现千奇百怪的现象。比如：\x3cbr\x3e1、 当页面往下滚时，\x3cstrong\x3efixedElement\x3c\/strong\x3e需要等页面滚动停止之后才会出现。\x3cbr\x3e2、往上滚动时出现到固定的位置时不恢复原样，而是到达顶部、等页面停止滚动之后才会唰的一下恢复原样\x3cbr\x3e3、滚动到顶部之后，会出现两个一样的fixedElement, 过一会才恢复正常。\x3cbr\x3e这样的用户体验真的很差，所以迫切需要解决这个问题。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000008004303\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000008004303\x22 alt=\x22滚动bug.png\x22 title=\x22滚动bug.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e解决方法主要涉及一下三个方面\x3cbr\x3e\x3cstrong\x3e1、\x3c\/strong\x3e使用新的定位属性 position: sticky; (如果支持)\x3cbr\x3e\x3cstrong\x3e 2、\x3c\/strong\x3e如果不支持1，使用window.requestAnimationFrame方法确保改变定位属性在固定时间内执行一次\x3cbr\x3e\x3cstrong\x3e3、\x3c\/strong\x3e 给fixedElement开启硬件加速\x3c\/p\x3e\n\x3cp\x3e基本逻辑如下图：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000008004304\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000008004304\x22 alt=\x22页面滚动元素fixed置顶逻辑设计 (2).png\x22 title=\x22页面滚动元素fixed置顶逻辑设计 (2).png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e测试页面二维码：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000008004305\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000008004305\x22 alt=\x22Paste_Image.png\x22 title=\x22Paste_Image.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3eposition:sticky是个什么鬼？\x3c\/h2\x3e\n\x3cp\x3e对与css的position属性我们只知道有static、relative、absolute、fixed这四个值，什么时候又多出了sticky这个值。看下\x3ca href=\x22https:\/\/developer.mozilla.org\/en\/docs\/Web\/CSS\/position#Sticky_positioning\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eMDN文档解释\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e Sticky positioning \x3c\/strong\x3e\x3cbr\x3eSticky positioning is a hybrid of relative and fixed positioning.  The element is treated as relative positioned until it crosses a specified threshold, at which point it is treated as fixed positioned.\x3c\/p\x3e\n\x3cp\x3e大概意思是：sticky定位时relative定位与fixed定位的混合体。对于设置了sticky定位的元素，在它的顶部到达一个指定的界限之前会被当作relative定位，超过这个界限字后则被当作fixed定位。这个界限就是 \x3cstrong\x3e 该元素顶部距离窗口顶部的距离等于该元素设置的top值 \x3c\/strong\x3e\x3cbr\x3e比如以下demo:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cdiv\x3e\n  \x3cdiv class=\x26quot;top\x26quot;\x3e60像素分割线\x3c\/div\x3e\n  \x3cdiv class=\x26quot;sticky\x26quot;\x3e当我的顶部距离窗口顶部为10px(top值)时，我就会像fixed一样fixed在距离窗口10px(top值处)\x3c\/div\x3e\n  \x3cdiv class=\x26quot;content\x26quot;\x3esticky的co时代发送分ntent\x3c\/div\x3e\n\x3c\/div\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs applescript\x22\x3e\x3ccode\x3e\x26lt;\x3cspan class=\x22hljs-keyword\x22\x3ediv\x3c\/span\x3e\x26gt;\n  \x26lt;\x3cspan class=\x22hljs-keyword\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22top\x22\x3c\/span\x3e\x26gt;\x3cspan class=\x22hljs-number\x22\x3e60\x3c\/span\x3e像素分割线\x26lt;\/\x3cspan class=\x22hljs-keyword\x22\x3ediv\x3c\/span\x3e\x26gt;\n  \x26lt;\x3cspan class=\x22hljs-keyword\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22sticky\x22\x3c\/span\x3e\x26gt;当我的顶部距离窗口顶部为\x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3epx(top值)时，我就会像fixed一样fixed在距离窗口\x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3epx(top值处)\x26lt;\/\x3cspan class=\x22hljs-keyword\x22\x3ediv\x3c\/span\x3e\x26gt;\n  \x26lt;\x3cspan class=\x22hljs-keyword\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22content\x22\x3c\/span\x3e\x26gt;sticky的co时代发送分ntent\x26lt;\/\x3cspan class=\x22hljs-keyword\x22\x3ediv\x3c\/span\x3e\x26gt;\n\x26lt;\/\x3cspan class=\x22hljs-keyword\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22.top{height:60px;background:#f20;width:100%;color: #fff;font-size:16px;text-align:center;line-height:60px;}\n.sticky{position:sticky;position:-webkit-sticky;top:10px;height:40px;background:#dd5;color:#fff;line-height:20px;text-align:center;}\n.sticky-t10{top:0px;}\n.content{height:1000px;width:100%;background:#f8f8f8;text-align:center;padding-top:40px;color:#333;}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs css\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.top\x3c\/span\x3e{\x3cspan class=\x22hljs-attribute\x22\x3eheight\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e60px\x3c\/span\x3e;\x3cspan class=\x22hljs-attribute\x22\x3ebackground\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e#f20\x3c\/span\x3e;\x3cspan class=\x22hljs-attribute\x22\x3ewidth\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e100%\x3c\/span\x3e;\x3cspan class=\x22hljs-attribute\x22\x3ecolor\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e#fff\x3c\/span\x3e;\x3cspan class=\x22hljs-attribute\x22\x3efont-size\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e16px\x3c\/span\x3e;\x3cspan class=\x22hljs-attribute\x22\x3etext-align\x3c\/span\x3e:center;\x3cspan class=\x22hljs-attribute\x22\x3eline-height\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e60px\x3c\/span\x3e;}\n\x3cspan class=\x22hljs-selector-class\x22\x3e.sticky\x3c\/span\x3e{\x3cspan class=\x22hljs-attribute\x22\x3eposition\x3c\/span\x3e:sticky;\x3cspan class=\x22hljs-attribute\x22\x3eposition\x3c\/span\x3e:-webkit-sticky;\x3cspan class=\x22hljs-attribute\x22\x3etop\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e10px\x3c\/span\x3e;\x3cspan class=\x22hljs-attribute\x22\x3eheight\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e40px\x3c\/span\x3e;\x3cspan class=\x22hljs-attribute\x22\x3ebackground\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e#dd5\x3c\/span\x3e;\x3cspan class=\x22hljs-attribute\x22\x3ecolor\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e#fff\x3c\/span\x3e;\x3cspan class=\x22hljs-attribute\x22\x3eline-height\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e20px\x3c\/span\x3e;\x3cspan class=\x22hljs-attribute\x22\x3etext-align\x3c\/span\x3e:center;}\n\x3cspan class=\x22hljs-selector-class\x22\x3e.sticky-t10\x3c\/span\x3e{\x3cspan class=\x22hljs-attribute\x22\x3etop\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0px\x3c\/span\x3e;}\n\x3cspan class=\x22hljs-selector-class\x22\x3e.content\x3c\/span\x3e{\x3cspan class=\x22hljs-attribute\x22\x3eheight\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e1000px\x3c\/span\x3e;\x3cspan class=\x22hljs-attribute\x22\x3ewidth\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e100%\x3c\/span\x3e;\x3cspan class=\x22hljs-attribute\x22\x3ebackground\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e#f8f8f8\x3c\/span\x3e;\x3cspan class=\x22hljs-attribute\x22\x3etext-align\x3c\/span\x3e:center;\x3cspan class=\x22hljs-attribute\x22\x3epadding-top\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e40px\x3c\/span\x3e;\x3cspan class=\x22hljs-attribute\x22\x3ecolor\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e#333\x3c\/span\x3e;}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e效果图：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000008004306\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000008004306\x22 alt=\x22sticky测试页面综合图.png\x22 title=\x22sticky测试页面综合图.png\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e当页面滚动到距离黄色区块顶部10px时，黄色区块就会fixed在窗口顶部10px处，页面再往下滚动距离也不会变。当页面网上滚动时，页面顶部距离黄色区块顶部大于10px时，黄色区块又会恢复原样固定在原来的位置。\x3c\/p\x3e\n\x3cp\x3eposition:sticky这个属性并不会出现当页面滚动停止之后才会出现的bug，因为它本身就是属于正常流。并不会像fixed 与static相互切换时引起重排于重绘，而移动端浏览器滚动时是禁止重排跟重绘的，所以才会导致以上出现的问题。下图是对于position:sticky的支持情况：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000008004307\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000008004307\x22 alt=\x22position:sticky浏览器支持情况\x22 title=\x22position:sticky浏览器支持情况\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e发现支持的浏览器一般般，但是经过测试像微信、safari、uc等浏览器是支持的，虽然chrome不支持，但是在chrome使用优化后的fixed定位也可以解决这个问题，基本能满足主流的浏览器就够了，其他的见鬼去吧。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3e滚动时减少性能损耗，强制触发浏览器的同步布局\x3c\/h2\x3e\n\x3cp\x3e如果浏览器不支持position:sticky，那么就使用js动态的在节点在fixed定位于static定位中切换，但是需要对切换过程做一些优化。\x3cbr\x3e1、使用函数节流防抖减少dom操作频繁粗发，但是保证在规定时间内必须执行一次。\x3cbr\x3e2、使用window.requestAnimationFrame  方法在下一帧前触发浏览器的强制同步布局，是对dom的操作能及时渲染到页面上。\x3cbr\x3e3、减少对dom的读写操作，或者把dom操作把读、写操作分开，可以减少渲染次数。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader3\x22\x3e给需要定位的元素开启硬件加速\x3c\/h2\x3e\n\x3cp\x3e由于移动设备的硬件限制，导致移动端的浏览器的渲染能比较差。此时对需要定位的元素开启硬件加速，会把需要渲染的元素放到特定的复合层『Composited Layer』中，当该元素改变时可以较少重绘或重排的范围。给元素添加 transform: translateZ(0);属性就行。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader4\x22\x3e参考：\x3c\/h2\x3e\n\x3cp\x3e硬件加速：\x3cbr\x3e\x3ca href=\x22http:\/\/div.io\/topic\/1348\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/div.io\/topic\/1348\x3c\/a\x3e\x3cbr\x3e\x3ca href=\x22http:\/\/www.cnblogs.com\/shytong\/p\/5419565.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/www.cnblogs.com\/shyton...\x3c\/a\x3e\x3cbr\x3e提升页面性能：\x3cbr\x3e\x3ca href=\x22https:\/\/developer.mozilla.org\/en-US\/docs\/Web\/API\/window\/requestAnimationFrame\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/developer.mozilla.org...\x3c\/a\x3e\x3cbr\x3e\x3ca href=\x22http:\/\/www.ruanyifeng.com\/blog\/2015\/09\/web-page-performance-in-depth.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/www.ruanyifeng.com\/blo...\x3c\/a\x3e\x3cbr\x3e\x3ca href=\x22http:\/\/www.jianshu.com\/p\/a32b890c29b1\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/www.jianshu.com\/p\/a32b...\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e具体实现请参考以下jquery版本的代码：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/jquery\n(function() {\n    function Sticky(){\n        this.init.apply(this, arguments);\n    }\n\n    \/**\n     * 滚动fixed组件初始化\n     * @param {object}         setting                allocate传进来的参数\n     * @param {object}         setting.stickyNode     需要设置position:sticky的节点，通常是最外层\n     * @param {object}         setting.fixedNode      当滚动一定距离时需要fixed在顶部的节点\n     * @param {int}            setting.top            fixed之后距离顶部的top值\n     * @param {int}            setting.zIndex         fixed之后的z-index值\n     * @param {string}         setting.fixedClazz     fixed时给fixedNode添加的类\n     * @param {function}     setting.runInScrollFn  滚动期间额外执行的函数\n     * @return {void}  \n     *\/\n    Sticky.setting = {\n        stickyNode: null,\n        fixedNode: null,\n        top: 0,\n        zIndex: 100,\n        fixedClazz: \x27\x27,\n        runInScrollFn: null\n    };\n    var sPro = Sticky.prototype;\n    var g = window;\n\n    \/**\n     * 初始化\n     * @param  {object} options 设置\n     * @return {void}         \n     *\/\n    sPro.init = function(options){\n        this.setting = $.extend({}, Sticky.setting, options, true);\n        if (options.fixedNode) {\n            this.fixedNode = options.fixedNode[0] || options.fixedNode;\n            this.stickyNode = options.stickyNode[0] || options.stickyNode;\n            this.cssStickySupport = this.checkStickySupport();\n            this.stickyNodeHeight = this.stickyNode.clientHeight;\n            this.fixedClazz = options.fixedClazz;\n            this.top = parseInt(options.top, 10) || 0;\n            this.zIndex = parseInt(options.zIndex) || 1;\n            this.setStickyCss();\n            this.isfixed = false;\n            \/\/ 把改变定位的操作添加到节流函数与window.requestAnimationFrame方法中，确保一定事件内必须执行一次\n            this.onscrollCb = this.throttle(function() {\n                this.nextFrame(this.sticky.bind(this));\n            }.bind(this), 50, 100);\n            this.initCss = this.getInitCss();\n            this.fixedCss = this.getFixedCss();\n            this.addEvent();\n        }\n    };\n\n    \/**\n     * 获取原始css样式\n     * @return {string} 定位的样式\n     *\/\n    sPro.getInitCss = function() {\n        if (!!this.fixedNode) {\n            return \x26quot;position:\x26quot; \x2b this.fixedNode.style.position \x2b \x26quot;;top:\x26quot; \x2b this.fixedNode.style.top \x2b \x26quot;px;z-index:\x26quot; \x2b this.fixedNode.style.zIndex \x2b \x26quot;;\x26quot;;\n        }\n        return \x26quot;\x26quot;;\n    };\n\n    \/**\n     * 生成fixed时的css样式\n     * @return {void}\n     *\/\n    sPro.getFixedCss = function() {\n        return \x26quot;position:fixed;top:\x26quot; \x2b this.top \x2b \x26quot;px;z-index:\x26quot; \x2b this.zIndex \x2b \x26quot;;\x26quot;;\n    };\n\n    \/**\n     * 给fixedNode设置fixed定位样式\n     * @param {string} style fixed定位的样式字符串\n     *\/\n    sPro.setFixedCss = function(style) {\n        if(!this.cssStickySupport){\n            if (!!this.fixedNode){\n                this.fixedNode.style.cssText = style;\n            }\n        }\n    };\n\n    \/**\n     * 检查浏览器是否支持positon: sticky定位\n     * @return {boolean} true 支持 false 不支持\n     *\/\n    sPro.checkStickySupport = function() {\n        var div= null;\n        if(g.CSS \x26amp;\x26amp; g.CSS.supports){\n            return g.CSS.supports(\x26quot;(position: sticky) or (position: -webkit-sticky)\x26quot;);\n        }\n        div = document.createElement(\x26quot;div\x26quot;);\n        div.style.position = \x26quot;sticky\x26quot;;\n        if(\x26quot;sticky\x26quot; === div.style.position){\n            return true;\n        }\n        div.style.position = \x26quot;-webkit-sticky\x26quot;;\n        if(\x26quot;-webkit-sticky\x26quot; === div.style.position){\n            return true;\n        }\n        div = null;\n        return false;\n    };\n\n    \/**\n     * 给sticyNode设置position: sticky定位\n     *\/\n    sPro.setStickyCss = function() {\n        if(this.cssStickySupport){\n            this.stickyNode.style.cssText = \x26quot;position:-webkit-sticky;position:sticky;top:\x26quot; \x2b this.top \x2b \x26quot;px;z-index:\x26quot; \x2b this.zIndex \x2b \x26quot;;\x26quot;;\n        }\n    };\n\n    \/**\n     * 监听window的滚动事件\n     *\/\n    sPro.addEvent = function() {\n        $(g).on(\x27scroll\x27, this.onscrollCb.bind(this));\n    };\n\n    \/**\n     * 让函数在规定时间内必须执行一次\n     * @param {Function} fn     定时执行的函数\n     * @param {int}      delay  延迟多少毫秒执行\n     * @param {[type]}   mustRunDelay 多少毫秒内必须执行一次\n     * @return {[type]}      [description]\n     *\/\n    sPro.throttle = function(fn, delay, mustRunDelay){\n        var timer = null;\n        var lastTime;\n        return function(){\n            var now = \x2bnew Date();\n            var args = arguments;\n            g.clearTimeout(timer);\n            if(!lastTime){\n                lastTime = now;\n            }\n            if(now - lastTime \x3e mustRunDelay){\n                fn.apply(this, args);\n                lastTime = now;\n            }else{\n                g.setTimeout(function(){\n                    fn.apply(this, args);\n                }.bind(this), delay);\n            }\n        }.bind(this);\n    };\n\n    \/**\n     * window.requestAnimationFrame的兼容性写法，保证在100\/6ms执行一次\n     * @param  {Function} fn 100\/16ms需要执行的函数\n     * @return {void}      \n     *\/\n    sPro.nextFrame = (function(fn){\n        var prefix = [\x26quot;ms\x26quot;, \x26quot;moz\x26quot;, \x26quot;webkit\x26quot;, \x26quot;o\x26quot;];\n        var handle = {};\n        handle.requestAnimationFrame = window.requestAnimationFrame;\n        for(var i = 0; i \x3c prefix.length \x26amp;\x26amp; !handle.requestAnimationFrame; \x2b\x2bi){\n            handle.requestAnimationFrame = window[prefix[i] \x2b \x26quot;RequestAnimationFrame\x26quot;];\n        }\n        if(!handle.requestAnimationFrame){\n            handle.requestAnimationFrame = function(fn) {\n                var raf = window.setTimeout(function() {\n                    fn();\n                }, 16);\n                return raf;\n            };\n        }\n        return function(fn) {\n            handle.requestAnimationFrame.apply(g, arguments);\n        }\n    })();\n\n    \/**\n     * 判断stickyNode的当前位置设置fixed|static|sticky定位\n     * @return {void}\n     *\/\n    sPro.sticky = function() {\n        this.setting.runInScrollFn \x26amp;\x26amp; this.setting.runInScrollFn();\n        var stickyNodeBox = this.stickyNode.getBoundingClientRect();\n        if(stickyNodeBox.top \x3c= this.top \x26amp;\x26amp; !this.isfixed){\n            this.setFixedCss(this.fixedCss);\n            this.fixedClazz \x26amp;\x26amp; $(this.fixedNode).addClass(this.fixedClazz);\n            this.isfixed = true;\n            $(this).trigger(\x27onsticky\x27, true);\n        } else if(stickyNodeBox.top \x3e this.top \x26amp;\x26amp; this.isfixed) {\n            this.setFixedCss(this.initCss.replace(\/position:[^;]*\/, \x26quot;position:static\x26quot;));\n            g.setTimeout(function() {\n                this.setFixedCss(this.initCss)\n            }.bind(this), 30);\n            this.fixedClazz \x26amp;\x26amp; $(this.fixedNode).removeClass(this.fixedClazz);\n            this.isfixed = false;\n            $(this).trigger(\x27onsticky\x27, true);\n        }\n    };\n\n    $.initSticky = function(options){\n        return new Sticky(options);\n    };\n})();\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs kotlin\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/jquery\x3c\/span\x3e\n(function() {\n    function Sticky(){\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.init.apply(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e, arguments);\n    }\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/**\n     * 滚动fixed组件初始化\n     * \x3cspan class=\x22hljs-doctag\x22\x3e@param\x3c\/span\x3e {object}         setting                allocate传进来的参数\n     * \x3cspan class=\x22hljs-doctag\x22\x3e@param\x3c\/span\x3e {object}         setting.stickyNode     需要设置position:sticky的节点，通常是最外层\n     * \x3cspan class=\x22hljs-doctag\x22\x3e@param\x3c\/span\x3e {object}         setting.fixedNode      当滚动一定距离时需要fixed在顶部的节点\n     * \x3cspan class=\x22hljs-doctag\x22\x3e@param\x3c\/span\x3e {int}            setting.top            fixed之后距离顶部的top值\n     * \x3cspan class=\x22hljs-doctag\x22\x3e@param\x3c\/span\x3e {int}            setting.zIndex         fixed之后的z-index值\n     * \x3cspan class=\x22hljs-doctag\x22\x3e@param\x3c\/span\x3e {string}         setting.fixedClazz     fixed时给fixedNode添加的类\n     * \x3cspan class=\x22hljs-doctag\x22\x3e@param\x3c\/span\x3e {function}     setting.runInScrollFn  滚动期间额外执行的函数\n     * \x3cspan class=\x22hljs-doctag\x22\x3e@return\x3c\/span\x3e {void}  \n     *\/\x3c\/span\x3e\n    Sticky.setting = {\n        stickyNode: \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e,\n        fixedNode: \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e,\n        top: \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n        zIndex: \x3cspan class=\x22hljs-number\x22\x3e100\x3c\/span\x3e,\n        fixedClazz: \x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e,\n        runInScrollFn: \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e\n    };\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e sPro = Sticky.prototype;\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e g = window;\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/**\n     * 初始化\n     * \x3cspan class=\x22hljs-doctag\x22\x3e@param\x3c\/span\x3e  {object} options 设置\n     * \x3cspan class=\x22hljs-doctag\x22\x3e@return\x3c\/span\x3e {void}         \n     *\/\x3c\/span\x3e\n    sPro.init = function(options){\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.setting = $.extend({}, Sticky.setting, options, \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e);\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (options.fixedNode) {\n            \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.fixedNode = options.fixedNode[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e] || options.fixedNode;\n            \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.stickyNode = options.stickyNode[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e] || options.stickyNode;\n            \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.cssStickySupport = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.checkStickySupport();\n            \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.stickyNodeHeight = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.stickyNode.clientHeight;\n            \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.fixedClazz = options.fixedClazz;\n            \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.top = parseInt(options.top, \x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3e) || \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n            \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.zIndex = parseInt(options.zIndex) || \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;\n            \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.setStickyCss();\n            \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.isfixed = \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e;\n            \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 把改变定位的操作添加到节流函数与window.requestAnimationFrame方法中，确保一定事件内必须执行一次\x3c\/span\x3e\n            \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.onscrollCb = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.throttle(function() {\n                \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.nextFrame(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.sticky.bind(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e));\n            }.bind(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e), \x3cspan class=\x22hljs-number\x22\x3e50\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e100\x3c\/span\x3e);\n            \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.initCss = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.getInitCss();\n            \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.fixedCss = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.getFixedCss();\n            \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.addEvent();\n        }\n    };\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/**\n     * 获取原始css样式\n     * \x3cspan class=\x22hljs-doctag\x22\x3e@return\x3c\/span\x3e {string} 定位的样式\n     *\/\x3c\/span\x3e\n    sPro.getInitCss = function() {\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (!!\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.fixedNode) {\n            \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22position:\x22\x3c\/span\x3e \x2b \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.fixedNode.style.position \x2b \x3cspan class=\x22hljs-string\x22\x3e\x22;top:\x22\x3c\/span\x3e \x2b \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.fixedNode.style.top \x2b \x3cspan class=\x22hljs-string\x22\x3e\x22px;z-index:\x22\x3c\/span\x3e \x2b \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.fixedNode.style.zIndex \x2b \x3cspan class=\x22hljs-string\x22\x3e\x22;\x22\x3c\/span\x3e;\n        }\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e;\n    };\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/**\n     * 生成fixed时的css样式\n     * \x3cspan class=\x22hljs-doctag\x22\x3e@return\x3c\/span\x3e {void}\n     *\/\x3c\/span\x3e\n    sPro.getFixedCss = function() {\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22position:fixed;top:\x22\x3c\/span\x3e \x2b \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.top \x2b \x3cspan class=\x22hljs-string\x22\x3e\x22px;z-index:\x22\x3c\/span\x3e \x2b \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.zIndex \x2b \x3cspan class=\x22hljs-string\x22\x3e\x22;\x22\x3c\/span\x3e;\n    };\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/**\n     * 给fixedNode设置fixed定位样式\n     * \x3cspan class=\x22hljs-doctag\x22\x3e@param\x3c\/span\x3e {string} style fixed定位的样式字符串\n     *\/\x3c\/span\x3e\n    sPro.setFixedCss = function(style) {\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(!\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.cssStickySupport){\n            \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (!!\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.fixedNode){\n                \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.fixedNode.style.cssText = style;\n            }\n        }\n    };\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/**\n     * 检查浏览器是否支持positon: sticky定位\n     * \x3cspan class=\x22hljs-doctag\x22\x3e@return\x3c\/span\x3e {boolean} true 支持 false 不支持\n     *\/\x3c\/span\x3e\n    sPro.checkStickySupport = function() {\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e div= \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e;\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(g.CSS \x26amp;\x26amp; g.CSS.supports){\n            \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e g.CSS.supports(\x3cspan class=\x22hljs-string\x22\x3e\x22(position: sticky) or (position: -webkit-sticky)\x22\x3c\/span\x3e);\n        }\n        div = document.createElement(\x3cspan class=\x22hljs-string\x22\x3e\x22div\x22\x3c\/span\x3e);\n        div.style.position = \x3cspan class=\x22hljs-string\x22\x3e\x22sticky\x22\x3c\/span\x3e;\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x22sticky\x22\x3c\/span\x3e === div.style.position){\n            \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e;\n        }\n        div.style.position = \x3cspan class=\x22hljs-string\x22\x3e\x22-webkit-sticky\x22\x3c\/span\x3e;\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x22-webkit-sticky\x22\x3c\/span\x3e === div.style.position){\n            \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e;\n        }\n        div = \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e;\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e;\n    };\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/**\n     * 给sticyNode设置position: sticky定位\n     *\/\x3c\/span\x3e\n    sPro.setStickyCss = function() {\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.cssStickySupport){\n            \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.stickyNode.style.cssText = \x3cspan class=\x22hljs-string\x22\x3e\x22position:-webkit-sticky;position:sticky;top:\x22\x3c\/span\x3e \x2b \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.top \x2b \x3cspan class=\x22hljs-string\x22\x3e\x22px;z-index:\x22\x3c\/span\x3e \x2b \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.zIndex \x2b \x3cspan class=\x22hljs-string\x22\x3e\x22;\x22\x3c\/span\x3e;\n        }\n    };\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/**\n     * 监听window的滚动事件\n     *\/\x3c\/span\x3e\n    sPro.addEvent = function() {\n        $(g).on(\x3cspan class=\x22hljs-string\x22\x3e\x27scroll\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.onscrollCb.bind(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e));\n    };\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/**\n     * 让函数在规定时间内必须执行一次\n     * \x3cspan class=\x22hljs-doctag\x22\x3e@param\x3c\/span\x3e {Function} fn     定时执行的函数\n     * \x3cspan class=\x22hljs-doctag\x22\x3e@param\x3c\/span\x3e {int}      delay  延迟多少毫秒执行\n     * \x3cspan class=\x22hljs-doctag\x22\x3e@param\x3c\/span\x3e {[type]}   mustRunDelay 多少毫秒内必须执行一次\n     * \x3cspan class=\x22hljs-doctag\x22\x3e@return\x3c\/span\x3e {[type]}      [description]\n     *\/\x3c\/span\x3e\n    sPro.throttle = function(fn, delay, mustRunDelay){\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e timer = \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e;\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e lastTime;\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e function(){\n            \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e now = \x2bnew Date();\n            \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e args = arguments;\n            g.clearTimeout(timer);\n            \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(!lastTime){\n                lastTime = now;\n            }\n            \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(now - lastTime \x26gt; mustRunDelay){\n                fn.apply(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e, args);\n                lastTime = now;\n            }\x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e{\n                g.setTimeout(function(){\n                    fn.apply(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e, args);\n                }.bind(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e), delay);\n            }\n        }.bind(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e);\n    };\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/**\n     * window.requestAnimationFrame的兼容性写法，保证在100\/6ms执行一次\n     * \x3cspan class=\x22hljs-doctag\x22\x3e@param\x3c\/span\x3e  {Function} fn 100\/16ms需要执行的函数\n     * \x3cspan class=\x22hljs-doctag\x22\x3e@return\x3c\/span\x3e {void}      \n     *\/\x3c\/span\x3e\n    sPro.nextFrame = (function(fn){\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e prefix = [\x3cspan class=\x22hljs-string\x22\x3e\x22ms\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22moz\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22webkit\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22o\x22\x3c\/span\x3e];\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e handle = {};\n        handle.requestAnimationFrame = window.requestAnimationFrame;\n        \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; i \x26lt; prefix.length \x26amp;\x26amp; !handle.requestAnimationFrame; \x2b\x2bi){\n            handle.requestAnimationFrame = window[prefix[i] \x2b \x3cspan class=\x22hljs-string\x22\x3e\x22RequestAnimationFrame\x22\x3c\/span\x3e];\n        }\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(!handle.requestAnimationFrame){\n            handle.requestAnimationFrame = function(fn) {\n                \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e raf = window.setTimeout(function() {\n                    fn();\n                }, \x3cspan class=\x22hljs-number\x22\x3e16\x3c\/span\x3e);\n                \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e raf;\n            };\n        }\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e function(fn) {\n            handle.requestAnimationFrame.apply(g, arguments);\n        }\n    })();\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/**\n     * 判断stickyNode的当前位置设置fixed|static|sticky定位\n     * \x3cspan class=\x22hljs-doctag\x22\x3e@return\x3c\/span\x3e {void}\n     *\/\x3c\/span\x3e\n    sPro.sticky = function() {\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.setting.runInScrollFn \x26amp;\x26amp; \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.setting.runInScrollFn();\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e stickyNodeBox = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.stickyNode.getBoundingClientRect();\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(stickyNodeBox.top \x26lt;= \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.top \x26amp;\x26amp; !\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.isfixed){\n            \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.setFixedCss(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.fixedCss);\n            \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.fixedClazz \x26amp;\x26amp; $(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.fixedNode).addClass(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.fixedClazz);\n            \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.isfixed = \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e;\n            $(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e).trigger(\x3cspan class=\x22hljs-string\x22\x3e\x27onsticky\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e);\n        } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(stickyNodeBox.top \x26gt; \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.top \x26amp;\x26amp; \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.isfixed) {\n            \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.setFixedCss(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.initCss.replace(\/position:[^;]*\/, \x3cspan class=\x22hljs-string\x22\x3e\x22position:static\x22\x3c\/span\x3e));\n            g.setTimeout(function() {\n                \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.setFixedCss(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.initCss)\n            }.bind(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e), \x3cspan class=\x22hljs-number\x22\x3e30\x3c\/span\x3e);\n            \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.fixedClazz \x26amp;\x26amp; $(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.fixedNode).removeClass(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.fixedClazz);\n            \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.isfixed = \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e;\n            $(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e).trigger(\x3cspan class=\x22hljs-string\x22\x3e\x27onsticky\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e);\n        }\n    };\n\n    $.initSticky = function(options){\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e new Sticky(options);\n    };\n})();\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3ehtml 结构\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cdiv class=\x26quot;m-nav\x26quot;\x3e\n            \x3cdiv class=\x26quot;nav-fixed fixed\x26quot; id=\x26quot;j-nav\x26quot; style=\x26quot;position: fixed; top: 0px; z-index: 100;\x26quot;\x3e\n                \x3cul class=\x26quot;f-cb\x26quot;\x3e\n                    \x3cli class=\x26quot;active\x26quot; anchor-id=\x26quot;j-understand\x26quot;\x3e了解儿童编程\x3c\/li\x3e\n                    \x3cli anchor-id=\x26quot;j-join\x26quot;\x3e参与公益直播课\x3c\/li\x3e\n                    \x3cli anchor-id=\x26quot;j-upload\x26quot;\x3e上传编程作品\x3c\/li\x3e\n                \x3c\/ul\x3e\n            \x3c\/div\x3e\n        \x3c\/div\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x26lt;div \x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22m-nav\x22\x3c\/span\x3e\x26gt;\n            \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22nav-fixed fixed\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22j-nav\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3estyle\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22position: fixed; top: 0px; z-index: 100;\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eul\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22f-cb\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22active\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eanchor-id\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22j-understand\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e了解儿童编程\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eanchor-id\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22j-join\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e参与公益直播课\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eanchor-id\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22j-upload\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e上传编程作品\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eul\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n        \x26lt;\x3cspan class=\x22hljs-regexp\x22\x3e\/div\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3ecss 结构\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22.g-page-box .m-nav\x26nbsp;{\n\n height:\x26nbsp;1.33333rem;\n\n}\n\n.g-page-box .m-nav .nav-fixed\x26nbsp;{\n\n height:\x26nbsp;.86667rem;\n padding:\x26nbsp;.22667rem .50667rem;\n background-color:\x26nbsp;#1aadbb;\n position:\x26nbsp;relative;\n transform:\x26nbsp;translate3d(0, 0, 0);\n -webkit-transform:\x26nbsp;translate3d(0, 0, 0);\n transition:\x26nbsp;height 4s;\n\n}\n\n.fixed{\nposition:\x26nbsp;fixed;\n top:\x26nbsp;0px;\n z-index:\x26nbsp;100;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs css\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.g-page-box\x3c\/span\x3e \x3cspan class=\x22hljs-selector-class\x22\x3e.m-nav\x3c\/span\x3e\x26nbsp;{\n\n \x3cspan class=\x22hljs-attribute\x22\x3eheight\x3c\/span\x3e:\x26nbsp;\x3cspan class=\x22hljs-number\x22\x3e1.33333rem\x3c\/span\x3e;\n\n}\n\n\x3cspan class=\x22hljs-selector-class\x22\x3e.g-page-box\x3c\/span\x3e \x3cspan class=\x22hljs-selector-class\x22\x3e.m-nav\x3c\/span\x3e \x3cspan class=\x22hljs-selector-class\x22\x3e.nav-fixed\x3c\/span\x3e\x26nbsp;{\n\n \x3cspan class=\x22hljs-attribute\x22\x3eheight\x3c\/span\x3e:\x26nbsp;.\x3cspan class=\x22hljs-number\x22\x3e86667rem\x3c\/span\x3e;\n \x3cspan class=\x22hljs-attribute\x22\x3epadding\x3c\/span\x3e:\x26nbsp;.\x3cspan class=\x22hljs-number\x22\x3e22667rem\x3c\/span\x3e .\x3cspan class=\x22hljs-number\x22\x3e50667rem\x3c\/span\x3e;\n \x3cspan class=\x22hljs-attribute\x22\x3ebackground-color\x3c\/span\x3e:\x26nbsp;\x3cspan class=\x22hljs-number\x22\x3e#1aadbb\x3c\/span\x3e;\n \x3cspan class=\x22hljs-attribute\x22\x3eposition\x3c\/span\x3e:\x26nbsp;relative;\n \x3cspan class=\x22hljs-attribute\x22\x3etransform\x3c\/span\x3e:\x26nbsp;\x3cspan class=\x22hljs-built_in\x22\x3etranslate3d\x3c\/span\x3e(0, 0, 0);\n \x3cspan class=\x22hljs-attribute\x22\x3e-webkit-transform\x3c\/span\x3e:\x26nbsp;\x3cspan class=\x22hljs-built_in\x22\x3etranslate3d\x3c\/span\x3e(0, 0, 0);\n \x3cspan class=\x22hljs-attribute\x22\x3etransition\x3c\/span\x3e:\x26nbsp;height \x3cspan class=\x22hljs-number\x22\x3e4s\x3c\/span\x3e;\n\n}\n\n\x3cspan class=\x22hljs-selector-class\x22\x3e.fixed\x3c\/span\x3e{\n\x3cspan class=\x22hljs-attribute\x22\x3eposition\x3c\/span\x3e:\x26nbsp;fixed;\n \x3cspan class=\x22hljs-attribute\x22\x3etop\x3c\/span\x3e:\x26nbsp;\x3cspan class=\x22hljs-number\x22\x3e0px\x3c\/span\x3e;\n \x3cspan class=\x22hljs-attribute\x22\x3ez-index\x3c\/span\x3e:\x26nbsp;\x3cspan class=\x22hljs-number\x22\x3e100\x3c\/span\x3e;\n}\x3c\/code\x3e\x3c\/pre\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>解决页面滚动时吸顶操作不能及时响应bug</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000008004300">https://segmentfault.com/a/1190000008004300</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/58ztskl01lt/" target="_blank">https://alili.tech/archive/58ztskl01lt/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/t42iv2yle7e/">2016-我的前端之路:工具化与工程化<aside class="dates">2019-01-29</aside></a></li><li><a href="/archive/xlhryjzdso/">2016年总结--成长<aside class="dates">2019-01-29</aside></a></li><li><a href="/archive/4wvjfeus9ur/">2016年末总结，我的前端之路<aside class="dates">2019-01-29</aside></a></li><li><a href="/archive/w7062tmcw3/">3D 视差效果<aside class="dates">2019-01-29</aside></a></li><li><a href="/archive/5jt1iw1t77b/">AlloyTouch实战--60行代码搞定QQ看点资料卡<aside class="dates">2019-01-29</aside></a></li><li><a href="/archive/kquf0fxkw2j/">ES6，你不得不学！<aside class="dates">2019-01-29</aside></a></li><li><a href="/archive/r5b6g4133jh/">Emmet-前端开发神器<aside class="dates">2019-01-29</aside></a></li><li><a href="/archive/5dbaikv4emi/">FreeCodeCamp中级算法题答案<aside class="dates">2019-01-29</aside></a></li><li><a href="/archive/iuyeljg6lm/">JSONP是什么<aside class="dates">2019-01-29</aside></a></li><li><a href="/archive/23ftsgrtzzc/">JS中的观察者模式(发布订阅)<aside class="dates">2019-01-29</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>