<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="wepy - 一个小程序的组件化开发框架"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>wepy - 一个小程序的组件化开发框架 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/nblhbm9ux1a/",
				"appid": "1613049289050283", 
				"title": "wepy - 一个小程序的组件化开发框架 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-31T02:31:16"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/c39a72kv7na/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/6rinevblqcq/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fnblhbm9ux1a%2f&text=wepy%20-%20%e4%b8%80%e4%b8%aa%e5%b0%8f%e7%a8%8b%e5%ba%8f%e7%9a%84%e7%bb%84%e4%bb%b6%e5%8c%96%e5%bc%80%e5%8f%91%e6%a1%86%e6%9e%b6"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fnblhbm9ux1a%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fnblhbm9ux1a%2f&text=wepy%20-%20%e4%b8%80%e4%b8%aa%e5%b0%8f%e7%a8%8b%e5%ba%8f%e7%9a%84%e7%bb%84%e4%bb%b6%e5%8c%96%e5%bc%80%e5%8f%91%e6%a1%86%e6%9e%b6"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fnblhbm9ux1a%2f&title=wepy%20-%20%e4%b8%80%e4%b8%aa%e5%b0%8f%e7%a8%8b%e5%ba%8f%e7%9a%84%e7%bb%84%e4%bb%b6%e5%8c%96%e5%bc%80%e5%8f%91%e6%a1%86%e6%9e%b6"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fnblhbm9ux1a%2f&is_video=false&description=wepy%20-%20%e4%b8%80%e4%b8%aa%e5%b0%8f%e7%a8%8b%e5%ba%8f%e7%9a%84%e7%bb%84%e4%bb%b6%e5%8c%96%e5%bc%80%e5%8f%91%e6%a1%86%e6%9e%b6"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=wepy%20-%20%e4%b8%80%e4%b8%aa%e5%b0%8f%e7%a8%8b%e5%ba%8f%e7%9a%84%e7%bb%84%e4%bb%b6%e5%8c%96%e5%bc%80%e5%8f%91%e6%a1%86%e6%9e%b6&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fnblhbm9ux1a%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fnblhbm9ux1a%2f&title=wepy%20-%20%e4%b8%80%e4%b8%aa%e5%b0%8f%e7%a8%8b%e5%ba%8f%e7%9a%84%e7%bb%84%e4%bb%b6%e5%8c%96%e5%bc%80%e5%8f%91%e6%a1%86%e6%9e%b6"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fnblhbm9ux1a%2f&title=wepy%20-%20%e4%b8%80%e4%b8%aa%e5%b0%8f%e7%a8%8b%e5%ba%8f%e7%9a%84%e7%bb%84%e4%bb%b6%e5%8c%96%e5%bc%80%e5%8f%91%e6%a1%86%e6%9e%b6"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fnblhbm9ux1a%2f&title=wepy%20-%20%e4%b8%80%e4%b8%aa%e5%b0%8f%e7%a8%8b%e5%ba%8f%e7%9a%84%e7%bb%84%e4%bb%b6%e5%8c%96%e5%bc%80%e5%8f%91%e6%a1%86%e6%9e%b6"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fnblhbm9ux1a%2f&title=wepy%20-%20%e4%b8%80%e4%b8%aa%e5%b0%8f%e7%a8%8b%e5%ba%8f%e7%9a%84%e7%bb%84%e4%bb%b6%e5%8c%96%e5%bc%80%e5%8f%91%e6%a1%86%e6%9e%b6"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">wepy - 一个小程序的组件化开发框架</h1><div class="meta"><div class="postdate"><time datetime="2019-01-31" itemprop="datePublished">2019-01-31</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch1 id=\x22articleHeader0\x22\x3e小程序框架wepy文档\x3c\/h1\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/github.com\/wepyjs\/wepy\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eGithub地址\x3c\/a\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e快速入门\x3c\/h2\x3e\n\x3ch3 id=\x22articleHeader2\x22\x3e项目创建与使用\x3c\/h3\x3e\n\x3ch4\x3e安装wepy\x3c\/h4\x3e\n\x3cp\x3e以下安装都通过\x3ccode\x3enpm\x3c\/code\x3e安装\x3c\/p\x3e\n\x3cp\x3e安装 wepy 命令行工具。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22npm install wepy-cli -g\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3enpm install wepy-cli -g\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在开发目录生成开发DEMO。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22wepy new myproject\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3ewepy new myproject\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e开发实时编译。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22wepy build --watch\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3ewepy build --watch\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch4\x3e项目目录结构\x3c\/h4\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22    dist\n    node_modules\n    src\n        components\n            com_a.wpy\n            com_b.wpy\n        pages\n            index.wpy\n            page2.wpy\n        app.wpy\n    package.json\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode\x3e    dist\n    node_modules\n    src\n        components\n            com_a\x3cspan class=\x22hljs-selector-class\x22\x3e.wpy\x3c\/span\x3e\n            com_b\x3cspan class=\x22hljs-selector-class\x22\x3e.wpy\x3c\/span\x3e\n        pages\n            index\x3cspan class=\x22hljs-selector-class\x22\x3e.wpy\x3c\/span\x3e\n            page2\x3cspan class=\x22hljs-selector-class\x22\x3e.wpy\x3c\/span\x3e\n        app\x3cspan class=\x22hljs-selector-class\x22\x3e.wpy\x3c\/span\x3e\n    package.json\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch4\x3e开发使用说明\x3c\/h4\x3e\n\x3col\x3e\n\x3cli\x3e\x3cp\x3e使用\x3ccode\x3e微信开发者工具\x3c\/code\x3e新建项目，本地开发选择\x3ccode\x3edist\x3c\/code\x3e目录。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ccode\x3e微信开发者工具\x3c\/code\x3e --\x26gt; 项目 --\x26gt; 关闭ES6转ES5。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e本地项目根目录运行\x3ccode\x3ewepy build --watch\x3c\/code\x3e，开启实时编译。\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3ch3 id=\x22articleHeader3\x22\x3e代码规范：\x3c\/h3\x3e\n\x3col\x3e\n\x3cli\x3e\x3cp\x3e变量与方法使用尽量使用驼峰式命名，避免使用\x3ccode\x3e$\x3c\/code\x3e开头。\x3cbr\x3e以\x3ccode\x3e$\x3c\/code\x3e开头的方法或者属性为框架内建方法或者属性，可以被使用，使用前请[参考API文档]()。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e入口，页面，组件的命名后缀为\x3ccode\x3e.wpy\x3c\/code\x3e。外链的文件可以是其它后缀。\x3cbr\x3e请参考\x3ca\x3ewpy文件说明\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e使用ES6语法开发。\x3cbr\x3e框架在ES6下开发，因此也需要使用ES6开发小程序，ES6中有大量的语法糖可以让我们的代码更加简洁高效。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e使用Promise\x3cbr\x3e框架默认对小程序提供的API全都进行了 Promise 处理，甚至可以直接使用\x3ccode\x3easync\/await\x3c\/code\x3e等新特性进行开发。\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3ch2 id=\x22articleHeader4\x22\x3e主要解决问题：\x3c\/h2\x3e\n\x3ch3 id=\x22articleHeader5\x22\x3e1. 开发模式转换\x3c\/h3\x3e\n\x3cp\x3e在原有的小程序的开发模式下进行再次封装，更贴近于现有MVVM框架开发模式。框架在开发过程中参考了一些现在框架的一些特性，并且融入其中，以下是使用wepy前后的代码对比图。\x3c\/p\x3e\n\x3cp\x3e官方DEMO代码：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/index.js\n\/\/获取应用实例\nvar app = getApp()\nPage({\n  data: {\n    motto: \x27Hello World\x27,\n    userInfo: {}\n  },\n  \/\/事件处理函数\n  bindViewTap: function() {\n    console.log(\x27button clicked\x27)\n  },\n  onLoad: function () {\n    console.log(\x27onLoad\x27)\n  }\n})\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/index.js\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/获取应用实例\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e app = getApp()\nPage({\n  \x3cspan class=\x22hljs-attr\x22\x3edata\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-attr\x22\x3emotto\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27Hello World\x27\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3euserInfo\x3c\/span\x3e: {}\n  },\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/事件处理函数\x3c\/span\x3e\n  bindViewTap: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27button clicked\x27\x3c\/span\x3e)\n  },\n  \x3cspan class=\x22hljs-attr\x22\x3eonLoad\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27onLoad\x27\x3c\/span\x3e)\n  }\n})\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e基于wepy的实现：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import wepy from \x27wepy\x27;\n\nexport default class Index extends wepy.page {\n\n    data = {\n        motto: \x27Hello World\x27,\n        userInfo: {}\n    };\n    methods = {\n        bindViewTap () {\n            console.log(\x27button clicked\x27);\n        }\n    };\n    onLoad() {\n        console.log(\x27onLoad\x27);\n    };\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e wepy \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27wepy\x27\x3c\/span\x3e;\n\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e \x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eIndex\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eextends\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ewepy\x3c\/span\x3e.\x3cspan class=\x22hljs-title\x22\x3epage\x3c\/span\x3e \x3c\/span\x3e{\n\n    data = {\n        \x3cspan class=\x22hljs-attr\x22\x3emotto\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27Hello World\x27\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3euserInfo\x3c\/span\x3e: {}\n    };\n    methods = {\n        bindViewTap () {\n            \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27button clicked\x27\x3c\/span\x3e);\n        }\n    };\n    onLoad() {\n        \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27onLoad\x27\x3c\/span\x3e);\n    };\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader6\x22\x3e2. 支持组件化开发。\x3c\/h3\x3e\n\x3cp\x3e参见章节：\x3ca\x3e组件\x3c\/a\x3e\x3cbr\x3e示例代码：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ index.wpy\n\x3ctemplate\x3e\n    \x3cview\x3e\n        \x3ccomponent id=\x26quot;pannel\x26quot; path=\x26quot;pannel\x26quot;\x3e\x3c\/component\x3e\n        \x3ccomponent id=\x26quot;counter1\x26quot; path=\x26quot;counter\x26quot;\x3e\x3c\/component\x3e\n        \x3ccomponent id=\x26quot;counter2\x26quot; path=\x26quot;counter\x26quot;\x3e\x3c\/component\x3e\n        \x3ccomponent id=\x26quot;list\x26quot; path=\x26quot;list\x26quot;\x3e\x3c\/component\x3e\n    \x3c\/view\x3e\n\x3c\/template\x3e\n\x3cscript\x3e\nimport wepy from \x27wepy\x27;\nimport List from \x27..\/components\/list\x27;\nimport Panel from \x27..\/components\/panel\x27;\nimport Counter from \x27..\/components\/counter\x27;\n\nexport default class Index extends wepy.page {\n\n    config = {\n        \x26quot;navigationBarTitleText\x26quot;: \x26quot;test\x26quot;\n    };\n    components = {\n        panel: Panel,\n        counter1: Counter,\n        counter2: Counter,\n        list: List\n    };\n}\n\x3c\/script\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22xml hljs\x22\x3e\x3ccode class=\x22html\x22\x3e\/\/ index.wpy\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eview\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ecomponent\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22pannel\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3epath\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22pannel\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ecomponent\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ecomponent\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22counter1\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3epath\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22counter\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ecomponent\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ecomponent\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22counter2\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3epath\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22counter\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ecomponent\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ecomponent\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22list\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3epath\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22list\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ecomponent\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eview\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22javascript\x22\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e wepy \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27wepy\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e List \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27..\/components\/list\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e Panel \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27..\/components\/panel\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e Counter \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27..\/components\/counter\x27\x3c\/span\x3e;\n\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e \x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eIndex\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eextends\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ewepy\x3c\/span\x3e.\x3cspan class=\x22hljs-title\x22\x3epage\x3c\/span\x3e \x3c\/span\x3e{\n\n    config = {\n        \x3cspan class=\x22hljs-string\x22\x3e\x22navigationBarTitleText\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22test\x22\x3c\/span\x3e\n    };\n    components = {\n        \x3cspan class=\x22hljs-attr\x22\x3epanel\x3c\/span\x3e: Panel,\n        \x3cspan class=\x22hljs-attr\x22\x3ecounter1\x3c\/span\x3e: Counter,\n        \x3cspan class=\x22hljs-attr\x22\x3ecounter2\x3c\/span\x3e: Counter,\n        \x3cspan class=\x22hljs-attr\x22\x3elist\x3c\/span\x3e: List\n    };\n}\n\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader7\x22\x3e3. 支持加载外部NPM包。\x3c\/h3\x3e\n\x3cp\x3e在编译过程当中，会递归遍历代码中的\x3ccode\x3erequire\x3c\/code\x3e然后将对应依赖文件从node_modules当中拷贝出来，并且修改\x3ccode\x3erequire\x3c\/code\x3e为相对路径，从而实现对外部NPM包的支持。如下图：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22https:\/\/cloud.githubusercontent.com\/assets\/2182004\/20554645\/482b0f64-b198-11e6-8d4e-70c92326004f.png\x22 src=\x22https:\/\/static.alili.techhttps:\/\/cloud.githubusercontent.com\/assets\/2182004\/20554645\/482b0f64-b198-11e6-8d4e-70c92326004f.png\x22 alt=\x22npm\x22 title=\x22npm\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader8\x22\x3e4. 单文件模式，使得目录结构更加清晰。\x3c\/h3\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/mp.weixin.qq.com\/debug\/wxadoc\/dev\/framework\/structure.html?t=20161107\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e官方目录结构\x3c\/a\x3e要求app必须有三个文件\x3ccode\x3eapp.json\x3c\/code\x3e，\x3ccode\x3eapp.js\x3c\/code\x3e，\x3ccode\x3eapp.wxss\x3c\/code\x3e，页面有4个文件 \x3ccode\x3eindex.json\x3c\/code\x3e，\x3ccode\x3eindex.js\x3c\/code\x3e，\x3ccode\x3eindex.wxml\x3c\/code\x3e，\x3ccode\x3eindex.wxss\x3c\/code\x3e。而且文件必须同名。\x3cbr\x3e所以使用wepy开发前后开发目录对比如下：\x3cbr\x3e官方DEMO：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22project\n    pages\n        index\n            index.json\n            index.js\n            index.wxml\n            index.wxss\n        log\n            log.json\n            log.wxml\n            log.js\n            log.wxss\n    app.js\n    app.json\n    app.wxss\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode\x3eproject\n    pages\n        index\n            index\x3cspan class=\x22hljs-selector-class\x22\x3e.json\x3c\/span\x3e\n            index\x3cspan class=\x22hljs-selector-class\x22\x3e.js\x3c\/span\x3e\n            index\x3cspan class=\x22hljs-selector-class\x22\x3e.wxml\x3c\/span\x3e\n            index\x3cspan class=\x22hljs-selector-class\x22\x3e.wxss\x3c\/span\x3e\n        log\n            log\x3cspan class=\x22hljs-selector-class\x22\x3e.json\x3c\/span\x3e\n            log\x3cspan class=\x22hljs-selector-class\x22\x3e.wxml\x3c\/span\x3e\n            log\x3cspan class=\x22hljs-selector-class\x22\x3e.js\x3c\/span\x3e\n            log\x3cspan class=\x22hljs-selector-class\x22\x3e.wxss\x3c\/span\x3e\n    app\x3cspan class=\x22hljs-selector-class\x22\x3e.js\x3c\/span\x3e\n    app\x3cspan class=\x22hljs-selector-class\x22\x3e.json\x3c\/span\x3e\n    app.wxss\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e使用wepy框架后目录结构：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22project\n    src\n        pages\n            index.wpy\n            log.wpy\n        app.wpy\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode\x3eproject\n    src\n        pages\n            index\x3cspan class=\x22hljs-selector-class\x22\x3e.wpy\x3c\/span\x3e\n            log\x3cspan class=\x22hljs-selector-class\x22\x3e.wpy\x3c\/span\x3e\n        app.wpy\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader9\x22\x3e5. 默认使用babel编译，支持ES6\/7的一些新特性。\x3c\/h3\x3e\n\x3cp\x3e用户可以通过修改\x3ccode\x3e.wepyrc\x3c\/code\x3e配置文件，配置自己熟悉的babel环境进行开发。默认开启使用了一些新的特性如\x3ccode\x3epromise\x3c\/code\x3e，\x3ccode\x3easync\/await\x3c\/code\x3e等等。\x3c\/p\x3e\n\x3cp\x3e示例代码：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import wepy from \x27wepy\x27;\n\nexport default class Index extends wepy.page {\n\n    getData() {\n        return new Promise((resolve, reject) =\x3e {\n            setTimeout(() =\x3e {\n                resolve({data: 123});\n            }, 3000);\n        });\n    };\n    async onLoad() {\n        let data = await this.getData();\n        console.log(data.data);\n    };\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e wepy \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27wepy\x27\x3c\/span\x3e;\n\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e \x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eIndex\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eextends\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ewepy\x3c\/span\x3e.\x3cspan class=\x22hljs-title\x22\x3epage\x3c\/span\x3e \x3c\/span\x3e{\n\n    getData() {\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3ePromise\x3c\/span\x3e(\x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3eresolve, reject\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n            setTimeout(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n                resolve({\x3cspan class=\x22hljs-attr\x22\x3edata\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e123\x3c\/span\x3e});\n            }, \x3cspan class=\x22hljs-number\x22\x3e3000\x3c\/span\x3e);\n        });\n    };\n    \x3cspan class=\x22hljs-keyword\x22\x3easync\x3c\/span\x3e onLoad() {\n        \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e data = \x3cspan class=\x22hljs-keyword\x22\x3eawait\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.getData();\n        \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(data.data);\n    };\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader10\x22\x3e6. 针对原生API进行优化。\x3c\/h3\x3e\n\x3cp\x3e对现在API进行promise处理，同时修复一些现有API的缺陷，比如：wx.request并发问题等。\x3cbr\x3e原有代码：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22onLoad = function () {\n    var self = this;\n    wx.login({\n        success: function (data) {\n            wx.getUserInfo({\n                success: function (userinfo) {\n                    self.setData({userInfo: userinfo});\n                }\n            });\n        }\n    });\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3eonLoad = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e self = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e;\n    wx.login({\n        \x3cspan class=\x22hljs-attr\x22\x3esuccess\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3edata\x3c\/span\x3e) \x3c\/span\x3e{\n            wx.getUserInfo({\n                \x3cspan class=\x22hljs-attr\x22\x3esuccess\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3euserinfo\x3c\/span\x3e) \x3c\/span\x3e{\n                    self.setData({\x3cspan class=\x22hljs-attr\x22\x3euserInfo\x3c\/span\x3e: userinfo});\n                }\n            });\n        }\n    });\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e基于wepy实现代码：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22async onLoad() {\n    await wx.login();\n    this.userInfo = await wx.getUserInfo();\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3easync\x3c\/span\x3e onLoad() {\n    \x3cspan class=\x22hljs-keyword\x22\x3eawait\x3c\/span\x3e wx.login();\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.userInfo = \x3cspan class=\x22hljs-keyword\x22\x3eawait\x3c\/span\x3e wx.getUserInfo();\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在同时并发10个request请求测试时：\x3cbr\x3e不使用wepy:\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22https:\/\/cloud.githubusercontent.com\/assets\/2182004\/20554651\/5185f740-b198-11e6-88f8-45e359090dc3.png\x22 src=\x22https:\/\/static.alili.techhttps:\/\/cloud.githubusercontent.com\/assets\/2182004\/20554651\/5185f740-b198-11e6-88f8-45e359090dc3.png\x22 alt=\x222 small\x22 title=\x222 small\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22https:\/\/cloud.githubusercontent.com\/assets\/2182004\/20554886\/c30e802a-b199-11e6-927d-08cd4e5ed0b0.png\x22 src=\x22https:\/\/static.alili.techhttps:\/\/cloud.githubusercontent.com\/assets\/2182004\/20554886\/c30e802a-b199-11e6-927d-08cd4e5ed0b0.png\x22 alt=\x223 small\x22 title=\x223 small\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e使用wepy后：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22https:\/\/cloud.githubusercontent.com\/assets\/2182004\/20554663\/65704c2e-b198-11e6-8277-abb77e0c7b3e.png\x22 src=\x22https:\/\/static.alili.techhttps:\/\/cloud.githubusercontent.com\/assets\/2182004\/20554663\/65704c2e-b198-11e6-8277-abb77e0c7b3e.png\x22 alt=\x224 small\x22 title=\x224 small\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader11\x22\x3e进阶说明\x3c\/h2\x3e\n\x3ch3 id=\x22articleHeader12\x22\x3e.wepyrc 配置文件说明\x3c\/h3\x3e\n\x3cp\x3e执行\x3ccode\x3ewepy new demo\x3c\/code\x3e后，会生成类似配置文件。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22{\n  \x26quot;wpyExt\x26quot;: \x26quot;.wpy\x26quot;,\n  \x26quot;sass\x26quot;: {},\n  \x26quot;less\x26quot;: {},\n  \x26quot;babel\x26quot;: {}\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs json\x22\x3e\x3ccode\x3e{\n  \x3cspan class=\x22hljs-attr\x22\x3e\x22wpyExt\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22.wpy\x22\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-attr\x22\x3e\x22sass\x22\x3c\/span\x3e: {},\n  \x3cspan class=\x22hljs-attr\x22\x3e\x22less\x22\x3c\/span\x3e: {},\n  \x3cspan class=\x22hljs-attr\x22\x3e\x22babel\x22\x3c\/span\x3e: {}\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cstrong\x3ewpyExt：\x3c\/strong\x3e缺省值为\x27.wpy\x27，IDE默认情况下不会对此文件类型高亮，此时可以修改所有文件为\x3ccode\x3e.vue\x3c\/code\x3e后缀(因为与vue高亮规则一样)，然后将此选项修改为\x3ccode\x3e.vue\x3c\/code\x3e，就能解决部分IDE代码高亮问题。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3esass：\x3c\/strong\x3esass编译配置，参见\x3ca href=\x22https:\/\/github.com\/sass\/node-sass\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e这里\x3c\/a\x3e。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3eless：\x3c\/strong\x3eless编译配置，参见\x3ca href=\x22http:\/\/lesscss.org\/#using-less-usage-in-code\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e这里\x3c\/a\x3e。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3ebabel：\x3c\/strong\x3ebabel编译配置，参见\x3ca href=\x22http:\/\/babeljs.io\/docs\/usage\/options\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e这里\x3c\/a\x3e。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader13\x22\x3ewpy文件说明\x3c\/h3\x3e\n\x3cp\x3e\x3ccode\x3ewpy\x3c\/code\x3e文件的编译过程过下：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22https:\/\/cloud.githubusercontent.com\/assets\/2182004\/20554671\/70a797a0-b198-11e6-8355-b7c234713d0c.png\x22 src=\x22https:\/\/static.alili.techhttps:\/\/cloud.githubusercontent.com\/assets\/2182004\/20554671\/70a797a0-b198-11e6-8355-b7c234713d0c.png\x22 alt=\x225 small\x22 title=\x225 small\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e一个\x3ccode\x3e.wpy\x3c\/code\x3e文件分为三个部分：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\x3cp\x3e样式\x3ccode\x3e\x26lt;style\x26gt;\x26lt;\/style\x26gt;\x3c\/code\x3e对应原有\x3ccode\x3ewxss\x3c\/code\x3e。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e模板\x3ccode\x3e\x26lt;template\x26gt;\x26lt;\/template\x26gt;\x3c\/code\x3e对应原有\x3ccode\x3ewxml\x3c\/code\x3e。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e代码\x3ccode\x3e\x26lt;script\x26gt;\x26lt;\/script\x26gt;\x3c\/code\x3e对应原有\x3ccode\x3ejs\x3c\/code\x3e。\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e其中入口文件\x3ccode\x3eapp.wpy\x3c\/code\x3e不需要\x3ccode\x3etemplate\x3c\/code\x3e，所以编译时会被忽略。这三个标签都支持\x3ccode\x3etype\x3c\/code\x3e和\x3ccode\x3esrc\x3c\/code\x3e属性，\x3ccode\x3etype\x3c\/code\x3e决定了其代码编译过程，\x3ccode\x3esrc\x3c\/code\x3e决定是否外联代码，存在\x3ccode\x3esrc\x3c\/code\x3e属性且有效时，忽略内联代码，示例如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cstyle type=\x26quot;less\x26quot; src=\x26quot;page1.less\x26quot;\x3e\x3c\/style\x3e\n\x3ctemplate type=\x26quot;wxml\x26quot; src=\x26quot;page1.wxml\x26quot;\x3e\x3c\/template\x3e\n\x3cscript\x3e\n    \/\/ some code\n\x3c\/script\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xml\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3estyle\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22less\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22page1.less\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22undefined\x22\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3estyle\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22wxml\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22page1.wxml\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22actionscript\x22\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ some code\x3c\/span\x3e\n\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e标签对应 \x3ccode\x3etype\x3c\/code\x3e 值如下表所示：\x3c\/p\x3e\n\x3ctable\x3e\n\x3cthead\x3e\x3ctr\x3e\n\x3cth\x3e标签\x3c\/th\x3e\n\x3cth\x3etype默认值\x3c\/th\x3e\n\x3cth\x3etype支持值\x3c\/th\x3e\n\x3c\/tr\x3e\x3c\/thead\x3e\n\x3ctbody\x3e\n\x3ctr\x3e\n\x3ctd\x3estyle\x3c\/td\x3e\n\x3ctd\x3e\x3ccode\x3ecss\x3c\/code\x3e\x3c\/td\x3e\n\x3ctd\x3e\n\x3ccode\x3ecss\x3c\/code\x3e，\x3ccode\x3eless\x3c\/code\x3e，\x3ccode\x3esass（待完成）\x3c\/code\x3e\n\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3etemplate\x3c\/td\x3e\n\x3ctd\x3e\x3ccode\x3ewxml\x3c\/code\x3e\x3c\/td\x3e\n\x3ctd\x3e\n\x3ccode\x3ewxml\x3c\/code\x3e，\x3ccode\x3exml\x3c\/code\x3e，\x3ccode\x3ehtml（待完成）\x3c\/code\x3e\n\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3escript\x3c\/td\x3e\n\x3ctd\x3e\x3ccode\x3ejs\x3c\/code\x3e\x3c\/td\x3e\n\x3ctd\x3e\n\x3ccode\x3ejs\x3c\/code\x3e，\x3ccode\x3eTypeScript(待完成)\x3c\/code\x3e\n\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3c\/tbody\x3e\n\x3c\/table\x3e\n\x3ch3 id=\x22articleHeader14\x22\x3escript说明\x3c\/h3\x3e\n\x3ch4\x3e程序入口app.wpy\x3c\/h4\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cstyle type=\x26quot;less\x26quot;\x3e\n\/** less **\/\n\x3c\/style\x3e\n\x3cscript\x3e\nimport wepy from \x27wepy\x27;\nexport default class extends wepy.app {\n    config = {\n            \x26quot;pages\x26quot;:[\n            \x26quot;pages\/index\/index\x26quot;\n        ],\n        \x26quot;window\x26quot;:{\n            \x26quot;backgroundTextStyle\x26quot;: \x26quot;light\x26quot;,\n            \x26quot;navigationBarBackgroundColor\x26quot;: \x26quot;#fff\x26quot;,\n            \x26quot;navigationBarTitleText\x26quot;: \x26quot;WeChat\x26quot;,\n            \x26quot;navigationBarTextStyle\x26quot;: \x26quot;black\x26quot;\n        }\n    };\n    onLaunch() {\n        console.log(this);\n    }\n}\n\x3c\/script\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xml\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3estyle\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22less\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22css\x22\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/** less **\/\x3c\/span\x3e\n\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3estyle\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22javascript\x22\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e wepy \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27wepy\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e \x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eextends\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ewepy\x3c\/span\x3e.\x3cspan class=\x22hljs-title\x22\x3eapp\x3c\/span\x3e \x3c\/span\x3e{\n    config = {\n            \x3cspan class=\x22hljs-string\x22\x3e\x22pages\x22\x3c\/span\x3e:[\n            \x3cspan class=\x22hljs-string\x22\x3e\x22pages\/index\/index\x22\x3c\/span\x3e\n        ],\n        \x3cspan class=\x22hljs-string\x22\x3e\x22window\x22\x3c\/span\x3e:{\n            \x3cspan class=\x22hljs-string\x22\x3e\x22backgroundTextStyle\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22light\x22\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-string\x22\x3e\x22navigationBarBackgroundColor\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22#fff\x22\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-string\x22\x3e\x22navigationBarTitleText\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22WeChat\x22\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-string\x22\x3e\x22navigationBarTextStyle\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22black\x22\x3c\/span\x3e\n        }\n    };\n    onLaunch() {\n        \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e);\n    }\n}\n\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e入口\x3ccode\x3eapp.wpy\x3c\/code\x3e继承自\x3ccode\x3ewepy.app\x3c\/code\x3e，包含一个\x3ccode\x3econfig\x3c\/code\x3e属性和其全局属性、方法、事件。其中\x3ccode\x3econfig\x3c\/code\x3e属性对应原有的\x3ccode\x3eapp.json\x3c\/code\x3e，编译时会根据\x3ccode\x3econfig\x3c\/code\x3e生成\x3ccode\x3eapp.json\x3c\/code\x3e文件，如果需要修改\x3ccode\x3econfig\x3c\/code\x3e中的内容，请使用系统提供API。\x3c\/p\x3e\n\x3ch4\x3e页面index.wpy\x3c\/h4\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cstyle type=\x26quot;less\x26quot;\x3e\n\/** less **\/\n\x3c\/style\x3e\n\x3ctemplate type=\x26quot;wxml\x26quot;\x3e\n    \x3cview\x3e\n    \x3c\/view\x3e\n    \x3ccomponent id=\x26quot;counter1\x26quot; path=\x26quot;counter\x26quot;\x3e\x3c\/component\x3e\n\x3c\/template\x3e\n\x3cscript\x3e\nimport wepy form \x27wepy\x27;\nimport Counter from \x27..\/components\/counter\x27;\nexport default class Index extends wepy.page {\n\n    config = {};\n    components = {counter1: Counter};\n\n    data = {};\n    methods = {};\n\n    events = {};\n    onLoad() {};\n    \/\/ Other properties\n}\n\x3c\/script\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs dust\x22\x3e\x3ccode\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3estyle\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22less\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22css\x22\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/** less **\/\x3c\/span\x3e\n\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3estyle\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22wxml\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eview\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eview\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ecomponent\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22counter1\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3epath\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22counter\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ecomponent\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22javascript\x22\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e wepy form \x3cspan class=\x22hljs-string\x22\x3e\x27wepy\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e Counter \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27..\/components\/counter\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e \x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eIndex\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eextends\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ewepy\x3c\/span\x3e.\x3cspan class=\x22hljs-title\x22\x3epage\x3c\/span\x3e \x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e{\n\n    config = {}\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22undefined\x22\x3e;\n    components = \x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e{counter1: Counter}\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22undefined\x22\x3e;\n\n    data = \x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e{}\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22undefined\x22\x3e;\n    methods = \x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e{}\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22undefined\x22\x3e;\n\n    events = \x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e{}\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22undefined\x22\x3e;\n    onLoad() \x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e{}\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22actionscript\x22\x3e;\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Other properties\x3c\/span\x3e\n}\n\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e页面入口继承自\x3ccode\x3ewepy.page\x3c\/code\x3e，主要属性说明如下：\x3c\/p\x3e\n\x3ctable\x3e\n\x3cthead\x3e\x3ctr\x3e\n\x3cth\x3e属性\x3c\/th\x3e\n\x3cth\x3e说明\x3c\/th\x3e\n\x3c\/tr\x3e\x3c\/thead\x3e\n\x3ctbody\x3e\n\x3ctr\x3e\n\x3ctd\x3econfig\x3c\/td\x3e\n\x3ctd\x3e页面config，相当于原来的index.json，同\x3ccode\x3eapp.wpy\x3c\/code\x3e中的config\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3ecomponents\x3c\/td\x3e\n\x3ctd\x3e页面引入的组件列表\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3edata\x3c\/td\x3e\n\x3ctd\x3e页面需要渲染的数据\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3emethods\x3c\/td\x3e\n\x3ctd\x3ewmxl的事件捕捉，如\x3ccode\x3ebindtap\x3c\/code\x3e，\x3ccode\x3ebindchange\x3c\/code\x3e\n\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3eevents\x3c\/td\x3e\n\x3ctd\x3e组件之间通过\x3ccode\x3ebroadcast\x3c\/code\x3e，\x3ccode\x3eemit\x3c\/code\x3e传递的事件\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3e其它\x3c\/td\x3e\n\x3ctd\x3e如\x3ccode\x3eonLoad\x3c\/code\x3e，\x3ccode\x3eonReady\x3c\/code\x3e等小程序事件以及其它自定义方法与属性\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3c\/tbody\x3e\n\x3c\/table\x3e\n\x3ch4\x3e组件com.wpy\x3c\/h4\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cstyle type=\x26quot;less\x26quot;\x3e\n\/** less **\/\n\x3c\/style\x3e\n\x3ctemplate type=\x26quot;wxml\x26quot;\x3e\n    \x3cview\x3e  \x3c\/view\x3e\n\x3c\/template\x3e\n\x3cscript\x3e\nimport wepy form \x27wepy\x27;\nexport default class Com extends wepy.component {\n\n    components = {};\n\n    data = {};\n    methods = {};\n\n    events = {};\n    \/\/ Other properties\n}\n\x3c\/script\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs dust\x22\x3e\x3ccode\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3estyle\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22less\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22css\x22\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/** less **\/\x3c\/span\x3e\n\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3estyle\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22wxml\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eview\x3c\/span\x3e\x26gt;\x3c\/span\x3e  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eview\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22javascript\x22\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e wepy form \x3cspan class=\x22hljs-string\x22\x3e\x27wepy\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e \x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eCom\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eextends\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ewepy\x3c\/span\x3e.\x3cspan class=\x22hljs-title\x22\x3ecomponent\x3c\/span\x3e \x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e{\n\n    components = {}\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22undefined\x22\x3e;\n\n    data = \x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e{}\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22undefined\x22\x3e;\n    methods = \x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e{}\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22undefined\x22\x3e;\n\n    events = \x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e{}\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22actionscript\x22\x3e;\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Other properties\x3c\/span\x3e\n}\n\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e页面入口继承自\x3ccode\x3ewepy.component\x3c\/code\x3e，属性与页面属性一样，除了不需要\x3ccode\x3econfig\x3c\/code\x3e以及页面特有的一些小程序事件等等。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader15\x22\x3e组件\x3c\/h3\x3e\n\x3cp\x3e小程序支持js\x3ca href=\x22https:\/\/mp.weixin.qq.com\/debug\/wxadoc\/dev\/framework\/app-service\/module.html?t=20161107\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e模块化\x3c\/a\x3e引用，也支持\x3ca href=\x22https:\/\/mp.weixin.qq.com\/debug\/wxadoc\/dev\/framework\/view\/wxml\/template.html?t=20161107\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ewxml模板\x3c\/a\x3e，但彼此独立，业务代码与交互事件仍需在页面处理。无法实现组件化的松耦合与复用的效果。\x3cbr\x3e例如模板A中绑定一个\x3ccode\x3ebindtap=\x22myclick\x22\x3c\/code\x3e，模板B中同样绑定一样\x3ccode\x3ebindtap=\x22myclick\x22\x3c\/code\x3e，那么就会影响同一个页面事件。对于数据同样如此。因此只有通过改变变量或者事件方法，或者给其加不同前缀才能实现绑定不同事件或者不同数据。当页面复杂之后就十分不利于开发维护。\x3cbr\x3e因此wepy让小程序支持组件化开发，组件的所有业务与功能在组件本身实现，组件与组件之间彼此隔离，上述例子在wepy的组件化开发过程中，A组件只会影响到A绑定的\x3ccode\x3emyclick\x3c\/code\x3e，B也如此。\x3c\/p\x3e\n\x3ch4\x3e组件引用\x3c\/h4\x3e\n\x3cp\x3e当页面或者组件需要引入子组件时，需要在页面或者\x3ccode\x3escript\x3c\/code\x3e中的\x3ccode\x3ecomponents\x3c\/code\x3e给组件分配唯一id，并且在\x3ccode\x3etemplate\x3c\/code\x3e中添加\x3ccode\x3e\x26lt;component\x26gt;\x3c\/code\x3e标签，如\x3ca\x3eindex.wpy\x3c\/a\x3e。\x3c\/p\x3e\n\x3cp\x3e页面和组件都可以引入子组件，引入若干组件后，如下图：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22https:\/\/cloud.githubusercontent.com\/assets\/2182004\/20554681\/796da1ae-b198-11e6-91ab-e90f485c594d.png\x22 src=\x22https:\/\/static.alili.techhttps:\/\/cloud.githubusercontent.com\/assets\/2182004\/20554681\/796da1ae-b198-11e6-91ab-e90f485c594d.png\x22 alt=\x226 small\x22 title=\x226 small\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3eIndex页面引入A，B，C三个组件，同时组件A和B又有自己的子组件D，E，F，G，H。\x3c\/p\x3e\n\x3ch4\x3e组件通信与交互\x3c\/h4\x3e\n\x3cp\x3e\x3ccode\x3ewepy.component\x3c\/code\x3e基类提供三个方法\x3ccode\x3e$broadcast\x3c\/code\x3e，\x3ccode\x3e$emit\x3c\/code\x3e，\x3ccode\x3e$invoke\x3c\/code\x3e，因此任一页面或任一组件都可以调用上述三种方法实现通信与交互，如：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22$this.$emit(\x27some-event\x27, 1, 2, 3, 4);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs lsl\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e$this.$emit(\x27some-event\x27, \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e组件的事件监听需要写在\x3ccode\x3eevents\x3c\/code\x3e属性下，如：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import wepy form \x27wepy\x27;\nexport default class Com extends wepy.component {\n\n    components = {};\n\n    data = {};\n    methods = {};\n\n    events = {\n        \x27some-event\x27: ($event, ...args) {\n               console.log(`${this.name} receive ${$event.name} from ${$event.source.name}`);\n        }\n    };\n    \/\/ Other properties\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e wepy form \x3cspan class=\x22hljs-string\x22\x3e\x27wepy\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e \x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eCom\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eextends\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ewepy\x3c\/span\x3e.\x3cspan class=\x22hljs-title\x22\x3ecomponent\x3c\/span\x3e \x3c\/span\x3e{\n\n    components = {};\n\n    data = {};\n    methods = {};\n\n    events = {\n        \x3cspan class=\x22hljs-string\x22\x3e\x27some-event\x27\x3c\/span\x3e: ($event, ...args) {\n               \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e`\x3cspan class=\x22hljs-subst\x22\x3e${\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.name}\x3c\/span\x3e receive \x3cspan class=\x22hljs-subst\x22\x3e${$event.name}\x3c\/span\x3e from \x3cspan class=\x22hljs-subst\x22\x3e${$event.source.name}\x3c\/span\x3e`\x3c\/span\x3e);\n        }\n    };\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Other properties\x3c\/span\x3e\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3col\x3e\x3cli\x3e\x3cp\x3e\x3cstrong\x3e$broadcast\x3c\/strong\x3e\x3cbr\x3e\x3ccode\x3e$broadcast\x3c\/code\x3e事件是由父组件发起，所有子组件都会收到此广播事件，除非事件被手动取消。事件广播的顺序为广度优先搜索顺序，如上图，如果\x3ccode\x3ePage_Index\x3c\/code\x3e发起一个\x3ccode\x3e$broadcast\x3c\/code\x3e事件，那么接收到事件的先后顺序为：A, B, C, D, E, F, G, H。如下图：\x3c\/p\x3e\x3c\/li\x3e\x3c\/ol\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22https:\/\/cloud.githubusercontent.com\/assets\/2182004\/20554688\/800089e6-b198-11e6-84c5-352d2d0e2f7e.png\x22 src=\x22https:\/\/static.alili.techhttps:\/\/cloud.githubusercontent.com\/assets\/2182004\/20554688\/800089e6-b198-11e6-84c5-352d2d0e2f7e.png\x22 alt=\x227 small\x22 title=\x227 small\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3col\x3e\x3cli\x3e\x3cp\x3e\x3cstrong\x3e$emit\x3c\/strong\x3e\x3cbr\x3e\x3ccode\x3e$emit\x3c\/code\x3e与\x3ccode\x3e$broadcast\x3c\/code\x3e正好相反，事件发起组件的父组件会依次接收到\x3ccode\x3e$emit\x3c\/code\x3e事件，如上图，如果E发起一个\x3ccode\x3e$emit\x3c\/code\x3e事件，那么接收到事件的先后顺序为：A, Page_Index。如下图：\x3c\/p\x3e\x3c\/li\x3e\x3c\/ol\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22https:\/\/cloud.githubusercontent.com\/assets\/2182004\/20554704\/9997932c-b198-11e6-9840-3edae2194f47.png\x22 src=\x22https:\/\/static.alili.techhttps:\/\/cloud.githubusercontent.com\/assets\/2182004\/20554704\/9997932c-b198-11e6-9840-3edae2194f47.png\x22 alt=\x228 small\x22 title=\x228 small\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3col\x3e\x3cli\x3e\x3cp\x3e\x3cstrong\x3e$invoke\x3c\/strong\x3e\x3cbr\x3e\x3ccode\x3e$invoke\x3c\/code\x3e是一个组件对另一个组件的直接调用，通过传入的组件路径找到相应组件，然后再调用其方法。\x3c\/p\x3e\x3c\/li\x3e\x3c\/ol\x3e\n\x3cp\x3e如果想在\x3ccode\x3ePage_Index\x3c\/code\x3e中调用组件A的某个方法：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22this.$invoke(\x27ComA\x27, \x27someMethod\x27, \x27someArgs\x27);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs kotlin\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$invoke(\x3cspan class=\x22hljs-string\x22\x3e\x27ComA\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27someMethod\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27someArgs\x27\x3c\/span\x3e);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e如果想在组件A中调用组件G的某个方法：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22this.$invoke(\x27.\/..\/ComB\/ComG\x27, \x27someMethod\x27, \x27someArgs\x27);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs kotlin\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$invoke(\x3cspan class=\x22hljs-string\x22\x3e\x27.\/..\/ComB\/ComG\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27someMethod\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27someArgs\x27\x3c\/span\x3e);\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader16\x22\x3e数据绑定\x3c\/h3\x3e\n\x3ch4\x3e小程序数据绑定方式\x3c\/h4\x3e\n\x3cp\x3e小程序通过\x3ccode\x3ePage\x3c\/code\x3e提供的\x3ccode\x3esetData\x3c\/code\x3e方法去绑定数据，如：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22this.setData({title: \x27this is title\x27});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs css\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-selector-tag\x22\x3ethis\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.setData\x3c\/span\x3e({\x3cspan class=\x22hljs-attribute\x22\x3etitle\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27this is title\x27\x3c\/span\x3e});\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e因为小程序架构本身原因，页面渲染层和JS逻辑层分开的，setData操作实际就是JS逻辑层与页面渲染层之间的通信，那么如果在同一次运行周期内多次执行\x3ccode\x3esetData\x3c\/code\x3e操作时，那么通信的次数是一次还是多次呢？这个取决于API本身的设计。\x3c\/p\x3e\n\x3ch4\x3ewepy数据绑定方式\x3c\/h4\x3e\n\x3cp\x3ewepy使用脏数据检查对setData进行封装，在函数运行周期结束时执行脏数据检查，一来可以不用关心页面多次setData是否会有性能上的问题，二来可以更加简洁去修改数据实现绑定，不用重复去写setData方法。代码如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22this.title = \x27this is title\x27;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.title = \x3cspan class=\x22hljs-string\x22\x3e\x27this is title\x27\x3c\/span\x3e;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e但需注意，在函数运行周期之外的函数里去修改数据需要手动调用\x3ccode\x3e$apply\x3c\/code\x3e方法。如：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22setTimeout(() =\x3e {\n    this.title = \x27this is title\x27;\n    this.$apply();\n}, 3000);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3esetTimeout(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.title = \x3cspan class=\x22hljs-string\x22\x3e\x27this is title\x27\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$apply();\n}, \x3cspan class=\x22hljs-number\x22\x3e3000\x3c\/span\x3e);\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch4\x3ewepy脏数据检查流程\x3c\/h4\x3e\n\x3cp\x3e在执行脏数据检查是，会通过\x3ccode\x3ethis.$$phase\x3c\/code\x3e标识当前检查状态，并且会保证在并发的流程当中，只会有一个脏数据检查流程在运行，以下是执行脏数据检查的流程图：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22https:\/\/cloud.githubusercontent.com\/assets\/2182004\/20554709\/a0d8b1e8-b198-11e6-9034-0997b33bdf95.png\x22 src=\x22https:\/\/static.alili.techhttps:\/\/cloud.githubusercontent.com\/assets\/2182004\/20554709\/a0d8b1e8-b198-11e6-9034-0997b33bdf95.png\x22 alt=\x229 small\x22 title=\x229 small\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader17\x22\x3e其它优化细节\x3c\/h3\x3e\n\x3ch4\x3e1. wx.request 接收参数修改\x3c\/h4\x3e\n\x3cp\x3e点这里查看\x3ca href=\x22https:\/\/mp.weixin.qq.com\/debug\/wxadoc\/dev\/api\/network-request.html?t=20161122\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e官方文档\x3c\/a\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 官方\nwx.request({\n    url: \x27xxx\x27,\n    success: function (data) {\n        console.log(data);\n    }\n});\n\n\/\/ wepy 使用方式\n\/\/ request 接口从只接收Object变为可接收String\nwx.request(\x27xxxx\x27).then((d) =\x3e console.log(d));\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 官方\x3c\/span\x3e\nwx.request({\n    \x3cspan class=\x22hljs-attr\x22\x3eurl\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27xxx\x27\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3esuccess\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3edata\x3c\/span\x3e) \x3c\/span\x3e{\n        \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(data);\n    }\n});\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ wepy 使用方式\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ request 接口从只接收Object变为可接收String\x3c\/span\x3e\nwx.request(\x3cspan class=\x22hljs-string\x22\x3e\x27xxxx\x27\x3c\/span\x3e).then(\x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3ed\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(d));\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch4\x3e2. 优化事件参数传递\x3c\/h4\x3e\n\x3cp\x3e点这里查看\x3ca href=\x22https:\/\/mp.weixin.qq.com\/debug\/wxadoc\/dev\/framework\/view\/wxml\/event.html?t=20161122\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e官方文档\x3c\/a\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 官方\n\x3cview id=\x26quot;tapTest\x26quot; data-hi=\x26quot;WeChat\x26quot; bindtap=\x26quot;tapName\x26quot;\x3e Click me! \x3c\/view\x3e\nPage({\n  tapName: function(event) {\n    console.log(event.currentTarget.hi)\/\/ output: WeChat\n  }\n});\n\n\/\/ wepy 建议传参方式\n\x3cview id=\x26quot;tapTest\x26quot; data-wepy-params=\x26quot;1-wepy-something\x26quot; bindtap=\x26quot;tapName\x26quot;\x3e Click me! \x3c\/view\x3e\n\nevents: {\n    tapName (event, id, title, other) {\n        console.log(id, title, other)\/\/ output: 1, wepy, something\n    }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 官方\x3c\/span\x3e\n\x26lt;view id=\x3cspan class=\x22hljs-string\x22\x3e\x22tapTest\x22\x3c\/span\x3e data-hi=\x3cspan class=\x22hljs-string\x22\x3e\x22WeChat\x22\x3c\/span\x3e bindtap=\x3cspan class=\x22hljs-string\x22\x3e\x22tapName\x22\x3c\/span\x3e\x26gt; Click me! \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eview\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\nPage({\n  \x3cspan class=\x22hljs-attr\x22\x3etapName\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eevent\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(event.currentTarget.hi)\x3cspan class=\x22hljs-comment\x22\x3e\/\/ output: WeChat\x3c\/span\x3e\n  }\n});\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ wepy 建议传参方式\x3c\/span\x3e\n\x26lt;view id=\x3cspan class=\x22hljs-string\x22\x3e\x22tapTest\x22\x3c\/span\x3e data-wepy-params=\x3cspan class=\x22hljs-string\x22\x3e\x221-wepy-something\x22\x3c\/span\x3e bindtap=\x3cspan class=\x22hljs-string\x22\x3e\x22tapName\x22\x3c\/span\x3e\x26gt; Click me! \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eview\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n\nevents: {\n    tapName (event, id, title, other) {\n        \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(id, title, other)\x3cspan class=\x22hljs-comment\x22\x3e\/\/ output: 1, wepy, something\x3c\/span\x3e\n    }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch4\x3e3. 改变数据绑定方式\x3c\/h4\x3e\n\x3cp\x3e保留setData方法，但不建议使用setData执行绑定，修复传入\x3ccode\x3eundefined\x3c\/code\x3e的bug，并且修改入参支持：\x3cbr\x3e\x3ccode\x3ethis.setData(target, value)\x3c\/code\x3e\x3cbr\x3e\x3ccode\x3ethis.setData(object)\x3c\/code\x3e\x3c\/p\x3e\n\x3cp\x3e点这里查看\x3ca href=\x22https:\/\/mp.weixin.qq.com\/debug\/wxadoc\/dev\/framework\/view\/wxml\/template.html?t=20161122\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e官方文档\x3c\/a\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 官方\n\x3cview\x3e \x22{{\x22 message \x22}}\x22 \x3c\/view\x3e\n\nonLoad: function () {\n    this.setData({message: \x27hello world\x27});\n}\n\n\n\/\/ wepy\n\x3cview\x3e \x22{{\x22 message \x22}}\x22 \x3c\/view\x3e\n\nonLoad () {\n    this.message = \x27hello world\x27;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs protobuf\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 官方\x3c\/span\x3e\n\x26lt;view\x26gt; \x22{{\x22 \x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3emessage\x3c\/span\x3e \x22}}\x22 \x26lt;\/\x3cspan class=\x22hljs-title\x22\x3eview\x3c\/span\x3e\x26gt;\n\nonLoad: function () \x3c\/span\x3e{\n    this.setData({\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3emessage\x3c\/span\x3e: \x27\x3cspan class=\x22hljs-title\x22\x3ehello\x3c\/span\x3e world\x27});\n}\n\n\n\/\/ wepy\n\x26lt;view\x26gt; \x3c\/span\x3e\x22{{\x22 \x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3emessage\x3c\/span\x3e \x22}}\x22 \x26lt;\/\x3cspan class=\x22hljs-title\x22\x3eview\x3c\/span\x3e\x26gt;\n\nonLoad () \x3c\/span\x3e{\n    this.message = \x27hello world\x27;\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch4\x3e4. 组件代替模板和模块\x3c\/h4\x3e\n\x3cp\x3e点这里查看\x3ca href=\x22https:\/\/mp.weixin.qq.com\/debug\/wxadoc\/dev\/framework\/view\/wxml\/data.html?t=20161122\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e官方文档\x3c\/a\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 官方\n\x3c!-- item.wxml --\x3e\n\x3ctemplate name=\x26quot;item\x26quot;\x3e\n  \x3ctext\x3e\x22{{\x22text\x22}}\x22\x3c\/text\x3e\n\x3c\/template\x3e\n\n\x3c!-- index.wxml --\x3e\n\x3cimport src=\x26quot;item.wxml\x26quot;\/\x3e\n\x3ctemplate is=\x26quot;item\x26quot; data=\x26quot;\x22{{\x22text: \x27forbar\x27\x22}}\x22\x26quot;\/\x3e\n\n\x3c!-- index.js --\x3e\nvar item = require(\x27item.js\x27)\n\n\n\n\n\/\/ wepy\n\x3c!-- \/components\/item.wpy --\x3e\n \x3ctext\x3e\x22{{\x22text\x22}}\x22\x3c\/text\x3e\n\n\x3c!-- index.wpy --\x3e\n\x3ctemplate\x3e\n    \x3ccomponent id=\x26quot;item\x26quot;\x3e\x3c\/component\x3e\n\x3c\/template\x3e\n\x3cscript\x3e\n    import wepy from \x27wepy\x27;\n    import Item from \x27..\/components\/item\x27;\n    export default class Index extends wepy.page {\n        components = { Item }\n    }\n\x3c\/script\x3e\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs django\x22\x3e\x3ccode\x3e\x3cspan class=\x22xml\x22\x3e\/\/ 官方\n\x3cspan class=\x22hljs-comment\x22\x3e\x26lt;!-- item.wxml --\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22item\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etext\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e\x22{{\x22text\x22}}\x22\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etext\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e\x26lt;!-- index.wxml --\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eimport\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22item.wxml\x22\x3c\/span\x3e\/\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eis\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22item\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3edata\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e\x22{{\x22text: \x27forbar\x27\x22}}\x22\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x3cspan class=\x22hljs-string\x22\x3e\x22\x3c\/span\x3e\/\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e\x26lt;!-- index.js --\x26gt;\x3c\/span\x3e\nvar item = require(\x27item.js\x27)\n\n\n\n\n\/\/ wepy\n\x3cspan class=\x22hljs-comment\x22\x3e\x26lt;!-- \/components\/item.wpy --\x26gt;\x3c\/span\x3e\n \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etext\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e\x22{{\x22text\x22}}\x22\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etext\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e\x26lt;!-- index.wpy --\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ecomponent\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22item\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ecomponent\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22javascript\x22\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e wepy \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27wepy\x27\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e Item \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27..\/components\/item\x27\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e \x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eIndex\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eextends\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ewepy\x3c\/span\x3e.\x3cspan class=\x22hljs-title\x22\x3epage\x3c\/span\x3e \x3c\/span\x3e{\n        components = { Item }\n    }\n\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader18\x22\x3eAPI\x3c\/h2\x3e\n\x3ch3 id=\x22articleHeader19\x22\x3ewepy.event\x3c\/h3\x3e\n\x3cp\x3e|父类 | 无 |\x3cbr\x3e| ---- | ---- |\x3c\/p\x3e\n\x3ctable\x3e\n\x3cthead\x3e\x3ctr\x3e\n\x3cth\x3e属性\x3c\/th\x3e\n\x3cth\x3e类型\x3c\/th\x3e\n\x3cth\x3e默认值\x3c\/th\x3e\n\x3cth\x3e说明\x3c\/th\x3e\n\x3c\/tr\x3e\x3c\/thead\x3e\n\x3ctbody\x3e\n\x3ctr\x3e\n\x3ctd\x3ename\x3c\/td\x3e\n\x3ctd\x3eString\x3c\/td\x3e\n\x3ctd\x3e-\x3c\/td\x3e\n\x3ctd\x3e事件名称\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3esource\x3c\/td\x3e\n\x3ctd\x3ewepy.component\x3c\/td\x3e\n\x3ctd\x3e-\x3c\/td\x3e\n\x3ctd\x3e事件来源\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3etype\x3c\/td\x3e\n\x3ctd\x3eString\x3c\/td\x3e\n\x3ctd\x3e-\x3c\/td\x3e\n\x3ctd\x3eemit 或者 broadcast\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3c\/tbody\x3e\n\x3c\/table\x3e\n\x3ctable\x3e\n\x3cthead\x3e\x3ctr\x3e\n\x3cth\x3e方法\x3c\/th\x3e\n\x3cth\x3e参数\x3c\/th\x3e\n\x3cth\x3e返回值\x3c\/th\x3e\n\x3cth\x3e说明\x3c\/th\x3e\n\x3c\/tr\x3e\x3c\/thead\x3e\n\x3ctbody\x3e\x3ctr\x3e\n\x3ctd\x3edestroy\x3c\/td\x3e\n\x3ctd\x3e-\x3c\/td\x3e\n\x3ctd\x3e-\x3c\/td\x3e\n\x3ctd\x3e在 emit 或者 broadcast 过程中，调用destroy方法将会停止事件传播。\x3c\/td\x3e\n\x3c\/tr\x3e\x3c\/tbody\x3e\n\x3c\/table\x3e\n\x3ch3 id=\x22articleHeader20\x22\x3ewepy.component\x3c\/h3\x3e\n\x3ctable\x3e\x3cthead\x3e\x3ctr\x3e\n\x3cth\x3e父类\x3c\/th\x3e\n\x3cth\x3e无\x3c\/th\x3e\n\x3c\/tr\x3e\x3c\/thead\x3e\x3c\/table\x3e\n\x3ctable\x3e\n\x3cthead\x3e\x3ctr\x3e\n\x3cth\x3e属性\x3c\/th\x3e\n\x3cth\x3e类型\x3c\/th\x3e\n\x3cth\x3e默认值\x3c\/th\x3e\n\x3cth\x3e说明\x3c\/th\x3e\n\x3c\/tr\x3e\x3c\/thead\x3e\n\x3ctbody\x3e\n\x3ctr\x3e\n\x3ctd\x3eisComponent\x3c\/td\x3e\n\x3ctd\x3eBoolean\x3c\/td\x3e\n\x3ctd\x3etrue\x3c\/td\x3e\n\x3ctd\x3e是否是组件，如果是页面，此值为false\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3eprefix\x3c\/td\x3e\n\x3ctd\x3eString\x3c\/td\x3e\n\x3ctd\x3e\x27\x27\x3c\/td\x3e\n\x3ctd\x3e组件前缀，组件前缀\x2b组件方法属性才是在小程序中真实存在的方法或属性。\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3e$root\x3c\/td\x3e\n\x3ctd\x3ewepy.page\x3c\/td\x3e\n\x3ctd\x3e-\x3c\/td\x3e\n\x3ctd\x3e根组件，一般都是页面\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3e$parent\x3c\/td\x3e\n\x3ctd\x3ewepy.component\x3c\/td\x3e\n\x3ctd\x3e-\x3c\/td\x3e\n\x3ctd\x3e父组件\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3e$wxpage\x3c\/td\x3e\n\x3ctd\x3ePage\x3c\/td\x3e\n\x3ctd\x3e-\x3c\/td\x3e\n\x3ctd\x3e小程序Page对象\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3e$coms\x3c\/td\x3e\n\x3ctd\x3eList(wepy.component)\x3c\/td\x3e\n\x3ctd\x3e{}\x3c\/td\x3e\n\x3ctd\x3e子组件列表\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3c\/tbody\x3e\n\x3c\/table\x3e\n\x3ctable\x3e\n\x3cthead\x3e\x3ctr\x3e\n\x3cth\x3e方法\x3c\/th\x3e\n\x3cth\x3e参数\x3c\/th\x3e\n\x3cth\x3e返回值\x3c\/th\x3e\n\x3cth\x3e说明\x3c\/th\x3e\n\x3c\/tr\x3e\x3c\/thead\x3e\n\x3ctbody\x3e\n\x3ctr\x3e\n\x3ctd\x3einit\x3c\/td\x3e\n\x3ctd\x3e-\x3c\/td\x3e\n\x3ctd\x3e-\x3c\/td\x3e\n\x3ctd\x3e组件初始化。\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3egetWxPage\x3c\/td\x3e\n\x3ctd\x3e-\x3c\/td\x3e\n\x3ctd\x3ePage\x3c\/td\x3e\n\x3ctd\x3e返回小程序Page对象。\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3e$getComponent\x3c\/td\x3e\n\x3ctd\x3epath(String)\x3c\/td\x3e\n\x3ctd\x3ewepy.component\x3c\/td\x3e\n\x3ctd\x3e通过组件路径返回组件对象。\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3e$invoke\x3c\/td\x3e\n\x3ctd\x3ecom(String\/wepy.component), method(String), [args]\x3c\/td\x3e\n\x3ctd\x3e-\x3c\/td\x3e\n\x3ctd\x3e调用其它组件方法\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3e$broadcast\x3c\/td\x3e\n\x3ctd\x3eevtName(String), [args]\x3c\/td\x3e\n\x3ctd\x3e-\x3c\/td\x3e\n\x3ctd\x3ebroadcast事件。\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3e$emit\x3c\/td\x3e\n\x3ctd\x3eevtName(String), [args]\x3c\/td\x3e\n\x3ctd\x3e-\x3c\/td\x3e\n\x3ctd\x3eemit事件。\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3e$apply\x3c\/td\x3e\n\x3ctd\x3efn(Function)\x3c\/td\x3e\n\x3ctd\x3e-\x3c\/td\x3e\n\x3ctd\x3e准备执行脏数据检查。\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3e$digest\x3c\/td\x3e\n\x3ctd\x3e-\x3c\/td\x3e\n\x3ctd\x3e-\x3c\/td\x3e\n\x3ctd\x3e脏检查。\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3c\/tbody\x3e\n\x3c\/table\x3e\n\x3ch3 id=\x22articleHeader21\x22\x3ewepy.page\x3c\/h3\x3e\n\x3ctable\x3e\x3cthead\x3e\x3ctr\x3e\n\x3cth\x3e父类\x3c\/th\x3e\n\x3cth\x3ewepy.component\x3c\/th\x3e\n\x3c\/tr\x3e\x3c\/thead\x3e\x3c\/table\x3e\n\x3ctable\x3e\x3cthead\x3e\x3ctr\x3e\n\x3cth\x3e属性\x3c\/th\x3e\n\x3cth\x3e类型\x3c\/th\x3e\n\x3cth\x3e默认值\x3c\/th\x3e\n\x3cth\x3e说明\x3c\/th\x3e\n\x3c\/tr\x3e\x3c\/thead\x3e\x3c\/table\x3e\n\x3ctable\x3e\n\x3cthead\x3e\x3ctr\x3e\n\x3cth\x3e方法\x3c\/th\x3e\n\x3cth\x3e参数\x3c\/th\x3e\n\x3cth\x3e返回值\x3c\/th\x3e\n\x3cth\x3e说明\x3c\/th\x3e\n\x3c\/tr\x3e\x3c\/thead\x3e\n\x3ctbody\x3e\x3ctr\x3e\n\x3ctd\x3einit\x3c\/td\x3e\n\x3ctd\x3e-\x3c\/td\x3e\n\x3ctd\x3e-\x3c\/td\x3e\n\x3ctd\x3e页面始化。\x3c\/td\x3e\n\x3c\/tr\x3e\x3c\/tbody\x3e\n\x3c\/table\x3e\n\x3ch3 id=\x22articleHeader22\x22\x3ewepy.app\x3c\/h3\x3e\n\x3ctable\x3e\x3cthead\x3e\x3ctr\x3e\n\x3cth\x3e父类\x3c\/th\x3e\n\x3cth\x3e无\x3c\/th\x3e\n\x3c\/tr\x3e\x3c\/thead\x3e\x3c\/table\x3e\n\x3ctable\x3e\n\x3cthead\x3e\x3ctr\x3e\n\x3cth\x3e属性\x3c\/th\x3e\n\x3cth\x3e类型\x3c\/th\x3e\n\x3cth\x3e默认值\x3c\/th\x3e\n\x3cth\x3e说明\x3c\/th\x3e\n\x3c\/tr\x3e\x3c\/thead\x3e\n\x3ctbody\x3e\n\x3ctr\x3e\n\x3ctd\x3e$wxapp\x3c\/td\x3e\n\x3ctd\x3eApp\x3c\/td\x3e\n\x3ctd\x3e-\x3c\/td\x3e\n\x3ctd\x3e小程序getApp()\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3einit\x3c\/td\x3e\n\x3ctd\x3e-\x3c\/td\x3e\n\x3ctd\x3e-\x3c\/td\x3e\n\x3ctd\x3e应用始化包括对原生API的改造与优化\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3c\/tbody\x3e\n\x3c\/table\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>wepy - 一个小程序的组件化开发框架</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000007580866">https://segmentfault.com/a/1190000007580866</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/nblhbm9ux1a/" target="_blank">https://alili.tech/archive/nblhbm9ux1a/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5x6tenwjeux/">ES6中的异步编程：Generators函数&#43;Promise:最强大的异步处理方式<aside class="dates">2019-01-31</aside></a></li><li><a href="/archive/nvtmua2a1hd/">GreenSock (TweenMax) 极简入门指南<aside class="dates">2019-01-31</aside></a></li><li><a href="/archive/7kt5s47oysx/">HTML5 中 canvas 的使用总结<aside class="dates">2019-01-31</aside></a></li><li><a href="/archive/41pgo3a2iyp/">JavaScript 开发者所需要知道的 V8（一）：V8 In NodeJS<aside class="dates">2019-01-31</aside></a></li><li><a href="/archive/krb1zm7x38j/">JavaScript 时间与日期处理实战:你肯定被坑过<aside class="dates">2019-01-31</aside></a></li><li><a href="/archive/yh2lq30d0x/">JavaScript中的各种宽高属性<aside class="dates">2019-01-31</aside></a></li><li><a href="/archive/eydwczesyv/">Muse UI — 基于 Vue2.0 的 Material Design UI 库<aside class="dates">2019-01-31</aside></a></li><li><a href="/archive/y62oejm8cr/">Nodejs基础：路径处理模块path总结<aside class="dates">2019-01-31</aside></a></li><li><a href="/archive/06cwh88ankmd/">PhantomJS &amp; NodeJS 在京东网站前端监控平台的最佳实践<aside class="dates">2019-01-31</aside></a></li><li><a href="/archive/z4ymvs0jz2h/">Promise 的链式调用与中止<aside class="dates">2019-01-31</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>