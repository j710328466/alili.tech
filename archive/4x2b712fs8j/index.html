<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="Vue.js项目API、Router配置拆分实践"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>Vue.js项目API、Router配置拆分实践 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/4x2b712fs8j/",
				"appid": "1613049289050283", 
				"title": "Vue.js项目API、Router配置拆分实践 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-11T02:30:08"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/4d0phjoa2n9/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/peio706ath/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2f4x2b712fs8j%2f&text=Vue.js%e9%a1%b9%e7%9b%aeAPI%e3%80%81Router%e9%85%8d%e7%bd%ae%e6%8b%86%e5%88%86%e5%ae%9e%e8%b7%b5"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2f4x2b712fs8j%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2f4x2b712fs8j%2f&text=Vue.js%e9%a1%b9%e7%9b%aeAPI%e3%80%81Router%e9%85%8d%e7%bd%ae%e6%8b%86%e5%88%86%e5%ae%9e%e8%b7%b5"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2f4x2b712fs8j%2f&title=Vue.js%e9%a1%b9%e7%9b%aeAPI%e3%80%81Router%e9%85%8d%e7%bd%ae%e6%8b%86%e5%88%86%e5%ae%9e%e8%b7%b5"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2f4x2b712fs8j%2f&is_video=false&description=Vue.js%e9%a1%b9%e7%9b%aeAPI%e3%80%81Router%e9%85%8d%e7%bd%ae%e6%8b%86%e5%88%86%e5%ae%9e%e8%b7%b5"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=Vue.js%e9%a1%b9%e7%9b%aeAPI%e3%80%81Router%e9%85%8d%e7%bd%ae%e6%8b%86%e5%88%86%e5%ae%9e%e8%b7%b5&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2f4x2b712fs8j%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2f4x2b712fs8j%2f&title=Vue.js%e9%a1%b9%e7%9b%aeAPI%e3%80%81Router%e9%85%8d%e7%bd%ae%e6%8b%86%e5%88%86%e5%ae%9e%e8%b7%b5"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f4x2b712fs8j%2f&title=Vue.js%e9%a1%b9%e7%9b%aeAPI%e3%80%81Router%e9%85%8d%e7%bd%ae%e6%8b%86%e5%88%86%e5%ae%9e%e8%b7%b5"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f4x2b712fs8j%2f&title=Vue.js%e9%a1%b9%e7%9b%aeAPI%e3%80%81Router%e9%85%8d%e7%bd%ae%e6%8b%86%e5%88%86%e5%ae%9e%e8%b7%b5"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f4x2b712fs8j%2f&title=Vue.js%e9%a1%b9%e7%9b%aeAPI%e3%80%81Router%e9%85%8d%e7%bd%ae%e6%8b%86%e5%88%86%e5%ae%9e%e8%b7%b5"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">Vue.js项目API、Router配置拆分实践</h1><div class="meta"><div class="postdate"><time datetime="2019-01-11" itemprop="datePublished">2019-01-11</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch2 id=\x22articleHeader0\x22\x3e前后端分离开发方式前端拥有更高的控制权\x3c\/h2\x3e\n\x3cp\x3e随着前端框架技术的飞速发展，Router这个概念也被迅速普及到前端项目中，在早期前后的没有分离的时期下，并没有明确的路由概念，前端页面跳转大多是通过后端进行请求转发的，比如在Spring MVC项目中，进行一个页面跳转如下（画红线部分）： \x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVPwS1?w=759\x26amp;h=516\x22 src=\x22https:\/\/static.alili.tech\/img\/bVPwS1?w=759\x26amp;h=516\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3cbr\x3e前端需要一个超链接，链接的href=\/manager，这样这个超链接被转发到scs\/waitFollowed路径指定的页面。\x3c\/p\x3e\n\x3cp\x3e前后的分离后，前端页面跳转的方式发生了变化，不再需要后端处理了，数据交换方式也改变了，由此前端需要定义Router配置文件，需要定义API配置文件。在项目的权限配置管理中，完全不需要后端什么事了，可以说，权限配置表可以单独拿出来由前端维护了。 \x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVPwTn?w=1362\x26amp;h=526\x22 src=\x22https:\/\/static.alili.tech\/img\/bVPwTn?w=1362\x26amp;h=526\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e比如这个url字段，在前后端不分离的情况下，严重依赖于后端，url就是后端接口地址，如果需要更改就需要后端修改代码修改接口地址，而现在，前端可以自由控制url的值是什么了。\x3c\/p\x3e\n\x3cp\x3e在接口层面，前端也会有自己的配置文件，可以对后端提供的接口进行重命名，组合等。比如 \x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVPwTJ?w=903\x26amp;h=586\x22 src=\x22https:\/\/static.alili.tech\/img\/bVPwTJ?w=903\x26amp;h=586\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e前端都统一使用\x3ccode\x3e模块名\x2b接口名\x3c\/code\x3e的方式管理，管后端提供的接口叫啥已经不重要，在视觉上和维护上都比较方便。在页面上使用，查询起来也很直观： \x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVPwT3?w=863\x26amp;h=271\x22 src=\x22https:\/\/static.alili.tech\/img\/bVPwT3?w=863\x26amp;h=271\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e看到\x3ccode\x3eDISTRBUTE().Leads.dataGrid\x3c\/code\x3e这个接口，就知道这是\x3ccode\x3eDISTRBUTE\x3c\/code\x3e模块下\x3ccode\x3eLeasd\x3c\/code\x3e功能下的列表查询接口\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3eVue.js中的API、Router配置\x3c\/h2\x3e\n\x3cp\x3e在Vue.js项目下，一开始我们只使用一个\x3ccode\x3eapi.config.js\x3c\/code\x3e配置文件，所有的接口都定义在这里面，router也一样，都配置在一个\x3ccode\x3erouter.config.js\x3c\/code\x3e中，下面是我们项目中API配置文件\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVPwUe?w=454\x26amp;h=592\x22 src=\x22https:\/\/static.alili.tech\/img\/bVPwUe?w=454\x26amp;h=592\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e可以看到，很多的业务模块，很多的接口，已经达到了570多行，随着业务进一步推进，接口快速膨胀，文件越来越大。\x3c\/p\x3e\n\x3cp\x3e这时候迫切需要拆分，把不同的业务模块单独拆分为一个个API配置文件。同样，我们来看看拆分前的Router配置文件： \x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVPwUs?w=453\x26amp;h=536\x22 src=\x22https:\/\/static.alili.tech\/img\/bVPwUs?w=453\x26amp;h=536\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e这样router一多最大的缺点就是会导致router命名冲突。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3e拆分！拆分！拆分！\x3c\/h2\x3e\n\x3cp\x3e首先考虑API配置文件怎么拆分，对于接口，我们肯定有多套环境，多套环境那么API的URL也不一样，拆分成多个文件后多个文件需要共用同一个获取\x3ccode\x3eapiBase\x3c\/code\x3e的方法，所以这个\x3ccode\x3eapiBase\x3c\/code\x3e就要写在公共的地方，在这里原来的\x3ccode\x3eapi.config.js\x3c\/code\x3e就变成了公共配置，\x3ccode\x3eapiBase\x3c\/code\x3e就放在此文件内。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22export function apiBase() {\n  let hostname = window.location.hostname,\n    API_BASE_URL = \x27http:\/\/test2api.dunizb.com\x27;\/\/默认环境\n  if(hostname === \x27crm.dunizb.cn\x27) {  \/\/正式环境\n    API_BASE_URL = \x27http:\/\/api.dunizb.cn\x27;\n  } else if(hostname === \x27admin.dunizb.com\x27) {\/\/公网测试环境\n    API_BASE_URL = \x27http:\/\/testapi.dunizb.com\x27;\n  } else if(hostname === \x27manager.dunizb.com\x27) {\/\/内网测试环境\n    API_BASE_URL = \x27http:\/\/test2api.dunizb.com\x27;\n  }\n  return API_BASE_URL;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eapiBase\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e hostname = \x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.location.hostname,\n    API_BASE_URL = \x3cspan class=\x22hljs-string\x22\x3e\x27http:\/\/test2api.dunizb.com\x27\x3c\/span\x3e;\x3cspan class=\x22hljs-comment\x22\x3e\/\/默认环境\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(hostname === \x3cspan class=\x22hljs-string\x22\x3e\x27crm.dunizb.cn\x27\x3c\/span\x3e) {  \x3cspan class=\x22hljs-comment\x22\x3e\/\/正式环境\x3c\/span\x3e\n    API_BASE_URL = \x3cspan class=\x22hljs-string\x22\x3e\x27http:\/\/api.dunizb.cn\x27\x3c\/span\x3e;\n  } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(hostname === \x3cspan class=\x22hljs-string\x22\x3e\x27admin.dunizb.com\x27\x3c\/span\x3e) {\x3cspan class=\x22hljs-comment\x22\x3e\/\/公网测试环境\x3c\/span\x3e\n    API_BASE_URL = \x3cspan class=\x22hljs-string\x22\x3e\x27http:\/\/testapi.dunizb.com\x27\x3c\/span\x3e;\n  } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(hostname === \x3cspan class=\x22hljs-string\x22\x3e\x27manager.dunizb.com\x27\x3c\/span\x3e) {\x3cspan class=\x22hljs-comment\x22\x3e\/\/内网测试环境\x3c\/span\x3e\n    API_BASE_URL = \x3cspan class=\x22hljs-string\x22\x3e\x27http:\/\/test2api.dunizb.com\x27\x3c\/span\x3e;\n  }\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e API_BASE_URL;\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e然后在每个子API配置文件中引入即可：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import {apiBase} from \x27..\/api.config\x27;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e {apiBase} \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27..\/api.config\x27\x3c\/span\x3e;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e具体功能API不需要更改，直接拷贝相应模块API到子模块API配置文件即可。 \x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVPwUI?w=846\x26amp;h=536\x22 src=\x22https:\/\/static.alili.tech\/img\/bVPwUI?w=846\x26amp;h=536\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3eRouter的拆分稍微复杂一点，拆分后的文件目录与API的目录相同： \x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVPwUU?w=406\x26amp;h=477\x22 src=\x22https:\/\/static.alili.tech\/img\/bVPwUU?w=406\x26amp;h=477\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e拆分思路也完全一样，但要保证只有一个\x3ccode\x3erouter.start\x3c\/code\x3e即：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22return router.start(App, \x27#app\x27);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e router.start(App, \x3cspan class=\x22hljs-string\x22\x3e\x27#app\x27\x3c\/span\x3e);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e虽然你在子router配置文件中也写上页面是能正常工作的，但是Vue.js会在控制台报一个错误： \x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVPwVd?w=654\x26amp;h=313\x22 src=\x22https:\/\/static.alili.tech\/img\/bVPwVd?w=654\x26amp;h=313\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e这个错误的意思就是router已经启动，无需启动多次。所以，子router文件中不能存在 \x3ccode\x3ereturn router.start(App, \x27#app\x27);\x3c\/code\x3e 这样的代码。\x3c\/p\x3e\n\x3cp\x3e拆分后\x3ccode\x3erouter.config.js\x3c\/code\x3e内容如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/**\n * 路由总文件\n * Created by Bing on 2017\/6\/19 0019.\n *\/\nimport App from \x27.\/App\x27;\nimport authority from \x27.\/routers\/authority\x27;\nimport publics from \x27.\/routers\/public\x27;\nimport study from \x27.\/routers\/study\x27;\n... ...\nexport default function(router){\n  authority(router);\/\/基础与权限模块\n  publics(router);\/\/公共模块\n  study(router);\/\/教学相关\n  ... ...\n  return router.start(App, \x27#app\x27);\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/**\n * 路由总文件\n * Created by Bing on 2017\/6\/19 0019.\n *\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e App \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/App\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e authority \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/routers\/authority\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e publics \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/routers\/public\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e study \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/routers\/study\x27\x3c\/span\x3e;\n... ...\nexport \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3erouter\x3c\/span\x3e)\x3c\/span\x3e{\n  authority(router);\x3cspan class=\x22hljs-comment\x22\x3e\/\/基础与权限模块\x3c\/span\x3e\n  publics(router);\x3cspan class=\x22hljs-comment\x22\x3e\/\/公共模块\x3c\/span\x3e\n  study(router);\x3cspan class=\x22hljs-comment\x22\x3e\/\/教学相关\x3c\/span\x3e\n  ... ...\n  return router.start(App, \x3cspan class=\x22hljs-string\x22\x3e\x27#app\x27\x3c\/span\x3e);\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e而子router配置文件的写法就是这样（以study模块为例）：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/**\n * 教学排课\n * 教研\n * Created by Bing on 2017\/6\/19 0019.\n *\/\nimport courseIndex from \x27components\/studyCourse\/index\/index\x27;\nimport waitCourse from \x27components\/studyCourse\/waitCourse\/waitCourse\x27;\nimport alreadyCourse from \x27components\/studyCourse\/alreadyCourse\/alreadyCourse\x27;\nimport gearCourse from \x27components\/studyCourse\/waitCourse\/gearCourse\x27;\nimport courseWare from \x27components\/teachingResearch\/courseware\/courseware.vue\x27;\nimport courseWareLibrary from \x27components\/teachingResearch\/courseware\/library.vue\x27;\nexport default function(router) {\n  router.map({\n    \x27\/study\/index\x27: {component: courseIndex},\n    \x27\/study\/waitCourse\x27: {component: waitCourse},\/\/待排课程\n    \x27\/study\/waitCourse\/gearCourse\x27: {component: gearCourse},\/\/待排\n    \x27\/study\/course\x27: {component: alreadyCourse},\/\/已排课程\n    \x27\/tr\/courseware\x27: {component: courseWare},\/\/课件管理\n    \x27\/tr\/courseWare\/library\x27: {component: courseWareLibrary},\/\/自主上传课件库\n  });\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/**\n * 教学排课\n * 教研\n * Created by Bing on 2017\/6\/19 0019.\n *\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e courseIndex \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27components\/studyCourse\/index\/index\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e waitCourse \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27components\/studyCourse\/waitCourse\/waitCourse\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e alreadyCourse \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27components\/studyCourse\/alreadyCourse\/alreadyCourse\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e gearCourse \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27components\/studyCourse\/waitCourse\/gearCourse\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e courseWare \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27components\/teachingResearch\/courseware\/courseware.vue\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e courseWareLibrary \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27components\/teachingResearch\/courseware\/library.vue\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3erouter\x3c\/span\x3e) \x3c\/span\x3e{\n  router.map({\n    \x3cspan class=\x22hljs-string\x22\x3e\x27\/study\/index\x27\x3c\/span\x3e: {\x3cspan class=\x22hljs-attr\x22\x3ecomponent\x3c\/span\x3e: courseIndex},\n    \x3cspan class=\x22hljs-string\x22\x3e\x27\/study\/waitCourse\x27\x3c\/span\x3e: {\x3cspan class=\x22hljs-attr\x22\x3ecomponent\x3c\/span\x3e: waitCourse},\x3cspan class=\x22hljs-comment\x22\x3e\/\/待排课程\x3c\/span\x3e\n    \x3cspan class=\x22hljs-string\x22\x3e\x27\/study\/waitCourse\/gearCourse\x27\x3c\/span\x3e: {\x3cspan class=\x22hljs-attr\x22\x3ecomponent\x3c\/span\x3e: gearCourse},\x3cspan class=\x22hljs-comment\x22\x3e\/\/待排\x3c\/span\x3e\n    \x3cspan class=\x22hljs-string\x22\x3e\x27\/study\/course\x27\x3c\/span\x3e: {\x3cspan class=\x22hljs-attr\x22\x3ecomponent\x3c\/span\x3e: alreadyCourse},\x3cspan class=\x22hljs-comment\x22\x3e\/\/已排课程\x3c\/span\x3e\n    \x3cspan class=\x22hljs-string\x22\x3e\x27\/tr\/courseware\x27\x3c\/span\x3e: {\x3cspan class=\x22hljs-attr\x22\x3ecomponent\x3c\/span\x3e: courseWare},\x3cspan class=\x22hljs-comment\x22\x3e\/\/课件管理\x3c\/span\x3e\n    \x3cspan class=\x22hljs-string\x22\x3e\x27\/tr\/courseWare\/library\x27\x3c\/span\x3e: {\x3cspan class=\x22hljs-attr\x22\x3ecomponent\x3c\/span\x3e: courseWareLibrary},\x3cspan class=\x22hljs-comment\x22\x3e\/\/自主上传课件库\x3c\/span\x3e\n  });\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e拆分后，每个模块管理它自己领域的router、api，router.config.js和api.config.js就大大瘦身了，也降低了命名冲突的问题和将来混乱的问题。\x3c\/p\x3e\n\x3chr\x3e\n\x3cp\x3e此前的Vue.js系列文章：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000009832792\x22\x3eVue.js开发常见问题解析\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000007839771\x22 target=\x22_blank\x22\x3eVue.js常用开发知识简要入门（一）\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000008048783\x22\x3eVue.js常用开发知识简要入门（二）\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000008337364\x22 target=\x22_blank\x22\x3eVue.js常用开发知识简要入门（三）\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cblockquote\x3e\x3cp\x3e文章首发于我的微信公众号，关注可获得每次最新推送\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000009971455?w=431\x26amp;h=497\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000009971455?w=431\x26amp;h=497\x22 alt=\x22文章首发于我的微信公众号，关注可获得每次最新推送\x22 title=\x22文章首发于我的微信公众号，关注可获得每次最新推送\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\x3c\/blockquote\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>Vue.js项目API、Router配置拆分实践</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000009858990">https://segmentfault.com/a/1190000009858990</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/4x2b712fs8j/" target="_blank">https://alili.tech/archive/4x2b712fs8j/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5fmk2pl6rab/">2016年前端开发者深度调研，看看别人使用什么技术体系<aside class="dates">2019-01-30</aside></a></li><li><a href="/archive/stp6408xnu/">Bootstrap使用模态框modal实现表单提交弹出框<aside class="dates">2019-01-30</aside></a></li><li><a href="/archive/fu7a86e9uyh/">CSS水平垂直居中总结<aside class="dates">2019-01-30</aside></a></li><li><a href="/archive/r0w29esklr/">JS 里怎么给数组填充默认值<aside class="dates">2019-01-30</aside></a></li><li><a href="/archive/i00hiszlr1/">JavaScript - EventEmitter 背后的秘密<aside class="dates">2019-01-30</aside></a></li><li><a href="/archive/u2la0cn9do/">JavaScript 精度丢失问题<aside class="dates">2019-01-30</aside></a></li><li><a href="/archive/3txhfn3ejcb/">Nodejs进阶：如何玩转子进程（child_process）<aside class="dates">2019-01-30</aside></a></li><li><a href="/archive/yr7v8e9fao/">Promise介绍--规范篇<aside class="dates">2019-01-30</aside></a></li><li><a href="/archive/9lyxyz4wc6g/">QQ音乐API整理<aside class="dates">2019-01-30</aside></a></li><li><a href="/archive/84zzlljmes4/">SegmentFault 技术周刊 Vol.14 - 进阶 Vue 2.0<aside class="dates">2019-01-30</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>