<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="vue 开发波纹点击特效组件"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>vue 开发波纹点击特效组件 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/pu5aus7pma/",
				"appid": "1613049289050283", 
				"title": "vue 开发波纹点击特效组件 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-02-03T02:30:40"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/fhmn3m963iu/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/dxwtyzhrfik/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fpu5aus7pma%2f&text=vue%20%e5%bc%80%e5%8f%91%e6%b3%a2%e7%ba%b9%e7%82%b9%e5%87%bb%e7%89%b9%e6%95%88%e7%bb%84%e4%bb%b6"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fpu5aus7pma%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fpu5aus7pma%2f&text=vue%20%e5%bc%80%e5%8f%91%e6%b3%a2%e7%ba%b9%e7%82%b9%e5%87%bb%e7%89%b9%e6%95%88%e7%bb%84%e4%bb%b6"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fpu5aus7pma%2f&title=vue%20%e5%bc%80%e5%8f%91%e6%b3%a2%e7%ba%b9%e7%82%b9%e5%87%bb%e7%89%b9%e6%95%88%e7%bb%84%e4%bb%b6"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fpu5aus7pma%2f&is_video=false&description=vue%20%e5%bc%80%e5%8f%91%e6%b3%a2%e7%ba%b9%e7%82%b9%e5%87%bb%e7%89%b9%e6%95%88%e7%bb%84%e4%bb%b6"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=vue%20%e5%bc%80%e5%8f%91%e6%b3%a2%e7%ba%b9%e7%82%b9%e5%87%bb%e7%89%b9%e6%95%88%e7%bb%84%e4%bb%b6&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fpu5aus7pma%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fpu5aus7pma%2f&title=vue%20%e5%bc%80%e5%8f%91%e6%b3%a2%e7%ba%b9%e7%82%b9%e5%87%bb%e7%89%b9%e6%95%88%e7%bb%84%e4%bb%b6"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fpu5aus7pma%2f&title=vue%20%e5%bc%80%e5%8f%91%e6%b3%a2%e7%ba%b9%e7%82%b9%e5%87%bb%e7%89%b9%e6%95%88%e7%bb%84%e4%bb%b6"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fpu5aus7pma%2f&title=vue%20%e5%bc%80%e5%8f%91%e6%b3%a2%e7%ba%b9%e7%82%b9%e5%87%bb%e7%89%b9%e6%95%88%e7%bb%84%e4%bb%b6"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fpu5aus7pma%2f&title=vue%20%e5%bc%80%e5%8f%91%e6%b3%a2%e7%ba%b9%e7%82%b9%e5%87%bb%e7%89%b9%e6%95%88%e7%bb%84%e4%bb%b6"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">vue 开发波纹点击特效组件</h1><div class="meta"><div class="postdate"><time datetime="2019-02-03" itemprop="datePublished">2019-02-03</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e最近在使用 vue2 做一个新的 material ui 库，波纹点击效果在 material design 中被多次使用到，于是决定把它封装成一个公共的组件，使用时直接调用就好啦。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3e开发之前的思考\x3c\/h2\x3e\n\x3cp\x3e常见的波纹点击效果的实现方式是监听元素的 mousedown 事件，在元素内部创建一个 \x3cstrong\x3e波纹元素\x3c\/strong\x3e ，并调整元素的 \x3ccode\x3etransform: scale(0);\x3c\/code\x3e 到 \x3ccode\x3etransform: scale(1);\x3c\/code\x3e, 通过计算点击的位置来设置 \x3cstrong\x3e波纹元素\x3c\/strong\x3e 的大小和位置，以达到波纹扩散的效果。\x3c\/p\x3e\n\x3cp\x3e我将组件分为两个部分， \x3ccode\x3ecircleRipple.vue\x3c\/code\x3e 和 \x3ccode\x3eTouchRipple.vue\x3c\/code\x3e 各自实现不同的功能\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\x3cp\x3e\x3ccode\x3ecircleRipple.vue\x3c\/code\x3e 波纹扩散组件，完成波纹扩散的效果\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ccode\x3eTouchRipple.vue\x3c\/code\x3e 监听 \x3ccode\x3emouse\x3c\/code\x3e 和 \x3ccode\x3etouch\x3c\/code\x3e 相关事件，控制  \x3ccode\x3ecircleRipple\x3c\/code\x3e 的显示，位置。\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3ecircleRipple.vue\x3c\/h2\x3e\n\x3cp\x3e\x3ccode\x3ecircleRipple\x3c\/code\x3e 需要完成波纹扩展的效果，而且可以从外部控制它的大小和位置, 所以利用 \x3ccode\x3evue\x3c\/code\x3e 的 \x3ccode\x3etransition\x3c\/code\x3e 动画完成效果, 提供 \x3ccode\x3emergeStyle\x3c\/code\x3e 、 \x3ccode\x3ecolor\x3c\/code\x3e 、\x3ccode\x3eopacity\x3c\/code\x3e 参数来从外部控制它的样式。实现代码如下。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3ctemplate\x3e\n  \x3ctransition name=\x26quot;mu-ripple\x26quot;\x3e\n    \x3cdiv class=\x26quot;mu-circle-ripple\x26quot; :style=\x26quot;styles\x26quot;\x3e\x3c\/div\x3e\n  \x3c\/transition\x3e\n\x3c\/template\x3e\n\n\x3cscript\x3e\nimport {merge} from \x27..\/utils\x27\nexport default {\n  props: {\n    mergeStyle: {\n      type: Object,\n      default () {\n        return {}\n      }\n    },\n    color: {\n      type: String,\n      default: \x27\x27\n    },\n    opacity: {\n      type: Number\n    }\n  },\n  computed: {\n    styles () {\n      return merge({}, {color: this.color, opacity: this.opacity}, this.mergeStyle)\n    }\n  }\n}\n\x3c\/script\x3e\n\n\x3cstyle lang=\x26quot;less\x26quot;\x3e\n@import \x26quot;..\/styles\/import.less\x26quot;;\n.mu-circle-ripple{\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  left: 0;\n  top: 0;\n  pointer-events: none;\n  user-select: none;\n  border-radius: 50%;\n  background-color: currentColor;\n  background-clip: padding-box;\n  opacity: 0.1;\n}\n\n.mu-ripple-enter-active, .mu-ripple-leave-active{\n  transition: transform 1s @easeOutFunction, opacity 2s @easeOutFunction;\n}\n\n.mu-ripple-enter {\n  transform: scale(0);\n}\n\n.mu-ripple-leave-active{\n  opacity: 0 !important;\n}\n\x3c\/style\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22xml hljs\x22\x3e\x3ccode class=\x22html\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etransition\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22mu-ripple\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22mu-circle-ripple\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3e:style\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22styles\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etransition\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22javascript\x22\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e {merge} \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27..\/utils\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-attr\x22\x3eprops\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-attr\x22\x3emergeStyle\x3c\/span\x3e: {\n      \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e: \x3cspan class=\x22hljs-built_in\x22\x3eObject\x3c\/span\x3e,\n      \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e () {\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e {}\n      }\n    },\n    \x3cspan class=\x22hljs-attr\x22\x3ecolor\x3c\/span\x3e: {\n      \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e: \x3cspan class=\x22hljs-built_in\x22\x3eString\x3c\/span\x3e,\n      \x3cspan class=\x22hljs-attr\x22\x3edefault\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e\n    },\n    \x3cspan class=\x22hljs-attr\x22\x3eopacity\x3c\/span\x3e: {\n      \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e: \x3cspan class=\x22hljs-built_in\x22\x3eNumber\x3c\/span\x3e\n    }\n  },\n  \x3cspan class=\x22hljs-attr\x22\x3ecomputed\x3c\/span\x3e: {\n    styles () {\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e merge({}, {\x3cspan class=\x22hljs-attr\x22\x3ecolor\x3c\/span\x3e: \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.color, \x3cspan class=\x22hljs-attr\x22\x3eopacity\x3c\/span\x3e: \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.opacity}, \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.mergeStyle)\n    }\n  }\n}\n\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3estyle\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3elang\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22less\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22css\x22\x3e\n@\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22..\/styles\/import.less\x22\x3c\/span\x3e;\n\x3cspan class=\x22hljs-selector-class\x22\x3e.mu-circle-ripple\x3c\/span\x3e{\n  \x3cspan class=\x22hljs-attribute\x22\x3eposition\x3c\/span\x3e: absolute;\n  \x3cspan class=\x22hljs-attribute\x22\x3ewidth\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e100%\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-attribute\x22\x3eheight\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e100%\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-attribute\x22\x3eleft\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-attribute\x22\x3etop\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-attribute\x22\x3epointer-events\x3c\/span\x3e: none;\n  \x3cspan class=\x22hljs-attribute\x22\x3euser-select\x3c\/span\x3e: none;\n  \x3cspan class=\x22hljs-attribute\x22\x3eborder-radius\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e50%\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-attribute\x22\x3ebackground-color\x3c\/span\x3e: currentColor;\n  \x3cspan class=\x22hljs-attribute\x22\x3ebackground-clip\x3c\/span\x3e: padding-box;\n  \x3cspan class=\x22hljs-attribute\x22\x3eopacity\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e0.1\x3c\/span\x3e;\n}\n\n\x3cspan class=\x22hljs-selector-class\x22\x3e.mu-ripple-enter-active\x3c\/span\x3e, \x3cspan class=\x22hljs-selector-class\x22\x3e.mu-ripple-leave-active\x3c\/span\x3e{\n  \x3cspan class=\x22hljs-attribute\x22\x3etransition\x3c\/span\x3e: transform \x3cspan class=\x22hljs-number\x22\x3e1s\x3c\/span\x3e @easeOutFunction, opacity \x3cspan class=\x22hljs-number\x22\x3e2s\x3c\/span\x3e @easeOutFunction;\n}\n\n\x3cspan class=\x22hljs-selector-class\x22\x3e.mu-ripple-enter\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-attribute\x22\x3etransform\x3c\/span\x3e: \x3cspan class=\x22hljs-built_in\x22\x3escale\x3c\/span\x3e(0);\n}\n\n\x3cspan class=\x22hljs-selector-class\x22\x3e.mu-ripple-leave-active\x3c\/span\x3e{\n  \x3cspan class=\x22hljs-attribute\x22\x3eopacity\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e \x3cspan class=\x22hljs-meta\x22\x3e!important\x3c\/span\x3e;\n}\n\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3estyle\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cblockquote\x3e\x3cp\x3evue2 对于动画方面做了比较大的修改，除了把指令换成组件外，它还可以完成更复杂的动画效果，具体可以看这里 \x3ca href=\x22http:\/\/rc.vuejs.org\/guide\/transitions.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3evue2 transition\x3c\/a\x3e\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3eTouchRipple.vue\x3c\/h2\x3e\n\x3cp\x3e\x3ccode\x3eTouchRipple\x3c\/code\x3e 需要控制 \x3ccode\x3ecircleRipple\x3c\/code\x3e 的显示。完成以下内容：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\x3cp\x3e监听 \x3ccode\x3emouse\x3c\/code\x3e 和 \x3ccode\x3etouch\x3c\/code\x3e 相关事件， 控制 \x3ccode\x3ecircleRipple\x3c\/code\x3e 的显示。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e通过点击事件 event 对象， 计算出 \x3ccode\x3ecircleRipple\x3c\/code\x3e 的大小和位置\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e如果频繁点击可能出现多个 \x3ccode\x3ecircleRipple\x3c\/code\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3ch3 id=\x22articleHeader3\x22\x3e首先，基本模板 \x2b 数据模型\x3c\/h3\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3ctemplate\x3e\n  \x3c!--最外层用div包裹--\x3e\n  \x3cdiv @mousedown=\x26quot;handleMouseDown\x26quot; @mouseup=\x26quot;end()\x26quot; @mouseleave=\x26quot;end()\x26quot; @touchstart=\x26quot;handleTouchStart\x26quot;  @touchend=\x26quot;end()\x26quot; @touchcancel=\x26quot;end()\x26quot;\x3e\n    \x3c!--外层包裹防止波纹溢出--\x3e\n    \x3cdiv :style=\x26quot;style\x26quot; ref=\x26quot;holder\x26quot;\x3e\n      \x3c!--多个波纹用 v-for 控制--\x3e\n      \x3ccircle-ripple :key=\x26quot;ripple.key\x26quot; :color=\x26quot;ripple.color\x26quot; :opacity=\x26quot;ripple.opacity\x26quot; :merge-style=\x26quot;ripple.style\x26quot; v-for=\x26quot;ripple in ripples\x26quot;\x3e\x3c\/circle-ripple\x3e\n    \x3c\/div\x3e\n    \x3c!--利用slot分发实际内容--\x3e\n    \x3cslot\x3e\x3c\/slot\x3e\n  \x3c\/div\x3e\n\x3c\/template\x3e\n\n\x3cscript\x3e\nimport circleRipple from \x27.\/circleRipple\x27\nexport default {\n  props: {\n    \/\/ 是否从中间扩散，设为false会从点击处扩散\n    centerRipple: {\n      type: Boolean,\n      default: true\n    },\n    \/\/ 外层包裹的样式\n    style: {\n      type: Object,\n      default () {\n        return {\n          height: \x27100%\x27,\n          width: \x27100%\x27,\n          position: \x27absolute\x27,\n          top: \x270\x27,\n          left: \x270\x27,\n          overflow: \x27hidden\x27\n        }\n      }\n    },\n    \/\/ 波纹颜色\n    color: {\n      type: String,\n      default: \x27\x27\n    },\n    \/\/ 波纹透明度\n    opacity: {\n      type: Number\n    }\n  },\n  data () {\n    return {\n      nextKey: 0, \/\/ 记录下一个波纹元素的key值， 相当于uuid，不设置的话会使动画失效\n      ripples: [] \/\/ 波纹元素参数数组\n    }\n  },\n  mounted () {\n    this.ignoreNextMouseDown = false \/\/ 防止既有 touch 又有 mouse点击的情况\n  },\n  methods: {\n    start (event, isRippleTouchGenerated) {\n      \/\/ 开始波纹效果\n    },\n    end () {\n      \/\/ 结束波纹效果\n    },\n    handleMouseDown (event) {\n      \/\/ 监听 鼠标单击\n    },\n    handleTouchStart (event) {\n      \/\/ 监听 touchstart 方法\n    }\n  },\n  components: {\n    \x27circle-ripple\x27: circleRipple\n  }\n}\n\x3c\/script\x3e\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22xml hljs\x22\x3e\x3ccode class=\x22html\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-comment\x22\x3e\x26lt;!--最外层用div包裹--\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e @\x3cspan class=\x22hljs-attr\x22\x3emousedown\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22handleMouseDown\x22\x3c\/span\x3e @\x3cspan class=\x22hljs-attr\x22\x3emouseup\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22end()\x22\x3c\/span\x3e @\x3cspan class=\x22hljs-attr\x22\x3emouseleave\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22end()\x22\x3c\/span\x3e @\x3cspan class=\x22hljs-attr\x22\x3etouchstart\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22handleTouchStart\x22\x3c\/span\x3e  @\x3cspan class=\x22hljs-attr\x22\x3etouchend\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22end()\x22\x3c\/span\x3e @\x3cspan class=\x22hljs-attr\x22\x3etouchcancel\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22end()\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\x26lt;!--外层包裹防止波纹溢出--\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3e:style\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22style\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eref\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22holder\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n      \x3cspan class=\x22hljs-comment\x22\x3e\x26lt;!--多个波纹用 v-for 控制--\x26gt;\x3c\/span\x3e\n      \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ecircle-ripple\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3e:key\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22ripple.key\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3e:color\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22ripple.color\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3e:opacity\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22ripple.opacity\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3e:merge-style\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22ripple.style\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ev-for\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22ripple in ripples\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ecircle-ripple\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\x26lt;!--利用slot分发实际内容--\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eslot\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eslot\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22javascript\x22\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e circleRipple \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/circleRipple\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-attr\x22\x3eprops\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 是否从中间扩散，设为false会从点击处扩散\x3c\/span\x3e\n    centerRipple: {\n      \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e: \x3cspan class=\x22hljs-built_in\x22\x3eBoolean\x3c\/span\x3e,\n      \x3cspan class=\x22hljs-attr\x22\x3edefault\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e\n    },\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 外层包裹的样式\x3c\/span\x3e\n    style: {\n      \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e: \x3cspan class=\x22hljs-built_in\x22\x3eObject\x3c\/span\x3e,\n      \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e () {\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e {\n          \x3cspan class=\x22hljs-attr\x22\x3eheight\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27100%\x27\x3c\/span\x3e,\n          \x3cspan class=\x22hljs-attr\x22\x3ewidth\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27100%\x27\x3c\/span\x3e,\n          \x3cspan class=\x22hljs-attr\x22\x3eposition\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27absolute\x27\x3c\/span\x3e,\n          \x3cspan class=\x22hljs-attr\x22\x3etop\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x270\x27\x3c\/span\x3e,\n          \x3cspan class=\x22hljs-attr\x22\x3eleft\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x270\x27\x3c\/span\x3e,\n          \x3cspan class=\x22hljs-attr\x22\x3eoverflow\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27hidden\x27\x3c\/span\x3e\n        }\n      }\n    },\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 波纹颜色\x3c\/span\x3e\n    color: {\n      \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e: \x3cspan class=\x22hljs-built_in\x22\x3eString\x3c\/span\x3e,\n      \x3cspan class=\x22hljs-attr\x22\x3edefault\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e\n    },\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 波纹透明度\x3c\/span\x3e\n    opacity: {\n      \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e: \x3cspan class=\x22hljs-built_in\x22\x3eNumber\x3c\/span\x3e\n    }\n  },\n  data () {\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e {\n      \x3cspan class=\x22hljs-attr\x22\x3enextKey\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e, \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 记录下一个波纹元素的key值， 相当于uuid，不设置的话会使动画失效\x3c\/span\x3e\n      ripples: [] \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 波纹元素参数数组\x3c\/span\x3e\n    }\n  },\n  mounted () {\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.ignoreNextMouseDown = \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 防止既有 touch 又有 mouse点击的情况\x3c\/span\x3e\n  },\n  \x3cspan class=\x22hljs-attr\x22\x3emethods\x3c\/span\x3e: {\n    start (event, isRippleTouchGenerated) {\n      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 开始波纹效果\x3c\/span\x3e\n    },\n    end () {\n      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 结束波纹效果\x3c\/span\x3e\n    },\n    handleMouseDown (event) {\n      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 监听 鼠标单击\x3c\/span\x3e\n    },\n    handleTouchStart (event) {\n      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 监听 touchstart 方法\x3c\/span\x3e\n    }\n  },\n  \x3cspan class=\x22hljs-attr\x22\x3ecomponents\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-string\x22\x3e\x27circle-ripple\x27\x3c\/span\x3e: circleRipple\n  }\n}\n\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader4\x22\x3e开始和结束波纹效果\x3c\/h3\x3e\n\x3cp\x3e增加一个波纹元素只需要在 \x3cstrong\x3eripple\x3c\/strong\x3e 增加一个 object 即可，不同的是当需要从点击处扩展时，需要计算一下波纹元素的大小和位置。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22{\n  \/\/ isRippleTouchGenerated 是否是touch 事件开始的\n  start (event, isRippleTouchGenerated) {\n    \/\/ 过滤 touchstart 和 mousedown 同时存在的情况\n    if (this.ignoreNextMouseDown \x26amp;\x26amp; !isRippleTouchGenerated) {\n      this.ignoreNextMouseDown = false\n      return\n    }\n    \n    \/\/ 添加一个 波纹元素组件\n    this.ripples.push({\n      key: this.nextKey\x2b\x2b, \n      color: this.color,\n      opacity: this.opacity,\n      style: this.centerRipple ? {} : this.getRippleStyle(event) \/\/ 不是从中心扩展的需要计算波纹元素的位置\n    })\n    this.ignoreNextMouseDown = isRippleTouchGenerated\n },\n end () {\n   if (this.ripples.length === 0) return\n   this.ripples.splice(0, 1) \/\/ 删除一个波纹元素\n   this.stopListeningForScrollAbort() \/\/ 结束 touch 滚动的处理\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e{\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ isRippleTouchGenerated 是否是touch 事件开始的\x3c\/span\x3e\n  start (event, isRippleTouchGenerated) {\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 过滤 touchstart 和 mousedown 同时存在的情况\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.ignoreNextMouseDown \x26amp;\x26amp; !isRippleTouchGenerated) {\n      \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.ignoreNextMouseDown = \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e\n    }\n    \n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 添加一个 波纹元素组件\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.ripples.push({\n      \x3cspan class=\x22hljs-attr\x22\x3ekey\x3c\/span\x3e: \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.nextKey\x2b\x2b, \n      \x3cspan class=\x22hljs-attr\x22\x3ecolor\x3c\/span\x3e: \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.color,\n      \x3cspan class=\x22hljs-attr\x22\x3eopacity\x3c\/span\x3e: \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.opacity,\n      \x3cspan class=\x22hljs-attr\x22\x3estyle\x3c\/span\x3e: \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.centerRipple ? {} : \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.getRippleStyle(event) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 不是从中心扩展的需要计算波纹元素的位置\x3c\/span\x3e\n    })\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.ignoreNextMouseDown = isRippleTouchGenerated\n },\n end () {\n   \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.ripples.length === \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e) \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e\n   \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.ripples.splice(\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 删除一个波纹元素\x3c\/span\x3e\n   \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.stopListeningForScrollAbort() \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 结束 touch 滚动的处理\x3c\/span\x3e\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e因为 vue2 基于 Virtual DOM 的， 所以如果没有 \x3ccode\x3ekey\x3c\/code\x3e 在增加一个元素又同时删除一个元素的时候，dom tree并没有发生变化，是不会产生动画效果的。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader5\x22\x3e监听 mousedown 和 touchstart\x3c\/h3\x3e\n\x3cp\x3emousedown 和 touchstart 处理上会有所不同，但都是用来启动波纹效果的， touch涉及到多点点击的问题，我们一般取第一个即可。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22{\n    handleMouseDown (event) {\n      \/\/ 只监听鼠标左键的点击\n      if (event.button === 0) {\n        this.start(event, false)\n      }\n    },\n    handleTouchStart (event) {\n      event.stopPropagation() \/\/ 防止多个波纹点击组件嵌套\n      if (event.touches) {\n        this.startListeningForScrollAbort(event) \/\/ 启动 touchmove 触发滚动处理\n        this.startTime = Date.now()\n      }\n      this.start(event.touches[0], true)\n    }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e{\n    handleMouseDown (event) {\n      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 只监听鼠标左键的点击\x3c\/span\x3e\n      \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (event.button === \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e) {\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.start(event, \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e)\n      }\n    },\n    handleTouchStart (event) {\n      event.stopPropagation() \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 防止多个波纹点击组件嵌套\x3c\/span\x3e\n      \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (event.touches) {\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.startListeningForScrollAbort(event) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 启动 touchmove 触发滚动处理\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.startTime = \x3cspan class=\x22hljs-built_in\x22\x3eDate\x3c\/span\x3e.now()\n      }\n      \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.start(event.touches[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e], \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e)\n    }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader6\x22\x3etouchmove控制\x3c\/h3\x3e\n\x3cp\x3e当发生touchMove事件是需要判断是否，移动的距离和时间，然后结束小波纹点击小姑\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22{\n  \/\/ touchmove 结束波纹控制\n  stopListeningForScrollAbort () {\n    if (!this.handleMove) this.handleMove = this.handleTouchMove.bind(this)\n    document.body.removeEventListener(\x27touchmove\x27, this.handleMove, false)\n  },\n  startListeningForScrollAbort (event) {\n    this.firstTouchY = event.touches[0].clientY\n    this.firstTouchX = event.touches[0].clientX\n    document.body.addEventListener(\x27touchmove\x27, this.handleMove, false)\n  },\n  handleTouchMove (event) {\n    const timeSinceStart = Math.abs(Date.now() - this.startTime)\n    if (timeSinceStart \x3e 300) {\n      this.stopListeningForScrollAbort()\n      return\n    }\n    const deltaY = Math.abs(event.touches[0].clientY - this.firstTouchY)\n    const deltaX = Math.abs(event.touches[0].clientX - this.firstTouchX)\n    \/\/ 滑动范围在 \x3e 6px 结束波纹点击效果\n    if (deltaY \x3e 6 || deltaX \x3e 6) this.end()\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e{\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ touchmove 结束波纹控制\x3c\/span\x3e\n  stopListeningForScrollAbort () {\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (!\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.handleMove) \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.handleMove = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.handleTouchMove.bind(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e)\n    \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.body.removeEventListener(\x3cspan class=\x22hljs-string\x22\x3e\x27touchmove\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.handleMove, \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e)\n  },\n  startListeningForScrollAbort (event) {\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.firstTouchY = event.touches[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e].clientY\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.firstTouchX = event.touches[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e].clientX\n    \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.body.addEventListener(\x3cspan class=\x22hljs-string\x22\x3e\x27touchmove\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.handleMove, \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e)\n  },\n  handleTouchMove (event) {\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e timeSinceStart = \x3cspan class=\x22hljs-built_in\x22\x3eMath\x3c\/span\x3e.abs(\x3cspan class=\x22hljs-built_in\x22\x3eDate\x3c\/span\x3e.now() - \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.startTime)\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (timeSinceStart \x26gt; \x3cspan class=\x22hljs-number\x22\x3e300\x3c\/span\x3e) {\n      \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.stopListeningForScrollAbort()\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e\n    }\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e deltaY = \x3cspan class=\x22hljs-built_in\x22\x3eMath\x3c\/span\x3e.abs(event.touches[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e].clientY - \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.firstTouchY)\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e deltaX = \x3cspan class=\x22hljs-built_in\x22\x3eMath\x3c\/span\x3e.abs(event.touches[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e].clientX - \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.firstTouchX)\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 滑动范围在 \x26gt; 6px 结束波纹点击效果\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (deltaY \x26gt; \x3cspan class=\x22hljs-number\x22\x3e6\x3c\/span\x3e || deltaX \x26gt; \x3cspan class=\x22hljs-number\x22\x3e6\x3c\/span\x3e) \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.end()\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader7\x22\x3e计算波纹的位置和大小\x3c\/h3\x3e\n\x3cp\x3e需要从点击处扩散的波纹效果，需要计算波纹元素的大小和位置\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22{\n  getRippleStyle (event) {\n    let holder = this.$refs.holder\n    \/\/  这个方法返回一个矩形对象，包含四个属性：left、top、right和bottom。分别表示元素各边与页面上边和左边的距离。\n    let rect = holder.getBoundingClientRect() \n    \/\/ 获取点击点的位置\n    let x = event.offsetX\n    let y\n    if (x !== undefined) {\n      y = event.offsetY\n    } else {\n      x = event.clientX - rect.left\n      y = event.clientY - rect.top\n    }\n    \/\/ 获取最大边长\n    let max\n    if (rect.width === rect.height) {\n      max = rect.width * 1.412\n    } else {\n      max = Math.sqrt(\n        (rect.width * rect.width) \x2b (rect.height * rect.height)\n      )\n    }\n    const dim = (max * 2) \x2b \x27px\x27\n    return {\n      width: dim,\n      height: dim,\n      \/\/ 通过margin控制波纹中心点和点击点一致\n      \x27margin-left\x27: -max \x2b x \x2b \x27px\x27,\n      \x27margin-top\x27: -max \x2b y \x2b \x27px\x27\n    }\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e{\n  getRippleStyle (event) {\n    \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e holder = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$refs.holder\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/  这个方法返回一个矩形对象，包含四个属性：left、top、right和bottom。分别表示元素各边与页面上边和左边的距离。\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e rect = holder.getBoundingClientRect() \n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 获取点击点的位置\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e x = event.offsetX\n    \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e y\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (x !== \x3cspan class=\x22hljs-literal\x22\x3eundefined\x3c\/span\x3e) {\n      y = event.offsetY\n    } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n      x = event.clientX - rect.left\n      y = event.clientY - rect.top\n    }\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 获取最大边长\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e max\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (rect.width === rect.height) {\n      max = rect.width * \x3cspan class=\x22hljs-number\x22\x3e1.412\x3c\/span\x3e\n    } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n      max = \x3cspan class=\x22hljs-built_in\x22\x3eMath\x3c\/span\x3e.sqrt(\n        (rect.width * rect.width) \x2b (rect.height * rect.height)\n      )\n    }\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e dim = (max * \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e) \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27px\x27\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e {\n      \x3cspan class=\x22hljs-attr\x22\x3ewidth\x3c\/span\x3e: dim,\n      \x3cspan class=\x22hljs-attr\x22\x3eheight\x3c\/span\x3e: dim,\n      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 通过margin控制波纹中心点和点击点一致\x3c\/span\x3e\n      \x3cspan class=\x22hljs-string\x22\x3e\x27margin-left\x27\x3c\/span\x3e: -max \x2b x \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27px\x27\x3c\/span\x3e,\n      \x3cspan class=\x22hljs-string\x22\x3e\x27margin-top\x27\x3c\/span\x3e: -max \x2b y \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27px\x27\x3c\/span\x3e\n    }\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader8\x22\x3e使用\x3c\/h2\x3e\n\x3cp\x3e由于 \x3ccode\x3etouchRipple\x3c\/code\x3e 内部都是 \x3cstrong\x3eposition:absolute\x3c\/strong\x3e 布局，使用时，需要在外部加上 \x3cstrong\x3eposition:relative\x3c\/strong\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ listItem.vue\n\x3ca :href=\x26quot;href\x26quot; @mouseenter=\x26quot;hover = true\x26quot; @mouseleave=\x26quot;hover = false\x26quot; @touchend=\x26quot;hover = false\x26quot;\n    @touchcancel=\x26quot;hover = false\x26quot; class=\x26quot;mu-item-wrapper\x26quot; :class=\x26quot;{\x27hover\x27: hover}\x26quot;\x3e\n    \x3ctouch-ripple class=\x26quot;mu-item\x26quot; :class=\x26quot;{\x27mu-item-link\x27: link}\x26quot; :center-ripple=\x26quot;false\x26quot;\x3e\n      \x3cdiv class=\x26quot;mu-item-media\x26quot;\x3e\n        \x3cslot name=\x26quot;media\x26quot;\x3e\x3c\/slot\x3e\n      \x3c\/div\x3e\n      \x3cdiv class=\x26quot;mu-item-content\x26quot;\x3e\n        \/\/ ...\n      \x3c\/div\x3e\n    \x3c\/touch-ripple\x3e\n\x3c\/a\x3e\n\x3cstyle\x3e\n\n.mu-item-wrapper {\n    display: block;\n    color: inherit;\n    position: relative;\n}\n\x3c\/style\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22xml hljs\x22\x3e\x3ccode class=\x22html\x22\x3e\/\/ listItem.vue\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3e:href\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22href\x22\x3c\/span\x3e @\x3cspan class=\x22hljs-attr\x22\x3emouseenter\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22hover = true\x22\x3c\/span\x3e @\x3cspan class=\x22hljs-attr\x22\x3emouseleave\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22hover = false\x22\x3c\/span\x3e @\x3cspan class=\x22hljs-attr\x22\x3etouchend\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22hover = false\x22\x3c\/span\x3e\n    @\x3cspan class=\x22hljs-attr\x22\x3etouchcancel\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22hover = false\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22mu-item-wrapper\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3e:class\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22{\x27hover\x27: hover}\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etouch-ripple\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22mu-item\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3e:class\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22{\x27mu-item-link\x27: link}\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3e:center-ripple\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22false\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n      \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22mu-item-media\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eslot\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22media\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eslot\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n      \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n      \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22mu-item-content\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \/\/ ...\n      \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etouch-ripple\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3estyle\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22css\x22\x3e\n\n\x3cspan class=\x22hljs-selector-class\x22\x3e.mu-item-wrapper\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-attribute\x22\x3edisplay\x3c\/span\x3e: block;\n    \x3cspan class=\x22hljs-attribute\x22\x3ecolor\x3c\/span\x3e: inherit;\n    \x3cspan class=\x22hljs-attribute\x22\x3eposition\x3c\/span\x3e: relative;\n}\n\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3estyle\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader9\x22\x3e最后\x3c\/h2\x3e\n\x3cp\x3e到这点击波纹组件就开发完了， 这些代码借鉴了 \x3ca href=\x22https:\/\/github.com\/JosephusPaye\/Keen-UI\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ekeen-ui\x3c\/a\x3e 和 \x3ca href=\x22http:\/\/www.material-ui.com\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ematerial-ui\x3c\/a\x3e 的实现方式。\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>vue 开发波纹点击特效组件</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000006931367">https://segmentfault.com/a/1190000006931367</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/pu5aus7pma/" target="_blank">https://alili.tech/archive/pu5aus7pma/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/sj57jxyoook/">ES6 &#43; Webpack &#43; React &#43; Babel 如何在低版本浏览器上愉快的玩耍（上）<aside class="dates">2019-02-03</aside></a></li><li><a href="/archive/qsw902j95k/">ES6 &#43; Webpack &#43; React &#43; Babel 如何在低版本浏览器上愉快的玩耍（下）<aside class="dates">2019-02-03</aside></a></li><li><a href="/archive/nnpmjlot58j/">IndexedDB使用与出坑指南<aside class="dates">2019-02-03</aside></a></li><li><a href="/archive/alvlbas9oai/">JS事件模型<aside class="dates">2019-02-03</aside></a></li><li><a href="/archive/u0pzym8k36o/">JS练习实例--编写经典小游戏俄罗斯方块<aside class="dates">2019-02-03</aside></a></li><li><a href="/archive/khwpyk5yz8q/">JavaScript 事件代理和委托<aside class="dates">2019-02-03</aside></a></li><li><a href="/archive/kuocl6lc3n/">JavaScript 版俄罗斯方块<aside class="dates">2019-02-03</aside></a></li><li><a href="/archive/n8bk54lyrf/">Promise学习:基础入门<aside class="dates">2019-02-03</aside></a></li><li><a href="/archive/7bk7u30qncb/">Redux 入坑进阶 - 源码解析<aside class="dates">2019-02-03</aside></a></li><li><a href="/archive/853kqfmqmf7/">Snap.svg 基本知识入门<aside class="dates">2019-02-03</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>