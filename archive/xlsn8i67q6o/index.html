<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="Canvas getContext(&#34;3d&#34;)?"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>Canvas getContext(&#34;3d&#34;)? | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/xlsn8i67q6o/",
				"appid": "1613049289050283", 
				"title": "Canvas getContext(&#34;3d&#34;)? | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-17T02:30:25"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/zmt3ura18li/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/hqya064le2r/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fxlsn8i67q6o%2f&text=Canvas%20getContext%28%223d%22%29%3f"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fxlsn8i67q6o%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fxlsn8i67q6o%2f&text=Canvas%20getContext%28%223d%22%29%3f"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fxlsn8i67q6o%2f&title=Canvas%20getContext%28%223d%22%29%3f"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fxlsn8i67q6o%2f&is_video=false&description=Canvas%20getContext%28%223d%22%29%3f"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=Canvas%20getContext%28%223d%22%29%3f&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fxlsn8i67q6o%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fxlsn8i67q6o%2f&title=Canvas%20getContext%28%223d%22%29%3f"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fxlsn8i67q6o%2f&title=Canvas%20getContext%28%223d%22%29%3f"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fxlsn8i67q6o%2f&title=Canvas%20getContext%28%223d%22%29%3f"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fxlsn8i67q6o%2f&title=Canvas%20getContext%28%223d%22%29%3f"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">Canvas getContext(&#34;3d&#34;)?</h1><div class="meta"><div class="postdate"><time datetime="2019-01-17" itemprop="datePublished">2019-01-17</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch2 id=\x22articleHeader0\x22\x3e前言\x3c\/h2\x3e\n\x3cp\x3e不好意思，标题其实是开了个玩笑。大家都知道，Canvas 获取绘画上下文的 api 是 getContext(\x222d\x22)。我第一次看到这个 api 定义的时候，就很自然的认为，既然有 2d 那一定是有 3d 的咯？ 但是我接着我看到了 api 介绍的这句话\x3c\/p\x3e\n\x3cblockquote\x3e\x3cp\x3e提示：在未来，如果 canvas 标签扩展到支持 3D 绘图，getContext() 方法可能允许传递一个 \x223d\x22 字符串参数。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3ewhat? 我有一句妈卖批不知当讲不当讲... 从接触 canvas 之后我就一直等这个未来，等到后来我学习 three.js... 再等到现在，这个 getContext(\x223d\x22) 还是没有出来。可能是因为越来越多浏览器都已经支持 webGL 的原因把，这个 getContext(\x223d\x22) 有可能再也不会来了。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVLnYx?w=1261\x26amp;h=454\x22 src=\x22https:\/\/static.alili.tech\/img\/bVLnYx?w=1261\x26amp;h=454\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3ewebGL 就是浏览器端的 3D 绘图标准，它直接借助系统显卡来渲染 3D 场景，它能制作的 3D 应用，是普通 canvas 无法相比的。所以，你有复杂的 3D 前端项目，且不考虑 IE 的兼容性的话。不用说，直接使用 webGL 吧。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e不使用 webGL 制作简单的 3D 效果\x3c\/h2\x3e\n\x3cp\x3e然而，有的时候我们只需要实现简单的 3D 效果。在没有学习 webGL 或这方面的框架的情况下，我们其实也可以在普通的 canvas api 基础上制作出来。而且，我们可以兼容 IE 9。先来看看，我们都能做些什么效果。\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/www.meizu.com\/products\/pro6\/summary.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/www.meizu.com\/products\/pro6\/summary.html\x3c\/a\x3e\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVLnY0?w=1004\x26amp;h=497\x22 src=\x22https:\/\/static.alili.tech\/img\/bVLnY0?w=1004\x26amp;h=497\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/www.meizu.com\/products\/pro6\/performance.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/www.meizu.com\/products\/pro6\/performance.html\x3c\/a\x3e\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVLnYV?w=1003\x26amp;h=440\x22 src=\x22https:\/\/static.alili.tech\/img\/bVLnYV?w=1003\x26amp;h=440\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e这的两个效果都是工作时简单的 3D 效果需求，没有必要使用 webGL。然而当时我并没有使用今天介绍的办法，因为没有扩展到 3D 坐标去实现所以只能很繁琐的转换成 2D 平面图形分析出来。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVLnZc?w=1004\x26amp;h=497\x22 src=\x22https:\/\/static.alili.tech\/img\/bVLnZc?w=1004\x26amp;h=497\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cbr\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVLnZe?w=1003\x26amp;h=440\x22 src=\x22https:\/\/static.alili.tech\/img\/bVLnZe?w=1003\x26amp;h=440\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e如果当时能使用今天介绍方法，将可以很简单、在很短时间就能实现。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3e素描知识的启发\x3c\/h2\x3e\n\x3cp\x3e因为平时以前在学校的时候学习过素描，现在平常也会简单画一点，所以对素描知识我有一点点了解。画画描绘真实世界的三维场景，需要用到透视。这里我当然不介绍太多，简单来说就是我们理解的近大远小，可以用简单的线条连接表示出来。两条平行的直线在无穷远的地方看起来会汇集到一起，而汇集的点，在透视里称作消失点。通过找到这个消失点，还有平行线，就可以画出简单的立体感觉的图像。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVLnZQ?w=433\x26amp;h=384\x22 src=\x22https:\/\/static.alili.tech\/img\/bVLnZQ?w=433\x26amp;h=384\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e观察上面这幅图，在这里所画的三维空间，所有的直线都是垂直与画面的，也就是所，如果用坐标描述每条直线上的任一点 v(x,y,z) 他们的 x,y 都是相等的。在画面上，离我们眼睛观察点越远的点，就越趋向与眼睛观察点的 x,y 。 那三维空间的坐标 v(x,y,z)，对应到平面的坐标 p(x\x27,y\x27) 其中这个 x,y 会随着 z 的变化，是不是会呈现一定的规律对应到 x\x27, y\x27 呢？\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader3\x22\x3e回忆中学物理课\x3c\/h2\x3e\n\x3cp\x3e我想起了中学学习过的一节物理课。小孔成像\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVLnZS?w=450\x26amp;h=255\x22 src=\x22https:\/\/static.alili.tech\/img\/bVLnZS?w=450\x26amp;h=255\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e三维空间的火焰，透过小孔，在二维成像屏上显示了二维的画面。那时候老师教我们，这其实最简单的照相机，和我们眼睛一样，光透过瞳孔，最终到达视网膜，在转换成我们看到的影像。照相机模拟我们的眼睛，所以拍出来的照片和我们眼睛看到的感觉是一样的。\x3c\/p\x3e\n\x3cp\x3e我们试着把刚才的实验转换到简单的几何坐标中看。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVLnZZ?w=1944\x26amp;h=992\x22 src=\x22https:\/\/static.alili.tech\/img\/bVLnZZ?w=1944\x26amp;h=992\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e观察 yz (x=0) 截面，假设小孔为坐标原点 (0,0,0) 成像屏到小孔的距离为 d，图中火焰上的一个点 a(0,y,z) 投射到成像屏对应点 a2，可以求的 a2 在成像屏中的平面坐标：x2 = 0, y2 = y * (d\/z)。我天，这么简单就找到了这个对应关系？ 先别急，为了方便开发，我们还需要做一点小转换。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader4\x22\x3e像 CSS 3D 一样表示坐标\x3c\/h2\x3e\n\x3cp\x3e在 CSS 3D transform 中，我们需要定义 perspective 属性，用来说明观察点到屏幕的距离。如果一个点的 z 轴是 0， 那这个点是处于二维点一样的位置。z 轴越小（远离屏幕），对应到屏幕上的显示的点 xy 就越趋向于定义 perspective 属性容器的中心，也就是观察点、眼睛对应到屏幕的 xy。我们的目标就是用这种 CSS 3D 的方式表示三维的坐标（z = 0 的时候三维坐标的 xy 是和屏幕坐标的 xy 一样的），然后再套用我们找到的公式，计算出对应到屏幕中的二维坐标是多少，然后我们就可以用三维坐标描述点的位置，真正在 canvas 绘画的时候呢，通过简单的转换，用计算出来的二维坐标绘画。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVLnZ3?w=2092\x26amp;h=934\x22 src=\x22https:\/\/static.alili.tech\/img\/bVLnZ3?w=2092\x26amp;h=934\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e上一步求的 a2 对应的平面坐标是倒立的（成像屏的火焰也是倒过来的），我们可以想想在小孔与成像屏前方等距的位置放置显示屏，我们像 CSS 3D 一样，让坐标系原点就是显示屏的中点。而小孔，就成了我们的观察点，既眼睛所在的位置，眼睛离显示屏的距离就是 p(perspective)。由全等三角形的知识可以知道，上图中 a2\x27 刚好是 a2 正过来的坐标。咦，看来屏幕坐标完全可以简化三维坐标点和眼睛的连线与屏幕的交点。这样，一个三维空间的点坐标对应到屏幕坐标的关系就找出来了。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader5\x22\x3e将这个关系用一个缩放值表示\x3c\/h2\x3e\n\x3cp\x3e既然已经描述出来这个关系了，我们再用把它表示成简单的公式。以便直接在代码中完成三维坐标到平面坐标的转换。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVLn0a?w=1994\x26amp;h=870\x22 src=\x22https:\/\/static.alili.tech\/img\/bVLn0a?w=1994\x26amp;h=870\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e已知观察者到屏幕的距离 p (perspective), 三维空间一个点的坐标 a(x,y,z)，求这个点在屏幕上的坐标。 图中，三维坐标 a 在坐标 xy 平面上的向量长度 d 和该点对应到屏幕上的点 a2\x27 在 xy 平面上的向量长度 d\x27，根据相似三角形，有这样的关系：\x3c\/p\x3e\n\x3cp\x3ed\x27\/d = p\/(p\x2bz)\x3c\/p\x3e\n\x3cp\x3ex 和 y 的值同理：\x3c\/p\x3e\n\x3cp\x3ex\x27\/x = p\/(p\x2bz)   y\x27\/y = p\/(p\x2bz)\x3c\/p\x3e\n\x3cp\x3e原来，三维空间的点坐标的 x 和 y 对应到屏幕平面上是关于 z 和 p 成比例变化的这个比例值就是\x3c\/p\x3e\n\x3cp\x3escale = p\/(p\x2bz)\x3c\/p\x3e\n\x3cp\x3e这个 scale 随着物体到屏幕的距离的值的变大而变小。这也很好地解释了为什么我们看东西会近大远小的原因：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVLn0m?w=2310\x26amp;h=1076\x22 src=\x22https:\/\/static.alili.tech\/img\/bVLn0m?w=2310\x26amp;h=1076\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader6\x22\x3e缩放值的使用实例\x3c\/h2\x3e\n\x3cp\x3e假设我们的眼睛看的就是屏幕中央，我们现在在 y = cvs.height \x2b 5 的 xz 平面上一个正方形区域画一系列的变长为 5 的矩形点。如果不做处理，那么可以想到我们直接使用些点的 x, y 坐标画的点，肯定在画布上是看不到的，因为范围超出了画布。而真实的世界里，我们是可以看到远处的点的，远处的点是趋向与屏幕中央的。\x3c\/p\x3e\n\x3ch4\x3e代码 1：\x3c\/h4\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22let cvs = document.querySelector(\x27canvas\x27);\nlet ctx = cvs.getContext(\x272d\x27);\n\nclass Point {\n    constructor(x, y, z) {\n        this.x = x;\n        this.y = y;\n        this.z = z;\n    }\n}\n\n\/\/ 根据 perspective 和 z 获取三维坐标对应二维坐标的xy缩放值\nfunction getScaleByZ(z, p=600) {\n    let scale; \n    if (z \x3e p) {\n        scale = Infinity;\n    } else {\n        scale = p \/ (-z \x2b p);\n    }\n    return scale;\n}\n\nfunction draw() {\n    ctx.clearRect(0,0,cvs.width,cvs.height);\n    \n    let rectWidth = 5;\n    points.forEach((point)=\x3e{\n        let scale = getScaleByZ(point.z);\n        let drawX = center.x \x2b (point.x -  center.x) * scale;\n        let drawY = center.y \x2b (point.y -  center.y) * scale;\n        let drawWidth = rectWidth * scale\n\n        ctx.fillStyle = \x27#abcdef\x27;\n        ctx.fillRect(drawX, drawY, drawWidth, drawWidth);\n    });\n}\n\n\nlet center = new Point(cvs.width\/2, cvs.height\/2, 0);\nlet points = [];\nlet xCount = 20; \/\/ x 方向的点数\nlet zCount = 20; \/\/ z 方向的点数\nlet step = cvs.width \/ xCount; \/\/ x 方向点之间的间隔\n\nfor (let i = -(xCount - 1) \/ 2; i \x3c= (xCount - 1) \/ 2; i\x2b\x2b) {\n    for (let j = -(zCount - 1) \/ 2; j \x3c= (zCount - 1) \/ 2; j\x2b\x2b) {\n\n        let x = i;\n        let z = j;\n        let y = 0;\n\n        console.log(x,y,z);\n\n        points.push(\n            new Point((x \x2b xCount\/2) * step, cvs.height \x2b 1, z * step)\n        );\n    }\n}\n\ndraw();\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e cvs = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.querySelector(\x3cspan class=\x22hljs-string\x22\x3e\x27canvas\x27\x3c\/span\x3e);\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e ctx = cvs.getContext(\x3cspan class=\x22hljs-string\x22\x3e\x272d\x27\x3c\/span\x3e);\n\n\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ePoint\x3c\/span\x3e \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3econstructor\x3c\/span\x3e(x, y, z) {\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.x = x;\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.y = y;\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.z = z;\n    }\n}\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 根据 perspective 和 z 获取三维坐标对应二维坐标的xy缩放值\x3c\/span\x3e\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3egetScaleByZ\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ez, p=\x3cspan class=\x22hljs-number\x22\x3e600\x3c\/span\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e scale; \n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (z \x26gt; p) {\n        scale = \x3cspan class=\x22hljs-literal\x22\x3eInfinity\x3c\/span\x3e;\n    } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n        scale = p \/ (-z \x2b p);\n    }\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e scale;\n}\n\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3edraw\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    ctx.clearRect(\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,cvs.width,cvs.height);\n    \n    \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e rectWidth = \x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e;\n    points.forEach(\x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3epoint\x3c\/span\x3e)=\x26gt;\x3c\/span\x3e{\n        \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e scale = getScaleByZ(point.z);\n        \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e drawX = center.x \x2b (point.x -  center.x) * scale;\n        \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e drawY = center.y \x2b (point.y -  center.y) * scale;\n        \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e drawWidth = rectWidth * scale\n\n        ctx.fillStyle = \x3cspan class=\x22hljs-string\x22\x3e\x27#abcdef\x27\x3c\/span\x3e;\n        ctx.fillRect(drawX, drawY, drawWidth, drawWidth);\n    });\n}\n\n\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e center = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Point(cvs.width\/\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e, cvs.height\/\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e);\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e points = [];\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e xCount = \x3cspan class=\x22hljs-number\x22\x3e20\x3c\/span\x3e; \x3cspan class=\x22hljs-comment\x22\x3e\/\/ x 方向的点数\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e zCount = \x3cspan class=\x22hljs-number\x22\x3e20\x3c\/span\x3e; \x3cspan class=\x22hljs-comment\x22\x3e\/\/ z 方向的点数\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e step = cvs.width \/ xCount; \x3cspan class=\x22hljs-comment\x22\x3e\/\/ x 方向点之间的间隔\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e i = -(xCount - \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e) \/ \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e; i \x26lt;= (xCount - \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e) \/ \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e; i\x2b\x2b) {\n    \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e j = -(zCount - \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e) \/ \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e; j \x26lt;= (zCount - \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e) \/ \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e; j\x2b\x2b) {\n\n        \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e x = i;\n        \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e z = j;\n        \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e y = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n\n        \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(x,y,z);\n\n        points.push(\n            \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Point((x \x2b xCount\/\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e) * step, cvs.height \x2b \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, z * step)\n        );\n    }\n}\n\ndraw();\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch4\x3e效果 1：\x3c\/h4\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVLn0o?w=1004\x26amp;h=507\x22 src=\x22https:\/\/static.alili.tech\/img\/bVLn0o?w=1004\x26amp;h=507\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e在 draw 方法里，我把三维的坐标转换成了屏幕坐标。并且，边长也根据缩放值重新计算了，远处的点，边长越小。代码最终运行的结果是我们可以看到远处的点，还是有 3D 的感觉的，不过不是很明显。我们改变生成点的逻辑，这一次，我们生成一个球面上的点。\x3c\/p\x3e\n\x3ch4\x3e代码 2：\x3c\/h4\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22let center = new Point(cvs.width\/2, cvs.height\/2, 0);\nlet points = [];\nlet circlePointCount = 30;\nlet angelStep = Math.PI * 2 \/ circlePointCount;\nlet radius = 10;\nlet step = 40;\n\nfor (let i = -radius; i \x3c= radius; i\x2b\x2b) {\n    let y = i;\n\n    for (let j = 0; j \x3c circlePointCount; j\x2b\x2b) {\n\n        let xzRadius = Math.sqrt(radius * radius - y * y);\n        let xzAngel = j * angelStep;\n        let x = xzRadius * Math.cos(xzAngel);\n        let z = xzRadius * Math.sin(xzAngel);\n\n        \/\/ console.log(x,y,z);\n\n        points.push(\n            new Point(\n                x * step \x2b cvs.width\/2, \n                y * step \x2b cvs.height\/2, \n                z * step - cvs.width\/2\n            )\n        );\n    }\n}\ndraw();\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e center = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Point(cvs.width\/\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e, cvs.height\/\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e);\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e points = [];\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e circlePointCount = \x3cspan class=\x22hljs-number\x22\x3e30\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e angelStep = \x3cspan class=\x22hljs-built_in\x22\x3eMath\x3c\/span\x3e.PI * \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e \/ circlePointCount;\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e radius = \x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e step = \x3cspan class=\x22hljs-number\x22\x3e40\x3c\/span\x3e;\n\n\x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e i = -radius; i \x26lt;= radius; i\x2b\x2b) {\n    \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e y = i;\n\n    \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e j = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; j \x26lt; circlePointCount; j\x2b\x2b) {\n\n        \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e xzRadius = \x3cspan class=\x22hljs-built_in\x22\x3eMath\x3c\/span\x3e.sqrt(radius * radius - y * y);\n        \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e xzAngel = j * angelStep;\n        \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e x = xzRadius * \x3cspan class=\x22hljs-built_in\x22\x3eMath\x3c\/span\x3e.cos(xzAngel);\n        \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e z = xzRadius * \x3cspan class=\x22hljs-built_in\x22\x3eMath\x3c\/span\x3e.sin(xzAngel);\n\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ console.log(x,y,z);\x3c\/span\x3e\n\n        points.push(\n            \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Point(\n                x * step \x2b cvs.width\/\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e, \n                y * step \x2b cvs.height\/\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e, \n                z * step - cvs.width\/\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e\n            )\n        );\n    }\n}\ndraw();\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch4\x3e效果 2\x3c\/h4\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVLn0r?w=990\x26amp;h=491\x22 src=\x22https:\/\/static.alili.tech\/img\/bVLn0r?w=990\x26amp;h=491\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e或者，再直接让它旋转起来。\x3c\/p\x3e\n\x3ch4\x3e代码 3\x3c\/h4\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function update(angelOffset) {\n    points = [];\n    for (let i = -radius; i \x3c= radius; i\x2b\x2b) {\n        let y = i;\n\n        for (let j = 0; j \x3c circlePointCount; j\x2b\x2b) {\n\n            let xzRadius = Math.sqrt(radius * radius - y * y);\n            let xzAngel = j * angelStep \x2b angelOffset;\n            let x = xzRadius * Math.cos(xzAngel);\n            let z = xzRadius * Math.sin(xzAngel);\n\n            \/\/ console.log(x,y,z);\n            points.push(\n                new Point(\n                    x * step \x2b cvs.width\/2, \n                    y * step \x2b cvs.height\/2, \n                    z * step - cvs.width\/2\n                )\n            );\n        }\n    }\n}\n\n(function() {\n    let angelOffset = 0;\n    function tick() {\n        update(angelOffset \x2b= 0.006);\n        draw();\n        window.requestAnimationFrame(tick);\n    }\n    tick();\n})();\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eupdate\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eangelOffset\x3c\/span\x3e) \x3c\/span\x3e{\n    points = [];\n    \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e i = -radius; i \x26lt;= radius; i\x2b\x2b) {\n        \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e y = i;\n\n        \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e j = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; j \x26lt; circlePointCount; j\x2b\x2b) {\n\n            \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e xzRadius = \x3cspan class=\x22hljs-built_in\x22\x3eMath\x3c\/span\x3e.sqrt(radius * radius - y * y);\n            \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e xzAngel = j * angelStep \x2b angelOffset;\n            \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e x = xzRadius * \x3cspan class=\x22hljs-built_in\x22\x3eMath\x3c\/span\x3e.cos(xzAngel);\n            \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e z = xzRadius * \x3cspan class=\x22hljs-built_in\x22\x3eMath\x3c\/span\x3e.sin(xzAngel);\n\n            \x3cspan class=\x22hljs-comment\x22\x3e\/\/ console.log(x,y,z);\x3c\/span\x3e\n            points.push(\n                \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Point(\n                    x * step \x2b cvs.width\/\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e, \n                    y * step \x2b cvs.height\/\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e, \n                    z * step - cvs.width\/\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e\n                )\n            );\n        }\n    }\n}\n\n(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e angelOffset = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3etick\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n        update(angelOffset \x2b= \x3cspan class=\x22hljs-number\x22\x3e0.006\x3c\/span\x3e);\n        draw();\n        \x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.requestAnimationFrame(tick);\n    }\n    tick();\n})();\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch4\x3e效果 3\x3c\/h4\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVLqub?w=800\x26amp;h=402\x22 src=\x22https:\/\/static.alili.tech\/img\/bVLqub?w=800\x26amp;h=402\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader7\x22\x3eF3.js\x3c\/h2\x3e\n\x3cp\x3e因为学过 three.js，three.js 有丰富的三维向量计算 api。我从源码里提取了这些计算向量的 api 再结合这篇文章里总结的转换方法计算二维的坐标写了一个专门在 canvas(2d) 上绘制三维场景的组件，因为是并非真的是调用3D api，所以我取名字叫 F3.js (fake3D) \x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/github.com\/gnauhca\/f3.js\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/github.com\/gnauhca\/f3.js\x3c\/a\x3e\x3c\/p\x3e\n\x3ch4\x3e使用 F3.js 制作的简单的 Demo：\x3c\/h4\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVLn0L?w=743\x26amp;h=404\x22 src=\x22https:\/\/static.alili.tech\/img\/bVLn0L?w=743\x26amp;h=404\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>Canvas getContext(&ldquo;3d&rdquo;)?</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000008871433">https://segmentfault.com/a/1190000008871433</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/xlsn8i67q6o/" target="_blank">https://alili.tech/archive/xlsn8i67q6o/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5x6tenwjeux/">ES6中的异步编程：Generators函数&#43;Promise:最强大的异步处理方式<aside class="dates">2019-01-31</aside></a></li><li><a href="/archive/nvtmua2a1hd/">GreenSock (TweenMax) 极简入门指南<aside class="dates">2019-01-31</aside></a></li><li><a href="/archive/7kt5s47oysx/">HTML5 中 canvas 的使用总结<aside class="dates">2019-01-31</aside></a></li><li><a href="/archive/41pgo3a2iyp/">JavaScript 开发者所需要知道的 V8（一）：V8 In NodeJS<aside class="dates">2019-01-31</aside></a></li><li><a href="/archive/krb1zm7x38j/">JavaScript 时间与日期处理实战:你肯定被坑过<aside class="dates">2019-01-31</aside></a></li><li><a href="/archive/yh2lq30d0x/">JavaScript中的各种宽高属性<aside class="dates">2019-01-31</aside></a></li><li><a href="/archive/eydwczesyv/">Muse UI — 基于 Vue2.0 的 Material Design UI 库<aside class="dates">2019-01-31</aside></a></li><li><a href="/archive/y62oejm8cr/">Nodejs基础：路径处理模块path总结<aside class="dates">2019-01-31</aside></a></li><li><a href="/archive/06cwh88ankmd/">PhantomJS &amp; NodeJS 在京东网站前端监控平台的最佳实践<aside class="dates">2019-01-31</aside></a></li><li><a href="/archive/z4ymvs0jz2h/">Promise 的链式调用与中止<aside class="dates">2019-01-31</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>