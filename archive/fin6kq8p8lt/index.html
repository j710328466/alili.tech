<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="科学处理多个 Vue 项目中共用的组件的 Events 和 Vuex"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>科学处理多个 Vue 项目中共用的组件的 Events 和 Vuex | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/fin6kq8p8lt/",
				"appid": "1613049289050283", 
				"title": "科学处理多个 Vue 项目中共用的组件的 Events 和 Vuex | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-27T02:31:00"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/ux4nny2xjrr/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/1pgt9cb7tz7/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2ffin6kq8p8lt%2f&text=%e7%a7%91%e5%ad%a6%e5%a4%84%e7%90%86%e5%a4%9a%e4%b8%aa%20Vue%20%e9%a1%b9%e7%9b%ae%e4%b8%ad%e5%85%b1%e7%94%a8%e7%9a%84%e7%bb%84%e4%bb%b6%e7%9a%84%20Events%20%e5%92%8c%20Vuex"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2ffin6kq8p8lt%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2ffin6kq8p8lt%2f&text=%e7%a7%91%e5%ad%a6%e5%a4%84%e7%90%86%e5%a4%9a%e4%b8%aa%20Vue%20%e9%a1%b9%e7%9b%ae%e4%b8%ad%e5%85%b1%e7%94%a8%e7%9a%84%e7%bb%84%e4%bb%b6%e7%9a%84%20Events%20%e5%92%8c%20Vuex"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2ffin6kq8p8lt%2f&title=%e7%a7%91%e5%ad%a6%e5%a4%84%e7%90%86%e5%a4%9a%e4%b8%aa%20Vue%20%e9%a1%b9%e7%9b%ae%e4%b8%ad%e5%85%b1%e7%94%a8%e7%9a%84%e7%bb%84%e4%bb%b6%e7%9a%84%20Events%20%e5%92%8c%20Vuex"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2ffin6kq8p8lt%2f&is_video=false&description=%e7%a7%91%e5%ad%a6%e5%a4%84%e7%90%86%e5%a4%9a%e4%b8%aa%20Vue%20%e9%a1%b9%e7%9b%ae%e4%b8%ad%e5%85%b1%e7%94%a8%e7%9a%84%e7%bb%84%e4%bb%b6%e7%9a%84%20Events%20%e5%92%8c%20Vuex"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e7%a7%91%e5%ad%a6%e5%a4%84%e7%90%86%e5%a4%9a%e4%b8%aa%20Vue%20%e9%a1%b9%e7%9b%ae%e4%b8%ad%e5%85%b1%e7%94%a8%e7%9a%84%e7%bb%84%e4%bb%b6%e7%9a%84%20Events%20%e5%92%8c%20Vuex&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2ffin6kq8p8lt%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2ffin6kq8p8lt%2f&title=%e7%a7%91%e5%ad%a6%e5%a4%84%e7%90%86%e5%a4%9a%e4%b8%aa%20Vue%20%e9%a1%b9%e7%9b%ae%e4%b8%ad%e5%85%b1%e7%94%a8%e7%9a%84%e7%bb%84%e4%bb%b6%e7%9a%84%20Events%20%e5%92%8c%20Vuex"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2ffin6kq8p8lt%2f&title=%e7%a7%91%e5%ad%a6%e5%a4%84%e7%90%86%e5%a4%9a%e4%b8%aa%20Vue%20%e9%a1%b9%e7%9b%ae%e4%b8%ad%e5%85%b1%e7%94%a8%e7%9a%84%e7%bb%84%e4%bb%b6%e7%9a%84%20Events%20%e5%92%8c%20Vuex"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2ffin6kq8p8lt%2f&title=%e7%a7%91%e5%ad%a6%e5%a4%84%e7%90%86%e5%a4%9a%e4%b8%aa%20Vue%20%e9%a1%b9%e7%9b%ae%e4%b8%ad%e5%85%b1%e7%94%a8%e7%9a%84%e7%bb%84%e4%bb%b6%e7%9a%84%20Events%20%e5%92%8c%20Vuex"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2ffin6kq8p8lt%2f&title=%e7%a7%91%e5%ad%a6%e5%a4%84%e7%90%86%e5%a4%9a%e4%b8%aa%20Vue%20%e9%a1%b9%e7%9b%ae%e4%b8%ad%e5%85%b1%e7%94%a8%e7%9a%84%e7%bb%84%e4%bb%b6%e7%9a%84%20Events%20%e5%92%8c%20Vuex"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">科学处理多个 Vue 项目中共用的组件的 Events 和 Vuex</h1><div class="meta"><div class="postdate"><time datetime="2019-01-27" itemprop="datePublished">2019-01-27</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e我们在做项目的时候，应该会有这种情况：\x3c\/p\x3e\n\x3cp\x3e\x22我写了一个组件，然后做成了 npm 包，然后给好几个项目一起用。\x22\x3c\/p\x3e\n\x3cp\x3e\x3ccode\x3eVue 组件\x3c\/code\x3e也是可以这么干的，所以在公司内部可能会将组件封装成 \x3ccode\x3enpm 模块\x3c\/code\x3e后分发给各个项目。\x3c\/p\x3e\n\x3cp\x3e不过在 Vue 的项目中，有两个小地方可能需要精心处理下 (●’◡’●)\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3e当公共组件使用 EventBus 时\x3c\/h2\x3e\n\x3cp\x3e\x3ccode\x3eEventBus\x3c\/code\x3e 并不是什么独立的东西，而是 Vue 的\x3ccode\x3e事件系统\x3c\/code\x3e的一个最佳实践，算是一种使用方式：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/**\n * EventBus.\n * src\/event-bus.js\n *\/\nexport default new Vue({})\n\n\n\/**\n * 我的公用组件 my-component.\n *\/\nimport EventBus from \x27src\/event-bus\x27\n\nexport default {\n  ...\n  methods: {\n    \/\/ 触发叫做 \x26quot;SomeModule:SomeEvent\x26quot; 的事件并传了值 \x26quot;Yeah~\x26quot; 过去~\n    triggerSomeEvent () {\n      EventBus.$emit(\x27SomeModule:SomeEvent\x27, \x27Yeah~\x27)\n    },\n\n    \/\/ 为我的组件注册两个事件~\n    registerEvents () {\n      EventBus.$on(\x27MyComponent:Event-01\x27, value =\x3e {\n        console.log(\x27Event-01 in MyComponent: \x27, value)\n      }),\n\n      EventBus.$on(\x27MyComponent:Event-02\x27, value =\x3e {\n        console.log(\x27Event-02 in MyComponent: \x27, value)\n      })\n    }\n  },\n\n  created () {\n    this.registerEvents()\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/**\n * EventBus.\n * src\/event-bus.js\n *\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Vue({})\n\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/**\n * 我的公用组件 my-component.\n *\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e EventBus \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27src\/event-bus\x27\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e {\n  ...\n  methods: {\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 触发叫做 \x22SomeModule:SomeEvent\x22 的事件并传了值 \x22Yeah~\x22 过去~\x3c\/span\x3e\n    triggerSomeEvent () {\n      EventBus.$emit(\x3cspan class=\x22hljs-string\x22\x3e\x27SomeModule:SomeEvent\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27Yeah~\x27\x3c\/span\x3e)\n    },\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 为我的组件注册两个事件~\x3c\/span\x3e\n    registerEvents () {\n      EventBus.$on(\x3cspan class=\x22hljs-string\x22\x3e\x27MyComponent:Event-01\x27\x3c\/span\x3e, value =\x26gt; {\n        \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27Event-01 in MyComponent: \x27\x3c\/span\x3e, value)\n      }),\n\n      EventBus.$on(\x3cspan class=\x22hljs-string\x22\x3e\x27MyComponent:Event-02\x27\x3c\/span\x3e, value =\x26gt; {\n        \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27Event-02 in MyComponent: \x27\x3c\/span\x3e, value)\n      })\n    }\n  },\n\n  created () {\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.registerEvents()\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e当我们的公用模块在使用 EventBus 的时候，会有一个微小的问题，看这句话：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import EventBus from \x27src\/event-bus\x27\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e EventBus \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27src\/event-bus\x27\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cstrong\x3e我怎么保证在使用我当前模块的不同的项目中的 EventBus 的路径都是 \x3ccode\x3esrc\/event-bus\x3c\/code\x3e 呢？\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e所以，我们需要抽象一层，让模块\x3ccode\x3e并不关心\x3c\/code\x3e这个 EventBus 是从哪里引入的：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 我们将 EventBus 做成插件，这样就可以在项目的任何组件内使用了.\n\/\/ 起名叫 $events.\n\/\/ 当检测到 $events 存在的时候就使用，不存在的时候使用其他方法.\n\n\/**\n * 我们将 event-bus 封装为一个插件.\n * plugin\/event-bus.js\n *\/\nexport default {\n  install (Vue) {\n    const EventBus = new Vue({})\n    Vue.prototype.$events = EventBus\n    Vue.EventBus = EventBus\n  }\n}\n\n\/**\n * 所以我的公用组件 my-component 要变为：\n *\/\nexport default {\n  ...\n  methods: {\n    \/\/ 触发叫做 \x26quot;SomeModule:SomeEvent\x26quot; 的事件并传了值 \x26quot;Yeah~\x26quot; 过去~\n    triggerSomeEvent () {\n      if (this.$events) {\n        this.$events.$emit(\x27SomeModule:SomeEvent\x27, \x27Yeah~\x27)        \n      } else {\n        \/\/ 其他方式...\n      }\n    },\n\n    \/\/ 为我的组件注册两个事件~\n    registerEvents () {\n      if (this.$events) {\n        this.$events.$on(\x27MyComponent:Event-01\x27, value =\x3e {\n          console.log(\x27Event-01 in MyComponent: \x27, value)\n        }),\n\n        this.$events.$on(\x27MyComponent:Event-02\x27, value =\x3e {\n          console.log(\x27Event-02 in MyComponent: \x27, value)\n        })\n      } else {\n        \/\/ 其他方式...\n      }\n    }\n  },\n\n  created () {\n    this.registerEvents()\n  }\n}\n\n\/**\n * 项目入口.\n * src\/index.js\n *\/\nimport Vue from \x27vue\x27\nimport EventBus from \x27plugin\/event-bus\x27\nimport MyComponent from \x27my-component\x27\n\nVue.use(EventBus)\n\nconst Root = new Vue({\n  components: {\n    MyComponent\n  },\n\n  methods: {\n    doSomething () {\n      this.$events.$emit(\x27MyComponent:Event-01\x27, \x27FA♂\x27)\n    }\n  }\n})\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 我们将 EventBus 做成插件，这样就可以在项目的任何组件内使用了.\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 起名叫 $events.\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 当检测到 $events 存在的时候就使用，不存在的时候使用其他方法.\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/**\n * 我们将 event-bus 封装为一个插件.\n * plugin\/event-bus.js\n *\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e {\n  install (Vue) {\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e EventBus = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Vue({})\n    Vue.prototype.$events = EventBus\n    Vue.EventBus = EventBus\n  }\n}\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/**\n * 所以我的公用组件 my-component 要变为：\n *\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e {\n  ...\n  methods: {\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 触发叫做 \x22SomeModule:SomeEvent\x22 的事件并传了值 \x22Yeah~\x22 过去~\x3c\/span\x3e\n    triggerSomeEvent () {\n      \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$events) {\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$events.$emit(\x3cspan class=\x22hljs-string\x22\x3e\x27SomeModule:SomeEvent\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27Yeah~\x27\x3c\/span\x3e)        \n      } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 其他方式...\x3c\/span\x3e\n      }\n    },\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 为我的组件注册两个事件~\x3c\/span\x3e\n    registerEvents () {\n      \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$events) {\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$events.$on(\x3cspan class=\x22hljs-string\x22\x3e\x27MyComponent:Event-01\x27\x3c\/span\x3e, value =\x26gt; {\n          \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27Event-01 in MyComponent: \x27\x3c\/span\x3e, value)\n        }),\n\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$events.$on(\x3cspan class=\x22hljs-string\x22\x3e\x27MyComponent:Event-02\x27\x3c\/span\x3e, value =\x26gt; {\n          \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27Event-02 in MyComponent: \x27\x3c\/span\x3e, value)\n        })\n      } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 其他方式...\x3c\/span\x3e\n      }\n    }\n  },\n\n  created () {\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.registerEvents()\n  }\n}\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/**\n * 项目入口.\n * src\/index.js\n *\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e Vue \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27vue\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e EventBus \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27plugin\/event-bus\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e MyComponent \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27my-component\x27\x3c\/span\x3e\n\nVue.use(EventBus)\n\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e Root = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Vue({\n  \x3cspan class=\x22hljs-attr\x22\x3ecomponents\x3c\/span\x3e: {\n    MyComponent\n  },\n\n  \x3cspan class=\x22hljs-attr\x22\x3emethods\x3c\/span\x3e: {\n    doSomething () {\n      \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$events.$emit(\x3cspan class=\x22hljs-string\x22\x3e\x27MyComponent:Event-01\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27FA♂\x27\x3c\/span\x3e)\n    }\n  }\n})\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3eOK，这样我们的组件就可以在不同项目中适应 EventBus 了！\x3c\/p\x3e\n\x3cp\x3e这里有一个组件 \x3ca href=\x22https:\/\/github.com\/cklmercer\/vue-events\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ecklmercer\/vue-events\x3c\/a\x3e 就是解决这种问题而存在的.\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e当公共组件使用 Vuex 时\x3c\/h2\x3e\n\x3cp\x3e这个问题仅仅存在于 \x3ccode\x3eVue 1.0\x3c\/code\x3e 的项目中，\x3ccode\x3eVue 2.0 \x2b Vuex 2.0\x3c\/code\x3e 已经解决这个问题：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/**\n * 我的公用组件 my-component.\n *\/\nimport store from \x27src\/vuex\/store\x27\nimport actions from \x27src\/vuex\/actions\x27\nimport getters from \x27src\/vuex\/getters\x27\n\nexport default {\n  ...\n  store,\n\n  vuex: {\n    actions, getters\n  },\n\n  computed: {\n    userName () {\n      \/\/ \x26quot;getUsername\x26quot; 是 Vuex 中定义好的 getter.\n      return this.getUsername\n    }\n  },\n\n  methods: {\n    changeDataInVuexByUsingAction () {\n      \/\/ \x26quot;setUserExperience\x26quot; 是 Vuex 中定义好的 action.\n      this.setUserExperience(450)\n    }\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/**\n * 我的公用组件 my-component.\n *\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e store \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27src\/vuex\/store\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e actions \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27src\/vuex\/actions\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e getters \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27src\/vuex\/getters\x27\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e {\n  ...\n  store,\n\n  \x3cspan class=\x22hljs-attr\x22\x3evuex\x3c\/span\x3e: {\n    actions, getters\n  },\n\n  \x3cspan class=\x22hljs-attr\x22\x3ecomputed\x3c\/span\x3e: {\n    userName () {\n      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x22getUsername\x22 是 Vuex 中定义好的 getter.\x3c\/span\x3e\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.getUsername\n    }\n  },\n\n  \x3cspan class=\x22hljs-attr\x22\x3emethods\x3c\/span\x3e: {\n    changeDataInVuexByUsingAction () {\n      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x22setUserExperience\x22 是 Vuex 中定义好的 action.\x3c\/span\x3e\n      \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.setUserExperience(\x3cspan class=\x22hljs-number\x22\x3e450\x3c\/span\x3e)\n    }\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e那么还是同样的问题，\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e我怎么保证在使用我当前模块的不同的项目中的 Vuex 的路径都是 \x3ccode\x3esrc\/vuex\x3c\/code\x3e 呢？\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e所以方法一样啦，抽象出来引用路径，让模块\x3ccode\x3e并不关心\x3c\/code\x3e是如何引入 Vuex 的：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 我们将 Vuex 做成插件，这样就可以在项目的任何组件内使用了.\n\/\/ 起名叫 $vuexer.\n\/\/ 当检测到 $vuexer 存在的时候就使用 Vuex，不存在的时候就将数据写入组件自己内部的 state 中.\n\n\/**\n * 我们将 event-bus 封装为一个插件.\n * plugin\/event-bus.js\n *\/\nexport default {\n  install (Vue, { store, actions, getters }) {\n    const vuexer = new Vue({\n      store, actions, getters\n    })\n    Vue.prototype.$vuexer = vuexer\n    Vue.vuexer = vuexer\n  }\n}\n\n\/**\n * 项目入口.\n * src\/index.js\n *\/\nimport Vue from \x27vue\x27\nimport Vuexer from \x27plugin\/vuexer\x27\n\nimport store from \x27src\/vuex\/store\x27\nimport actions from \x27src\/vuex\/actions\x27\nimport getters from \x27src\/vuex\/getters\x27\n\nimport MyComponent from \x27my-component\x27\n\nVue.use(Vuexer, {\n  store, actions, getters\n})\n\nconst Root = new Vue({\n  components: {\n    MyComponent\n  },\n\n  computed: {\n    userExperience () {\n      \/\/ \x26quot;getExperience\x26quot; 是在 Vuex 中定义好的 getter.\n      return this.$vuexer.getExperience\n    }\n  },\n\n  methods: {\n    changeUsernameInVuex () {\n      \/\/ \x26quot;setUsername\x26quot; 是在 Vuex 中定义好的 setter.\n      this.$vuexer.setUsername(\x27John Smith\x27)\n    }\n  }\n})\n\n\/**\n * 我的公用组件 my-component.\n *\/\nexport default {\n  data () {\n    return {\n      _userName: \x27神秘用户\x27,\n      _userExperience: 65535\n    }\n  },\n\n  computed: {\n    userName () {\n      \/\/ 如果有 Vuexer, 如果木有 Vuexer...\n      return this.$vuexer\n        ? this.$vuexer.getUsername\n        : this._userName\n    }\n  },\n\n  methods: {\n    \/\/ 如果有 vuexer, 如果木有 Vuexer...    \n    changeDataInVuexByUsingAction () {\n      const userExperience = 450\n      if (this.$vuexer) {\n        this.$vuexer.setUserExperience(userExperience)\n      } else {\n        this._userExperience = userExperience\n      }\n    }\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 我们将 Vuex 做成插件，这样就可以在项目的任何组件内使用了.\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 起名叫 $vuexer.\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 当检测到 $vuexer 存在的时候就使用 Vuex，不存在的时候就将数据写入组件自己内部的 state 中.\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/**\n * 我们将 event-bus 封装为一个插件.\n * plugin\/event-bus.js\n *\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e {\n  install (Vue, { store, actions, getters }) {\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e vuexer = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Vue({\n      store, actions, getters\n    })\n    Vue.prototype.$vuexer = vuexer\n    Vue.vuexer = vuexer\n  }\n}\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/**\n * 项目入口.\n * src\/index.js\n *\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e Vue \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27vue\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e Vuexer \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27plugin\/vuexer\x27\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e store \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27src\/vuex\/store\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e actions \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27src\/vuex\/actions\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e getters \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27src\/vuex\/getters\x27\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e MyComponent \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27my-component\x27\x3c\/span\x3e\n\nVue.use(Vuexer, {\n  store, actions, getters\n})\n\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e Root = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Vue({\n  \x3cspan class=\x22hljs-attr\x22\x3ecomponents\x3c\/span\x3e: {\n    MyComponent\n  },\n\n  \x3cspan class=\x22hljs-attr\x22\x3ecomputed\x3c\/span\x3e: {\n    userExperience () {\n      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x22getExperience\x22 是在 Vuex 中定义好的 getter.\x3c\/span\x3e\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$vuexer.getExperience\n    }\n  },\n\n  \x3cspan class=\x22hljs-attr\x22\x3emethods\x3c\/span\x3e: {\n    changeUsernameInVuex () {\n      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x22setUsername\x22 是在 Vuex 中定义好的 setter.\x3c\/span\x3e\n      \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$vuexer.setUsername(\x3cspan class=\x22hljs-string\x22\x3e\x27John Smith\x27\x3c\/span\x3e)\n    }\n  }\n})\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/**\n * 我的公用组件 my-component.\n *\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e {\n  data () {\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e {\n      \x3cspan class=\x22hljs-attr\x22\x3e_userName\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27神秘用户\x27\x3c\/span\x3e,\n      \x3cspan class=\x22hljs-attr\x22\x3e_userExperience\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e65535\x3c\/span\x3e\n    }\n  },\n\n  \x3cspan class=\x22hljs-attr\x22\x3ecomputed\x3c\/span\x3e: {\n    userName () {\n      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 如果有 Vuexer, 如果木有 Vuexer...\x3c\/span\x3e\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$vuexer\n        ? \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$vuexer.getUsername\n        : \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e._userName\n    }\n  },\n\n  \x3cspan class=\x22hljs-attr\x22\x3emethods\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 如果有 vuexer, 如果木有 Vuexer...    \x3c\/span\x3e\n    changeDataInVuexByUsingAction () {\n      \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e userExperience = \x3cspan class=\x22hljs-number\x22\x3e450\x3c\/span\x3e\n      \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$vuexer) {\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$vuexer.setUserExperience(userExperience)\n      } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e._userExperience = userExperience\n      }\n    }\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e妥！⁄(⁄ ⁄•⁄ω⁄•⁄ ⁄)⁄\x3c\/p\x3e\n\x3cp\x3e至于为什么 \x3ccode\x3eVue 2.0 \x2b Vuex 2.0\x3c\/code\x3e 木有这个问题：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 在 Vue 2.0 中使用 Vuex 要这么写：\n\/\/ 创建一个组件.\nconst Components = {\n  template: `\x3cdiv\x3e\x22{{\x22 count \x22}}\x22\x3c\/div\x3e`,\n  computed: {\n    count () {\n      return this.$store.getters.doneTodosCount  \/\/ 这是一个 getter.\n    }\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 在 Vue 2.0 中使用 Vuex 要这么写：\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 创建一个组件.\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e Components = {\n  \x3cspan class=\x22hljs-attr\x22\x3etemplate\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e`\x26lt;div\x26gt;\x22{{\x22 count \x22}}\x22\x26lt;\/div\x26gt;`\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-attr\x22\x3ecomputed\x3c\/span\x3e: {\n    count () {\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$store.getters.doneTodosCount  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 这是一个 getter.\x3c\/span\x3e\n    }\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e注意 \x3ccode\x3ecomputed\x3c\/code\x3e 中的 \x3ccode\x3ereturn this.$store.getters.doneTodosCount\x3c\/code\x3e，看看其中的 \x3ccode\x3ethis.$store\x3c\/code\x3e，\x3c\/p\x3e\n\x3cp\x3e是不是和 \x3ccode\x3ethis.$vuexer\x3c\/code\x3e 有点像？ (°∀°)ﾉ\x3c\/p\x3e\n\x3cp\x3e这里还有一个组件 \x3ca href=\x22https:\/\/github.com\/LancerComet\/vuexer\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3elancercomet\/vuexer\x3c\/a\x3e 就是为 \x3ccode\x3eVue 1.0\x3c\/code\x3e 解决这个问题的！\x3c\/p\x3e\n\x3cp\x3e完结撒花~\x3c\/p\x3e\n\x3cblockquote\x3e\x3cp\x3eBy LancerComet at 01:22, 2017.01.21.\x3c\/p\x3e\x3c\/blockquote\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>科学处理多个 Vue 项目中共用的组件的 Events 和 Vuex</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000008184629">https://segmentfault.com/a/1190000008184629</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/fin6kq8p8lt/" target="_blank">https://alili.tech/archive/fin6kq8p8lt/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5x6tenwjeux/">ES6中的异步编程：Generators函数&#43;Promise:最强大的异步处理方式<aside class="dates">2019-01-31</aside></a></li><li><a href="/archive/nvtmua2a1hd/">GreenSock (TweenMax) 极简入门指南<aside class="dates">2019-01-31</aside></a></li><li><a href="/archive/7kt5s47oysx/">HTML5 中 canvas 的使用总结<aside class="dates">2019-01-31</aside></a></li><li><a href="/archive/41pgo3a2iyp/">JavaScript 开发者所需要知道的 V8（一）：V8 In NodeJS<aside class="dates">2019-01-31</aside></a></li><li><a href="/archive/krb1zm7x38j/">JavaScript 时间与日期处理实战:你肯定被坑过<aside class="dates">2019-01-31</aside></a></li><li><a href="/archive/yh2lq30d0x/">JavaScript中的各种宽高属性<aside class="dates">2019-01-31</aside></a></li><li><a href="/archive/eydwczesyv/">Muse UI — 基于 Vue2.0 的 Material Design UI 库<aside class="dates">2019-01-31</aside></a></li><li><a href="/archive/y62oejm8cr/">Nodejs基础：路径处理模块path总结<aside class="dates">2019-01-31</aside></a></li><li><a href="/archive/06cwh88ankmd/">PhantomJS &amp; NodeJS 在京东网站前端监控平台的最佳实践<aside class="dates">2019-01-31</aside></a></li><li><a href="/archive/z4ymvs0jz2h/">Promise 的链式调用与中止<aside class="dates">2019-01-31</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>