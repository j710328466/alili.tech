<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="React的10种有效的设计模式"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>React的10种有效的设计模式 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/z94br1a9g2o/",
				"appid": "1613049289050283", 
				"title": "React的10种有效的设计模式 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-25T02:30:24"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/xe4kfnhxlfo/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/dgic8s5qnlg/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fz94br1a9g2o%2f&text=React%e7%9a%8410%e7%a7%8d%e6%9c%89%e6%95%88%e7%9a%84%e8%ae%be%e8%ae%a1%e6%a8%a1%e5%bc%8f"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fz94br1a9g2o%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fz94br1a9g2o%2f&text=React%e7%9a%8410%e7%a7%8d%e6%9c%89%e6%95%88%e7%9a%84%e8%ae%be%e8%ae%a1%e6%a8%a1%e5%bc%8f"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fz94br1a9g2o%2f&title=React%e7%9a%8410%e7%a7%8d%e6%9c%89%e6%95%88%e7%9a%84%e8%ae%be%e8%ae%a1%e6%a8%a1%e5%bc%8f"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fz94br1a9g2o%2f&is_video=false&description=React%e7%9a%8410%e7%a7%8d%e6%9c%89%e6%95%88%e7%9a%84%e8%ae%be%e8%ae%a1%e6%a8%a1%e5%bc%8f"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=React%e7%9a%8410%e7%a7%8d%e6%9c%89%e6%95%88%e7%9a%84%e8%ae%be%e8%ae%a1%e6%a8%a1%e5%bc%8f&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fz94br1a9g2o%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fz94br1a9g2o%2f&title=React%e7%9a%8410%e7%a7%8d%e6%9c%89%e6%95%88%e7%9a%84%e8%ae%be%e8%ae%a1%e6%a8%a1%e5%bc%8f"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fz94br1a9g2o%2f&title=React%e7%9a%8410%e7%a7%8d%e6%9c%89%e6%95%88%e7%9a%84%e8%ae%be%e8%ae%a1%e6%a8%a1%e5%bc%8f"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fz94br1a9g2o%2f&title=React%e7%9a%8410%e7%a7%8d%e6%9c%89%e6%95%88%e7%9a%84%e8%ae%be%e8%ae%a1%e6%a8%a1%e5%bc%8f"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fz94br1a9g2o%2f&title=React%e7%9a%8410%e7%a7%8d%e6%9c%89%e6%95%88%e7%9a%84%e8%ae%be%e8%ae%a1%e6%a8%a1%e5%bc%8f"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">React的10种有效的设计模式</h1><div class="meta"><div class="postdate"><time datetime="2019-01-25" itemprop="datePublished">2019-01-25</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch1 id=\x22articleHeader0\x22\x3e设计React的10种模式\x3c\/h1\x3e\n\x3cblockquote\x3e\x3cp\x3e本文翻译自\x3ca href=\x22https:\/\/hackernoon.com\/10-react-mini-patterns-c1da92f068c5#.7urw21e4e\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e10 React mini-patterns\x3c\/a\x3e。这篇文章由\x3ca href=\x22https:\/\/mrcodex.com\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3emrcode\x3c\/a\x3e翻译， 如果哪里翻译的不恰当或有错误的地方，欢迎指出。 同时也希望大家关注我的博客。 关注我的账号。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e在过去的几年里，我已经做了许多看起来挺不错的React项目。\x3cbr\x3e在这个神奇的旅程中，一些模式出现过很多次，我发现我一次又一次地重复着这些模式。\x3c\/p\x3e\n\x3cp\x3e什么是模式？\x3c\/p\x3e\n\x3cp\x3e这些模式是我想在学习React第一天就知道的事情。\x3cbr\x3e所以如果今天是你第一天学习React，你是如此的幸运。\x3c\/p\x3e\n\x3cp\x3e或者你并不幸运。只有一种方法可以决定你是否是幸运的...\x3c\/p\x3e\n\x3cp\x3e这是一个长长的列表，所以你可以跳过无聊的一些模式， 比如：3，6，8，10。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e1. Sending data down and up\x3c\/h2\x3e\n\x3cp\x3e我建议大家新学习React的一件事是传递信息的模式（信息可以是对象，字符串等）和传递方法下来允许子组件传递信息给父组件。\x3c\/p\x3e\n\x3cp\x3e就像把一包芯片和一个对讲机送到地下被困的矿工一样。\x3c\/p\x3e\n\x3cp\x3e图片怎么样？\x3cbr\x3e下面的事情是这种模式的最简单的形式。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000008506706?w=703\x26amp;h=287\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000008506706?w=703\x26amp;h=287\x22 alt=\x22Worth a thousand words?\x22 title=\x22Worth a thousand words?\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e父组件在左边，子组件在右边。\x3cbr\x3e你可以认为连接这些组件的两个props允许信息在两者之间的任一方向上流动。\x3c\/p\x3e\n\x3cp\x3e被称为\x3ccode\x3eitems\x3c\/code\x3e将被传递给子组件， \x3ccode\x3edeleteItem\x3c\/code\x3e将提供给子组件一种方案来发送信息给父组件。\x3c\/p\x3e\n\x3cp\x3e这不是一个真正的模式。剩下的肯定都是模式。我承诺。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3e2. Fixing HTML’s inputs\x3c\/h2\x3e\n\x3cp\x3eReact和web组件的一个伟大的事情是，如果在html中的东西不能按你想要的方式工作，你可以解决它。\x3c\/p\x3e\n\x3cp\x3e如果你考虑允许用户输入的不同元素，你很快就会看到这些元素的命名是荒谬的，几乎是鲁莽的。\x3c\/p\x3e\n\x3cp\x3e如果我建立一个将有很多用户输入的网站，我做的第一件事之一是解决这个问题。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000008506707?w=430\x26amp;h=765\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000008506707?w=430\x26amp;h=765\x22 alt=\x221\x22 title=\x221\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e还有更多的改进：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e输入应该通过onChange方法返回一个值，而不是一个JavaScript事件实例，对不？\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e你可以进一步确保在onChange返回的数据类型和传递的数据类型相匹配。如果\x3ccode\x3etypeof props.value\x3c\/code\x3e是number，然后将\x3ccode\x3ee.target.value\x3c\/code\x3e回到一个数字，然后再次发出数据。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e一组单选按钮在功能上与\x3ccode\x3e\x26lt;select\x26gt;\x3c\/code\x3e一样\x3cbr\x3e它是搞砸了，以一种完全不同的方式来对待它们，唯一的区别是UI。\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e也许你的应用程序有一个单一的\x3ccode\x3e\x26lt;PickOneFromMany \/\x26gt;\x3c\/code\x3e组件，并传递\x3ccode\x3eui =“radio”\x3c\/code\x3e或\x3ccode\x3eui =“dropDown”\x3c\/code\x3e。\x3c\/p\x3e\n\x3cp\x3e关键是不要像我这样做。\x3cbr\x3e关键是要使它们成为你自己的 - 你不需要继续使用HTML的用户输入元素的坑爹性质。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader3\x22\x3e3. Binding labels to inputs with unique IDs\x3c\/h2\x3e\n\x3cp\x3e关于输入...如果你关心你的用户，你将通过id \/ for组合将\x3ccode\x3e\x26lt;label\x26gt;\x3c\/code\x3e元素绑定到你的\x3ccode\x3e\x26lt;input\x26gt;\x3c\/code\x3e。\x3c\/p\x3e\n\x3cp\x3e但是你不想为你定义的每个输入想出一些聪明和独特的id，谁有时间呢？我不知道你，但我有山羊的视频观看。\x3c\/p\x3e\n\x3cp\x3e（提示：如果您的航班上有一个尖叫的孩子，闭上眼睛，假装您在YouTube上观看的山羊听起来像人类的视频，烦人的声音就会变得很热闹。）\x3c\/p\x3e\n\x3cp\x3e您可以为每个输入\/标签对生成随机ID，但是客户端呈现的HTML将与您呈现的服务器呈现的HTML不匹配。这并不是一个好的解决方案\x3cbr\x3e所以，你可以创建一个小的模块，给出一个递增的ID，并在输入组件中使用它，像这样：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22class Input extends React.Component {\n  constructor(props) {\n    super(props);\n    this.id = getNextId();\n    \n    this.onChange = this.onChange.bind(this);\n  }\n  \n  onChange(e) {\n    this.props.onChange(e.target.value);\n  }\n  \n  render() {\n    return (\n      \x3clabel htmlFor={this.id}\x3e\n        {this.props.label}\n        \n        \x3cinput\n          id={this.id}\n          value={this.props.value} \n          onChange={this.onChange}\n          \/\x3e\n      \x3c\/label\x3e\n    );\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eInput\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eextends\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eReact\x3c\/span\x3e.\x3cspan class=\x22hljs-title\x22\x3eComponent\x3c\/span\x3e \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3econstructor\x3c\/span\x3e(props) {\n    \x3cspan class=\x22hljs-keyword\x22\x3esuper\x3c\/span\x3e(props);\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.id = getNextId();\n    \n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.onChange = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.onChange.bind(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e);\n  }\n  \n  onChange(e) {\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.props.onChange(e.target.value);\n  }\n  \n  render() {\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e (\n      \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3elabel\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ehtmlFor\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{this.id}\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        {this.props.label}\n        \n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3einput\x3c\/span\x3e\n          \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{this.id}\x3c\/span\x3e\n          \x3cspan class=\x22hljs-attr\x22\x3evalue\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{this.props.value}\x3c\/span\x3e \n          \x3cspan class=\x22hljs-attr\x22\x3eonChange\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{this.onChange}\x3c\/span\x3e\n          \/\x26gt;\x3c\/span\x3e\n      \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3elabel\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    );\n  }\n}\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e如果\x3ccode\x3egetNextId()\x3c\/code\x3e每次只是增加一个数字，然后在服务器上渲染时，这个数字会继续上升和起来，最终达到无穷大。因此，您需要在每次呈现应用程序时重置该数字（对于每个网络请求）。\x3c\/p\x3e\n\x3cp\x3e你可以在你的应用程序的入口点，使用一个简单的resetId（）或任何你认为最好的名称。\x3c\/p\x3e\n\x3cp\x3e考虑到所有这些，你的超级幻想模块可能看起来像这样：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22let count = 1;\n\nexport const resetId = () =\x3e {\n  count = 1;\n}\n\nexport const getNextId = () =\x3e {\n  return `element-id-${count\x2b\x2b}`;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e count = \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;\n\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e resetId = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n  count = \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;\n}\n\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e getNextId = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e`element-id-\x3cspan class=\x22hljs-subst\x22\x3e${count\x2b\x2b}\x3c\/span\x3e`\x3c\/span\x3e;\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader4\x22\x3e4. Controlling CSS with props\x3c\/h2\x3e\n\x3cp\x3e当你想在不同的实例（例如\x27primary\x27和\x27secondary\x27按钮）应用不同的CSS，你可以传递道具来控制要应用的CSS。\x3c\/p\x3e\n\x3cp\x3e这看起来超级简单的表面，但让我向你保证有很多错误的方法来做到这一点（我已经尝试过他们！）。\x3c\/p\x3e\n\x3cp\x3e有 - 我估计 - 三种不同的方式，你可以控制应用于组件的CSS。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader5\x22\x3e使用标志\x3c\/h3\x3e\n\x3cp\x3e也许你的一些按钮有圆角，但这不直接对应于您定义的主题。\x3c\/p\x3e\n\x3cp\x3e在这种情况下，你可以坐下你的设计师，并有一致性谈话，或创建一个布尔的道具，可能看起来像这样：\x3c\/p\x3e\n\x3cp\x3e\x3ccode\x3e\x26lt;Button theme =“secondary”rounded\x26gt; Hello \x26lt;\/ Button\x26gt;\x3c\/code\x3e\x3c\/p\x3e\n\x3cp\x3e就像HTML的二进制属性一样，你不需要做\x3ccode\x3eround = {true}\x3c\/code\x3e。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader6\x22\x3e设置值\x3c\/h3\x3e\n\x3cp\x3e在某些情况下，您可能希望直接传递CSS属性的值（在组件中将其设置为内联样式）。\x3c\/p\x3e\n\x3cp\x3e\x3ccode\x3e\x26lt;Icon width =“25”height =“25”type =“search”\/\x26gt;\x3c\/code\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader7\x22\x3e一个例子\x3c\/h3\x3e\n\x3cp\x3e假设您正在创建链接组件。你通过你的网站的设计和工作，有三个不同的主题，有时他们有一个下划线，有时他们不。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000008506708?w=377\x26amp;h=185\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000008506708?w=377\x26amp;h=185\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e下面是我将如何设计该组件：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const Link = (props) =\x3e {\n  let className = `link link--${props.theme}-theme`;\n  \n  if (!props.underline) className \x2b= \x27 link--no-underline\x27;\n\n  return \x3ca href={props.href} className={className}\x3e{props.children}\x3c\/a\x3e;\n};\n\nLink.propTypes = {\n  theme: PropTypes.oneOf([\n    \x27default\x27, \/\/ primary color, no underline\n    \x27blend\x27, \/\/ inherit surrounding styles\n    \x27primary-button\x27, \/\/ primary color, solid block\n  ]),\n  underline: PropTypes.bool,\n  href: PropTypes.string.isRequired,\n  children: PropTypes.oneOfType([\n    PropTypes.element,\n    PropTypes.array,\n    PropTypes.string,\n  ]).isRequired,\n};\n\nLink.defaultProps = {\n  theme: \x27default\x27,\n  underline: false,\n};\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e Link = \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3eprops\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e className = \x3cspan class=\x22hljs-string\x22\x3e`link link--\x3cspan class=\x22hljs-subst\x22\x3e${props.theme}\x3c\/span\x3e-theme`\x3c\/span\x3e;\n  \n  \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (!props.underline) className \x2b= \x3cspan class=\x22hljs-string\x22\x3e\x27 link--no-underline\x27\x3c\/span\x3e;\n\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ehref\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{props.href}\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclassName\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{className}\x3c\/span\x3e\x26gt;\x3c\/span\x3e{props.children}\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e;\n};\n\nLink.propTypes = {\n  \x3cspan class=\x22hljs-attr\x22\x3etheme\x3c\/span\x3e: PropTypes.oneOf([\n    \x3cspan class=\x22hljs-string\x22\x3e\x27default\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-comment\x22\x3e\/\/ primary color, no underline\x3c\/span\x3e\n    \x3cspan class=\x22hljs-string\x22\x3e\x27blend\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-comment\x22\x3e\/\/ inherit surrounding styles\x3c\/span\x3e\n    \x3cspan class=\x22hljs-string\x22\x3e\x27primary-button\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-comment\x22\x3e\/\/ primary color, solid block\x3c\/span\x3e\n  ]),\n  \x3cspan class=\x22hljs-attr\x22\x3eunderline\x3c\/span\x3e: PropTypes.bool,\n  \x3cspan class=\x22hljs-attr\x22\x3ehref\x3c\/span\x3e: PropTypes.string.isRequired,\n  \x3cspan class=\x22hljs-attr\x22\x3echildren\x3c\/span\x3e: PropTypes.oneOfType([\n    PropTypes.element,\n    PropTypes.array,\n    PropTypes.string,\n  ]).isRequired,\n};\n\nLink.defaultProps = {\n  \x3cspan class=\x22hljs-attr\x22\x3etheme\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27default\x27\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-attr\x22\x3eunderline\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e,\n};\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e增加CSS...\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22.link--default-theme,\n.link--blend-theme:hover {\n  color: #D84315;\n}\n\n.link--blend-theme {\n  color: inherit;\n}\n\n.link--default-theme:hover,\n.link--blend-theme:hover {\n  text-decoration: underline;\n}\n\n.link--primary-button-theme {\n  display: inline-block;\n  padding: 12px 25px;\n  font-size: 18px;\n  background: #D84315;\n  color: white;\n}\n\n.link--no-underline {\n  text-decoration: none;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22css hljs\x22\x3e\x3ccode class=\x22CSS\x22\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.link--default-theme\x3c\/span\x3e,\n\x3cspan class=\x22hljs-selector-class\x22\x3e.link--blend-theme\x3c\/span\x3e\x3cspan class=\x22hljs-selector-pseudo\x22\x3e:hover\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-attribute\x22\x3ecolor\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e#D84315\x3c\/span\x3e;\n}\n\n\x3cspan class=\x22hljs-selector-class\x22\x3e.link--blend-theme\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-attribute\x22\x3ecolor\x3c\/span\x3e: inherit;\n}\n\n\x3cspan class=\x22hljs-selector-class\x22\x3e.link--default-theme\x3c\/span\x3e\x3cspan class=\x22hljs-selector-pseudo\x22\x3e:hover\x3c\/span\x3e,\n\x3cspan class=\x22hljs-selector-class\x22\x3e.link--blend-theme\x3c\/span\x3e\x3cspan class=\x22hljs-selector-pseudo\x22\x3e:hover\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-attribute\x22\x3etext-decoration\x3c\/span\x3e: underline;\n}\n\n\x3cspan class=\x22hljs-selector-class\x22\x3e.link--primary-button-theme\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-attribute\x22\x3edisplay\x3c\/span\x3e: inline-block;\n  \x3cspan class=\x22hljs-attribute\x22\x3epadding\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e12px\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e25px\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-attribute\x22\x3efont-size\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e18px\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-attribute\x22\x3ebackground\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e#D84315\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-attribute\x22\x3ecolor\x3c\/span\x3e: white;\n}\n\n\x3cspan class=\x22hljs-selector-class\x22\x3e.link--no-underline\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-attribute\x22\x3etext-decoration\x3c\/span\x3e: none;\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e你可能已经注意到链接 - 无下划线的选择器是没必要存在的， 因为他双重否定了。\x3c\/p\x3e\n\x3cp\x3e故事时间：我曾经认为写CSS更少的CSS是目标，但它不是。我宁愿有一些双重否定和多选择器规则集，如果它的意思是样式以一个很好的分层方式应用的话。\x3c\/p\x3e\n\x3cp\x3e我相信我以前说过，但缩放网站最困难的事情是CSS。 JavaScript很容易，但是随意使用CSS使你很遭罪 - 一旦你开始混乱，这是不容易中途修改来解决的。\x3c\/p\x3e\n\x3cp\x3e真实的事实：CSS的特异性是网络开发人员死亡的第一原因。如果你在一台大型计算机上，请查看顶部导航栏中的小通知图标的CSS。\x3c\/p\x3e\n\x3cp\x3e这个通知图标是由很多CSS样式组合在一起的。很复杂。\x3c\/p\x3e\n\x3cp\x3e二十三条规则。\x3c\/p\x3e\n\x3cp\x3e这不包括继承自十一个其他规则的样式。行高单独被覆盖九次。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000008506709?w=343\x26amp;h=190\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000008506709?w=343\x26amp;h=190\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e如果line-height是一只猫，它现在已经死了。\x3c\/p\x3e\n\x3cp\x3e这不能令人愉快地维护。\x3c\/p\x3e\n\x3cp\x3e有了React，我们可以做得更好。我们可以仔细设计哪些类应用于我们的组件。我们可以删除全局样式和移动它所有在我们的Button.scss。我们可以消除对文件的特异性和顺序的所有依赖。\x3c\/p\x3e\n\x3cp\x3e附注： 我梦想着有一天游览器对于样式没有自己的看法(意思就是所有游览器都变得统一， 完全去IE化-。-)。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader8\x22\x3e5. The switching component\x3c\/h2\x3e\n\x3cp\x3e切换组件是呈现最多的组件之一。\x3c\/p\x3e\n\x3cp\x3e这可能是一个显示多个页面之一的\x26lt;Page\x26gt;组件。或选项卡集中的选项卡，或模态组件中的不同模态。\x3c\/p\x3e\n\x3cp\x3e我曾经使用switch语句，进一步到实际传入我想要渲染的组件。然后从组件本身导出对组件的引用（命名为exports，然后作为组件上的属性）。\x3c\/p\x3e\n\x3cp\x3e真是一堆可怕的想法！\x3c\/p\x3e\n\x3cp\x3e我现在的方法是使用一个对象传递props给Page组件。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import HomePage from \x27.\/HomePage.jsx\x27;\nimport AboutPage from \x27.\/AboutPage.jsx\x27;\nimport UserPage from \x27.\/UserPage.jsx\x27;\nimport FourOhFourPage from \x27.\/FourOhFourPage.jsx\x27;\n\nconst PAGES = {\n  home: HomePage,\n  about: AboutPage,\n  user: UserPage,\n};\n\nconst Page = (props) =\x3e {\n  const Handler = PAGES[props.page] || FourOhFourPage;\n  \n  return \x3cHandler {...props} \/\x3e\n};\n\nPage.propTypes = {\n    page: PropTypes.oneOf(Object.keys(PAGES)).isRequired,\n};\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e HomePage \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/HomePage.jsx\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e AboutPage \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/AboutPage.jsx\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e UserPage \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/UserPage.jsx\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e FourOhFourPage \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/FourOhFourPage.jsx\x27\x3c\/span\x3e;\n\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e PAGES = {\n  \x3cspan class=\x22hljs-attr\x22\x3ehome\x3c\/span\x3e: HomePage,\n  \x3cspan class=\x22hljs-attr\x22\x3eabout\x3c\/span\x3e: AboutPage,\n  \x3cspan class=\x22hljs-attr\x22\x3euser\x3c\/span\x3e: UserPage,\n};\n\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e Page = \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3eprops\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e Handler = PAGES[props.page] || FourOhFourPage;\n  \n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eHandler\x3c\/span\x3e {\x3cspan class=\x22hljs-attr\x22\x3e...props\x3c\/span\x3e} \/\x26gt;\x3c\/span\x3e\n};\n\nPage.propTypes = {\n    page: PropTypes.oneOf(Object.keys(PAGES)).isRequired,\n};\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3ePAGES对象的key可以在prop类型中使用，以捕获dev时间错误。\x3c\/p\x3e\n\x3cp\x3e然后，我们当然会使用这样\x26lt;page page =“home”\/\x26gt;。\x3c\/p\x3e\n\x3cp\x3e如果你用key替换home，about和user分别用\/， \/about和\/user，你差不多就是个路由器了。\x3c\/p\x3e\n\x3cp\x3e（未来的想法：再见 react-router。）\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader9\x22\x3e6. Reaching into a component\x3c\/h2\x3e\n\x3cp\x3e如果您正在寻找一个简单的方法来请求您的用户输入信息，那么你可以添加自动对焦到输入组件， 当用户一个页面的时候。这种设计仅仅适用于登陆操作就在主页面内执行， 而不是单独弹出一个模态窗口。\x3c\/p\x3e\n\x3cp\x3e你可以通过给输入组件一个id，然后使用\x3ccode\x3edocument.getElementById（\x27user-name-input\x27）。focus（）\x3c\/code\x3e来将用户的焦点集中在输入组件上。\x3c\/p\x3e\n\x3cp\x3e这工作，但不是正确的方式。在你的应用程序中依靠两个字符串匹配的事情越少越好。\x3cbr\x3e这可以正常的工作， 但确不是最好的方式。 在你的代码中依靠两个字符串匹配的事情越少越好。\x3c\/p\x3e\n\x3cp\x3e幸运的是，有一个非常容易的方法来做到这一点“正确”：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22class Input extends Component {\n  focus() {\n    this.el.focus();\n  }\n  \n  render() {\n    return (\n      \x3cinput\n        ref={el=\x3e { this.el = el; \x22}}\x22\n      \/\x3e\n    );\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eInput\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eextends\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eComponent\x3c\/span\x3e \x3c\/span\x3e{\n  focus() {\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.el.focus();\n  }\n  \n  render() {\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e (\n      \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3einput\x3c\/span\x3e\n        \x3cspan class=\x22hljs-attr\x22\x3eref\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{el\x3c\/span\x3e=\x26gt;\x3c\/span\x3e { this.el = el; \x22}}\x22\n      \/\x26gt;\n    );\n  }\n}\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e真是酷炫屌炸天！ 一个具有focus（）方法的输入组件，用于聚焦HTML元素。\x3c\/p\x3e\n\x3cp\x3e在父组件中，我们可以获得对Input组件的引用并调用其focus（）方法。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22class SignInModal extends Component {\n  componentDidMount() {\n    this.InputComponent.focus();\n  }\n  \n  render() {\n    return (\n      \x3cdiv\x3e\n        \x3clabel\x3eUser name: \x3c\/label\x3e\n        \x3cInput\n          ref={comp =\x3e { this.InputComponent = comp; \x22}}\x22\n        \/\x3e\n      \x3c\/div\x3e\n    )\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eSignInModal\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eextends\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eComponent\x3c\/span\x3e \x3c\/span\x3e{\n  componentDidMount() {\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.InputComponent.focus();\n  }\n  \n  render() {\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e (\n      \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3elabel\x3c\/span\x3e\x26gt;\x3c\/span\x3eUser name: \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3elabel\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eInput\x3c\/span\x3e\n          \x3cspan class=\x22hljs-attr\x22\x3eref\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{comp\x3c\/span\x3e =\x26gt;\x3c\/span\x3e { this.InputComponent = comp; \x22}}\x22\n        \/\x26gt;\n      \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    )\n  }\n}\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e注意，当在组件上使用ref时，它是对组件（而不是底层元素）的引用，因此您可以访问其方法。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader10\x22\x3e7. Almost-components\x3c\/h2\x3e\n\x3cp\x3e假设您正在构建一个组件，以便您可以搜索人员。在您输入时，您会看到一个可能匹配的名称和照片列表。这样的东西。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000008506710?w=231\x26amp;h=277\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000008506710?w=231\x26amp;h=277\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e（我正在寻找政治讽刺，因为我像大家一样，对其他人对政治的看法极为感兴趣。）\x3c\/p\x3e\n\x3cp\x3e当设计此组件时，您可能会想到自己：该列表中的每个项目都是自己的SearchSuggestion组件？它真的只有几行HTML和CSS，也许不是？但我曾经被告知“如果有疑问，创造另一个组件”。\x3c\/p\x3e\n\x3cp\x3e哦，我的，这是相当稀烂的一个泡菜，不是吗？\x3c\/p\x3e\n\x3cp\x3e如果我是做这个，我不会有一个单独的组件。相反，只是一个renderSearchSuggestion方法返回每个条目的适当的DOM。然后结果就是下面的代码示例这样：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\nconst SearchSuggestions = (props) =\x3e {\n  \/\/ renderSearchSuggestion() behaves as a pseduo SearchSuggestion component\n  \/\/ keep it self contained and it should be easy to extract later if needed\n  const renderSearchSuggestion = listItem =\x3e (\n    \x3cli key={listItem.id}\x3e{listItem.name} {listItem.id}\x3c\/li\x3e\n  );\n  \n  return (\n    \x3cul\x3e\n      {props.listItems.map(renderSearchSuggestion)}\n    \x3c\/ul\x3e\n  );\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e SearchSuggestions = \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3eprops\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ renderSearchSuggestion() behaves as a pseduo SearchSuggestion component\x3c\/span\x3e\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ keep it self contained and it should be easy to extract later if needed\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e renderSearchSuggestion = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3elistItem\x3c\/span\x3e =\x26gt;\x3c\/span\x3e (\n    \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ekey\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{listItem.id}\x3c\/span\x3e\x26gt;\x3c\/span\x3e{listItem.name} {listItem.id}\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n  );\n  \n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e (\n    \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eul\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n      {props.listItems.map(renderSearchSuggestion)}\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eul\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n  );\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e如果事情变得更复杂，或者您想在其他地方使用此组件，则应该能够将代码复制\/粘贴到新组件中。\x3c\/p\x3e\n\x3cp\x3e不要过早组件化。组件不像茶匙;你可以有太多。(意思组件可以随便复制， 但是茶匙不行)\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader11\x22\x3e8. Components for formatting text\x3c\/h2\x3e\n\x3cp\x3e当我第一次开始使用React时，我想到组件应该是一个大东西，一种分组DOM的结构块的方法。但这样组件表现的很一般。\x3c\/p\x3e\n\x3cp\x3e这里是一个\x26lt;Price\x26gt;组件，它接受一个数字，并返回一个漂亮的字符串，有或没有小数和一个\x27$\x27符号。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const Price = (props) =\x3e {\n    const price = props.children.toLocaleString(\x27en\x27, {\n      style: props.showSymbol ? \x27currency\x27 : undefined,\n      currency: props.showSymbol ? \x27USD\x27 : undefined,\n      maximumFractionDigits: props.showDecimals ? 2 : 0,\n    });\n    \n    return \x3cspan className={props.className}\x3e{price}\x3c\/span\x3e\n};\n\nPrice.propTypes = {\n  className: React.PropTypes.string,\n  children: React.PropTypes.number,\n  showDecimals: React.PropTypes.bool,\n  showSymbol: React.PropTypes.bool,\n};\n\nPrice.defaultProps = {\n  children: 0,\n  showDecimals: true,\n  showSymbol: true,\n};\n\nconst Page = () =\x3e {\n  const lambPrice = 1234.567;\n  const jetPrice = 999999.99;\n  const bootPrice = 34.567;\n  \n  return (\n    \x3cdiv\x3e\n      \x3cp\x3eOne lamb is \x3cPrice className=\x26quot;expensive\x26quot;\x3e{lambPrice}\x3c\/Price\x3e\x3c\/p\x3e\n      \x3cp\x3eOne jet is \x3cPrice showDecimals={false}\x3e{jetPrice}\x3c\/Price\x3e\x3c\/p\x3e\n      \x3cp\x3eThose gumboots will set ya back \x3cPrice showDecimals={false} showSymbol={false}\x3e{bootPrice}\x3c\/Price\x3e bucks.\x3c\/p\x3e\n    \x3c\/div\x3e\n  );\n};\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e Price = \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3eprops\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e price = props.children.toLocaleString(\x3cspan class=\x22hljs-string\x22\x3e\x27en\x27\x3c\/span\x3e, {\n      \x3cspan class=\x22hljs-attr\x22\x3estyle\x3c\/span\x3e: props.showSymbol ? \x3cspan class=\x22hljs-string\x22\x3e\x27currency\x27\x3c\/span\x3e : \x3cspan class=\x22hljs-literal\x22\x3eundefined\x3c\/span\x3e,\n      \x3cspan class=\x22hljs-attr\x22\x3ecurrency\x3c\/span\x3e: props.showSymbol ? \x3cspan class=\x22hljs-string\x22\x3e\x27USD\x27\x3c\/span\x3e : \x3cspan class=\x22hljs-literal\x22\x3eundefined\x3c\/span\x3e,\n      \x3cspan class=\x22hljs-attr\x22\x3emaximumFractionDigits\x3c\/span\x3e: props.showDecimals ? \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e : \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n    });\n    \n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclassName\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{props.className}\x3c\/span\x3e\x26gt;\x3c\/span\x3e{price}\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n};\n\nPrice.propTypes = {\n  \x3cspan class=\x22hljs-attr\x22\x3eclassName\x3c\/span\x3e: React.PropTypes.string,\n  \x3cspan class=\x22hljs-attr\x22\x3echildren\x3c\/span\x3e: React.PropTypes.number,\n  \x3cspan class=\x22hljs-attr\x22\x3eshowDecimals\x3c\/span\x3e: React.PropTypes.bool,\n  \x3cspan class=\x22hljs-attr\x22\x3eshowSymbol\x3c\/span\x3e: React.PropTypes.bool,\n};\n\nPrice.defaultProps = {\n  \x3cspan class=\x22hljs-attr\x22\x3echildren\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-attr\x22\x3eshowDecimals\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-attr\x22\x3eshowSymbol\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e,\n};\n\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e Page = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e lambPrice = \x3cspan class=\x22hljs-number\x22\x3e1234.567\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e jetPrice = \x3cspan class=\x22hljs-number\x22\x3e999999.99\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e bootPrice = \x3cspan class=\x22hljs-number\x22\x3e34.567\x3c\/span\x3e;\n  \n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e (\n    \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n      \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ep\x3c\/span\x3e\x26gt;\x3c\/span\x3eOne lamb is \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ePrice\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclassName\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22expensive\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e{lambPrice}\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ePrice\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ep\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n      \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ep\x3c\/span\x3e\x26gt;\x3c\/span\x3eOne jet is \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ePrice\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eshowDecimals\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{false}\x3c\/span\x3e\x26gt;\x3c\/span\x3e{jetPrice}\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ePrice\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ep\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n      \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ep\x3c\/span\x3e\x26gt;\x3c\/span\x3eThose gumboots will set ya back \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ePrice\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eshowDecimals\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{false}\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eshowSymbol\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{false}\x3c\/span\x3e\x26gt;\x3c\/span\x3e{bootPrice}\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ePrice\x3c\/span\x3e\x26gt;\x3c\/span\x3e bucks.\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ep\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n  );\n};\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e正如你可以看到，我使用强大的Intl字符串格式化库，这里有一个\x3ca href=\x22https:\/\/developer.mozilla.org\/en\/docs\/Web\/JavaScript\/Reference\/Global_Objects\/Number\/toLocaleString\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e链接\x3c\/a\x3e到他们的网站。\x3c\/p\x3e\n\x3cp\x3e我应该指出（在一些朋克之前），这不是一行代码的保存。你可以很容易地使用函数来做到这一点。 （当然，组件只是具有不同形状括号的函数。）\x3c\/p\x3e\n\x3cp\x3e这是更少的代码，但对我的眼睛，不太好：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function numberToPrice(num, options = {}) {\n    const showSymbol = options.showSymbol !== false;\n    const showDecimals = options.showDecimals !== false;\n    \n    return num.toLocaleString(\x27en\x27, {\n      style: showSymbol ? \x27currency\x27 : undefined,\n      currency: showSymbol ? \x27USD\x27 : undefined,\n      maximumFractionDigits: showDecimals ? 2 : 0,\n    });\n}\n\nconst Page = () =\x3e {\n  const lambPrice = 1234.567;\n  const jetPrice = 999999.99;\n  const bootPrice = 34.567;\n  \n  return (\n    \x3cdiv\x3e\n      \x3cp\x3eOne lamb is \x3cspan className=\x26quot;expensive\x26quot;\x3e{numberToPrice(lambPrice)}\x3c\/span\x3e\x3c\/p\x3e\n      \x3cp\x3eOne jet is {numberToPrice(jetPrice, { showDecimals: false })}\x3c\/p\x3e\n      \x3cp\x3eThose gumboots will set ya back {numberToPrice(bootPrice, { showDecimals: false, showSymbol: false })} bucks.\x3c\/p\x3e\n    \x3c\/div\x3e\n  );\n};\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3enumberToPrice\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3enum, options = {}\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e showSymbol = options.showSymbol !== \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e showDecimals = options.showDecimals !== \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e;\n    \n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e num.toLocaleString(\x3cspan class=\x22hljs-string\x22\x3e\x27en\x27\x3c\/span\x3e, {\n      \x3cspan class=\x22hljs-attr\x22\x3estyle\x3c\/span\x3e: showSymbol ? \x3cspan class=\x22hljs-string\x22\x3e\x27currency\x27\x3c\/span\x3e : \x3cspan class=\x22hljs-literal\x22\x3eundefined\x3c\/span\x3e,\n      \x3cspan class=\x22hljs-attr\x22\x3ecurrency\x3c\/span\x3e: showSymbol ? \x3cspan class=\x22hljs-string\x22\x3e\x27USD\x27\x3c\/span\x3e : \x3cspan class=\x22hljs-literal\x22\x3eundefined\x3c\/span\x3e,\n      \x3cspan class=\x22hljs-attr\x22\x3emaximumFractionDigits\x3c\/span\x3e: showDecimals ? \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e : \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n    });\n}\n\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e Page = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e lambPrice = \x3cspan class=\x22hljs-number\x22\x3e1234.567\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e jetPrice = \x3cspan class=\x22hljs-number\x22\x3e999999.99\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e bootPrice = \x3cspan class=\x22hljs-number\x22\x3e34.567\x3c\/span\x3e;\n  \n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e (\n    \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n      \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ep\x3c\/span\x3e\x26gt;\x3c\/span\x3eOne lamb is \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclassName\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22expensive\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e{numberToPrice(lambPrice)}\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ep\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n      \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ep\x3c\/span\x3e\x26gt;\x3c\/span\x3eOne jet is {numberToPrice(jetPrice, { showDecimals: false })}\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ep\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n      \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ep\x3c\/span\x3e\x26gt;\x3c\/span\x3eThose gumboots will set ya back {numberToPrice(bootPrice, { showDecimals: false, showSymbol: false })} bucks.\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ep\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n  );\n};\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e请注意，我不会检查我在上述任何一个有效的数字。那是因为 …\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader12\x22\x3e9. The store is the component’s servant\x3c\/h2\x3e\n\x3cp\x3e我可能写了这么几千次：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22if (props.user.signInStatus === SIGN_IN_STATUSES.SIGNED_IN)..\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (props.user.signInStatus === SIGN_IN_STATUSES.SIGNED_IN)..\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e（我被告知，我夸张，像，一个gazillion时代。）\x3c\/p\x3e\n\x3cp\x3e最近我决定，如果我做这样的检查，我做错了。我想只问“是用户登录？”，而不是“用户的登录状态等于登录？”\x3c\/p\x3e\n\x3cp\x3e的组件在他们的生命周期中所做的已经足够， 他们不应该去担心他们的父组件会传一些什么参数。 比如说Price不用管传入的数据是否是数字。\x3c\/p\x3e\n\x3cp\x3e你会看到，如果你的store中的数据被设计为与您的组件匹配，您的组件将更加简单。我之前说过，复杂性是bug隐藏的地方。组件中的复杂性越低，bug出现的几率越低。\x3c\/p\x3e\n\x3cp\x3e但是复杂这个问题肯定存在。\x3c\/p\x3e\n\x3cp\x3e我的建议是：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\x3cp\x3e制定你的组件的一般结构和他们需要的数据\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e设计您的store以支持这些要求\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e做任何你需要做的输入数据，使其适合store。\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e对于这最后一点，我建议一个单一的模块，所有的按传入的信息重命名props，将字符串转换为数字，将对象转换为数组，将日期字符串转换为日期对象。\x3c\/p\x3e\n\x3cp\x3e如果你正在进行一个react\/redux， 你可以在一个动作创建者中获取搜索结果：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22fetch(`\/api\/search?${queryParams}`)\n.then(response =\x3e response.json())\n.then(normalizeSearchResultsApiData) \/\/ the do-it-all data massager\n.then(normalData =\x3e {\n    \/\/ dispatch normalData to the store here\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3efetch(\x3cspan class=\x22hljs-string\x22\x3e`\/api\/search?\x3cspan class=\x22hljs-subst\x22\x3e${queryParams}\x3c\/span\x3e`\x3c\/span\x3e)\n.then(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3eresponse\x3c\/span\x3e =\x26gt;\x3c\/span\x3e response.json())\n.then(normalizeSearchResultsApiData) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ the do-it-all data massager\x3c\/span\x3e\n.then(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3enormalData\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ dispatch normalData to the store here\x3c\/span\x3e\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e你的组件将会感谢你的。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader13\x22\x3e10. Importing components without relative paths\x3c\/h2\x3e\n\x3cp\x3e不这样做的话后患无穷啊！\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import Button from \x27..\/..\/..\/..\/Button\/Button.jsx\x27;\nimport Icon from \x27..\/..\/..\/..\/Icon\/Icon.jsx\x27;\nimport Footer from \x27..\/..\/Footer\/Footer.jsx\x27;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e Button \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27..\/..\/..\/..\/Button\/Button.jsx\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e Icon \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27..\/..\/..\/..\/Icon\/Icon.jsx\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e Footer \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27..\/..\/Footer\/Footer.jsx\x27\x3c\/span\x3e;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e或者你可以这样做\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import {Button, Icon, Footer} from \x27Components\x27;\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e {Button, Icon, Footer} \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27Components\x27\x3c\/span\x3e;\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e理论上你可以：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e在导出每个组件的地方创建单个index.js\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e使用Webpack的resolve.alias将组件重定向到该索引文件\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e但是当我写的代码我来认识到这是一个坏主意，有三个原因：当我写代码的时候， 我才认识到上面的模式并不好，原因有三个。\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\x3cp\x3e在Webpack2 似乎改变了原有的API。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eeslint将会检测到错误， 由于找不到你引用的组件(因为resolve.alias)。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e如果你使用一个好的IDE，它会知道你的组件在哪里。你会得到关于不提供所需props的提示， 也无法通过Command\x2bclick 打开文件这个功能。如果你这样做，你的IDE将不再知道在哪里找到该组件，你会失去这些给力的功能。\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000008506711?w=348\x26amp;h=176\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000008506711?w=348\x26amp;h=176\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader14\x22\x3eWrap up\x3c\/h2\x3e\n\x3cp\x3e这就是全部， 我非常确定我将在今年看到这些模式的应用。 或许你们今天就会使用它。 你也可以分享一些你觉得不错的模式。\x3c\/p\x3e\n\x3cp\x3e喔， 我决定我不关心你是否点击了绿色的心。\x3c\/p\x3e\n\x3cblockquote\x3e\x3cp\x3eI WILL NOT BE DEFINED BY AN INTERNET METRIC.\x3c\/p\x3e\x3c\/blockquote\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>React的10种有效的设计模式</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000008506703">https://segmentfault.com/a/1190000008506703</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/z94br1a9g2o/" target="_blank">https://alili.tech/archive/z94br1a9g2o/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/dgic8s5qnlg/">CSS五种方式实现Footer置底<aside class="dates">2019-01-25</aside></a></li><li><a href="/archive/xe4kfnhxlfo/">Seneca ：NodeJS 微服务框架入门指南<aside class="dates">2019-01-25</aside></a></li><li><a href="/archive/ffpl5ftnw2u/">Unable to preventDefault inside passive event listener<aside class="dates">2019-01-25</aside></a></li><li><a href="/archive/twqwd2wscy/">Vue源码详细解析:transclude,compile,link,依赖,批处理...一网打尽，全解析!<aside class="dates">2019-01-25</aside></a></li><li><a href="/archive/i1zivpsjdl/">chart.js 中文文档 翻译<aside class="dates">2019-01-25</aside></a></li><li><a href="/archive/ik09416kg2/">flex-box 速记表<aside class="dates">2019-01-25</aside></a></li><li><a href="/archive/ic5ys9tnr1n/">riotjs 2.2.4<aside class="dates">2019-01-25</aside></a></li><li><a href="/archive/wd1i4kdw4jq/">vuejs2.0运用原生js实现简单的拖拽元素功能<aside class="dates">2019-01-25</aside></a></li><li><a href="/archive/l7r8ye5804/">一道JS面试题所引发的&#34;血案&#34;，透过现象寻本质，再从本质看现象<aside class="dates">2019-01-25</aside></a></li><li><a href="/archive/vj5kbpcbu1/">从0开始做一个的Vue图片/ 文件选择(上传)组件[基础向]<aside class="dates">2019-01-25</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>