<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="三种在 Linux 上创建或扩展交换分区的简单方法"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>三种在 Linux 上创建或扩展交换分区的简单方法 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/h9nyauglz7w/",
				"appid": "1613049289050283", 
				"title": "三种在 Linux 上创建或扩展交换分区的简单方法 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-22T02:30:08"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/482jx5m2ihd/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/28bisc87nkn/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fh9nyauglz7w%2f&text=%e4%b8%89%e7%a7%8d%e5%9c%a8%20Linux%20%e4%b8%8a%e5%88%9b%e5%bb%ba%e6%88%96%e6%89%a9%e5%b1%95%e4%ba%a4%e6%8d%a2%e5%88%86%e5%8c%ba%e7%9a%84%e7%ae%80%e5%8d%95%e6%96%b9%e6%b3%95"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fh9nyauglz7w%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fh9nyauglz7w%2f&text=%e4%b8%89%e7%a7%8d%e5%9c%a8%20Linux%20%e4%b8%8a%e5%88%9b%e5%bb%ba%e6%88%96%e6%89%a9%e5%b1%95%e4%ba%a4%e6%8d%a2%e5%88%86%e5%8c%ba%e7%9a%84%e7%ae%80%e5%8d%95%e6%96%b9%e6%b3%95"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fh9nyauglz7w%2f&title=%e4%b8%89%e7%a7%8d%e5%9c%a8%20Linux%20%e4%b8%8a%e5%88%9b%e5%bb%ba%e6%88%96%e6%89%a9%e5%b1%95%e4%ba%a4%e6%8d%a2%e5%88%86%e5%8c%ba%e7%9a%84%e7%ae%80%e5%8d%95%e6%96%b9%e6%b3%95"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fh9nyauglz7w%2f&is_video=false&description=%e4%b8%89%e7%a7%8d%e5%9c%a8%20Linux%20%e4%b8%8a%e5%88%9b%e5%bb%ba%e6%88%96%e6%89%a9%e5%b1%95%e4%ba%a4%e6%8d%a2%e5%88%86%e5%8c%ba%e7%9a%84%e7%ae%80%e5%8d%95%e6%96%b9%e6%b3%95"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e4%b8%89%e7%a7%8d%e5%9c%a8%20Linux%20%e4%b8%8a%e5%88%9b%e5%bb%ba%e6%88%96%e6%89%a9%e5%b1%95%e4%ba%a4%e6%8d%a2%e5%88%86%e5%8c%ba%e7%9a%84%e7%ae%80%e5%8d%95%e6%96%b9%e6%b3%95&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fh9nyauglz7w%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fh9nyauglz7w%2f&title=%e4%b8%89%e7%a7%8d%e5%9c%a8%20Linux%20%e4%b8%8a%e5%88%9b%e5%bb%ba%e6%88%96%e6%89%a9%e5%b1%95%e4%ba%a4%e6%8d%a2%e5%88%86%e5%8c%ba%e7%9a%84%e7%ae%80%e5%8d%95%e6%96%b9%e6%b3%95"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fh9nyauglz7w%2f&title=%e4%b8%89%e7%a7%8d%e5%9c%a8%20Linux%20%e4%b8%8a%e5%88%9b%e5%bb%ba%e6%88%96%e6%89%a9%e5%b1%95%e4%ba%a4%e6%8d%a2%e5%88%86%e5%8c%ba%e7%9a%84%e7%ae%80%e5%8d%95%e6%96%b9%e6%b3%95"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fh9nyauglz7w%2f&title=%e4%b8%89%e7%a7%8d%e5%9c%a8%20Linux%20%e4%b8%8a%e5%88%9b%e5%bb%ba%e6%88%96%e6%89%a9%e5%b1%95%e4%ba%a4%e6%8d%a2%e5%88%86%e5%8c%ba%e7%9a%84%e7%ae%80%e5%8d%95%e6%96%b9%e6%b3%95"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fh9nyauglz7w%2f&title=%e4%b8%89%e7%a7%8d%e5%9c%a8%20Linux%20%e4%b8%8a%e5%88%9b%e5%bb%ba%e6%88%96%e6%89%a9%e5%b1%95%e4%ba%a4%e6%8d%a2%e5%88%86%e5%8c%ba%e7%9a%84%e7%ae%80%e5%8d%95%e6%96%b9%e6%b3%95"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">三种在 Linux 上创建或扩展交换分区的简单方法</h1><div class="meta"><div class="postdate"><time datetime="2019-01-22" itemprop="datePublished">2019-01-22</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n            \x3ch1\x3e\x3ca href=\x22#三种在-linux-上创建或扩展交换分区的简单方法\x22\x3e\x3c\/a\x3e三种在 Linux 上创建或扩展交换分区的简单方法\x3c\/h1\x3e\n\x3cp\x3e用户可以在任何 Linux� 操作系统的安装过程中或者是其它必要的时候创建交换空间。如果你在安装 Linux 的时候忘记了创建或是你想要再增加交换分区的空间，你随时都可以再创建或增加。\x3c\/p\x3e\n\x3cp\x3e有时候在你安装后摇升级 RAM 的时候需要增加一点交换分区的空间，比如你要将你的系统的 RAM 从 1GB 升级到 2GB 你，那么你就不得不将你的交换分区空间也升级一下（从 2GB 到 4GB），这是因为它使用的容量是物理 RAM 的双倍容量。（LCTT 译注：其实这里是个误区，交换分区不一定非得是双倍的物理内存容量，只是惯例如此。事实上，如果你的物理内存足够的话，你完全可以不用交换分区——在这里的情形下，或许你增加了物理内存，就没必要增加交换分区大小了。）\x3c\/p\x3e\n\x3cp\x3e��交换空间是当物理内存（RAM 随机存取存储器）的用量已满时，被保留用作虚拟内存的磁盘上的空间。 如果系统在 RAM 满载时需要更多的内存资源，内存中的非活动页面将被移动到交换空间，这样可以帮助系统运行应用程序更多的时间，但不应�该把它当做 RAM 的扩展。\x3c\/p\x3e\n\x3cp\x3e建议你创建一个专用的交换分区，但是如果你没有可用的分区，那么可以使用交换文件，或交换分区和交换文件的组合。 交换空间通常建议用户至少 4 GB，用户也可以根据自己的要求和环境创建交换空间。\x3c\/p\x3e\n\x3cp\x3e我发现大部分 VM 和 云服务器都没有交换分区，所以在这种情况下，我们可以使用以下三种方法创建，扩展或增加交换空间。\x3c\/p\x3e\n\x3ch3\x3e\x3ca href=\x22#如何检测当前交换分区大小\x22\x3e\x3c\/a\x3e如何检测当前交换分区大小\x3c\/h3\x3e\n\x3cp\x3e通过 \x3ca href=\x22http:\/\/www.2daygeek.com\/free-command-to-check-memory-usage-statistics-in-linux\/\x22\x3efree\x3c\/a\x3e \x26amp; \x3ccode\x3eswapon\x3c\/code\x3e 命令来检测当前的交换分区空间的大小。 \x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs routeros\x22\x3e$ free -h\n              total        used        free      shared  buff\/cache   available\nMem:           2.0G        1.3G        139M         45M        483M        426M\nSwap:          2.0G        655M        1.4G\n\n$ swapon --show\nNAME     \x3cspan class=\x22hljs-built_in\x22\x3e TYPE \x3c\/span\x3e     SIZE   USED PRIO\n\/dev\/sda5 partition   2G 655.2M   -1\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e上面的输出显示了�当前的交换分区空间是 \x3ccode\x3e2GB\x3c\/code\x3e 。\x3c\/p\x3e\n\x3ch3\x3e\x3ca href=\x22#方法-1--通过-fallocate-命令创建交换文件\x22\x3e\x3c\/a\x3e方法 1 : 通过 fallocate 命令创建交换文件\x3c\/h3\x3e\n\x3cp\x3e\x3ccode\x3efallocate\x3c\/code\x3e 程序是立即创建预分配大小的文件的最佳方法。\x3c\/p\x3e\n\x3cp\x3e下面这个命令会创建一个 1GB 大小�的 \x3ccode\x3e\/swapfile\x3c\/code\x3e。\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs shell\x22\x3e\x3cspan class=\x22hljs-meta\x22\x3e$\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e sudo fallocate -l 1G \/swapfile\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e检查�一下创建的文件的大小是否正确。\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs jboss-cli\x22\x3e$ \x3cspan class=\x22hljs-keyword\x22\x3els\x3c\/span\x3e -lh \x3cspan class=\x22hljs-string\x22\x3e\/swapfile\x3c\/span\x3e\n-rw-r\x3cspan class=\x22hljs-params\x22\x3e--r--\x3c\/span\x3e 1 root root 1.0G Jun  7 09\x3cspan class=\x22hljs-function\x22\x3e:49\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\/swapfile\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e将该文件的权限设置为 \x3ccode\x3e600\x3c\/code\x3e 这样只有 root 用户可以�访问这个文件。\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs shell\x22\x3e\x3cspan class=\x22hljs-meta\x22\x3e$\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e sudo chmod 600 \/swapfile\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e通过�运行以下的命令来将此文件�转换为交换文件。\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs lsl\x22\x3e$ sudo mkswap \/swapfile\nSetting up swapspace version \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, size = \x3cspan class=\x22hljs-number\x22\x3e1024\x3c\/span\x3e MiB (\x3cspan class=\x22hljs-number\x22\x3e1073737728\x3c\/span\x3e bytes)\nno label, UUID=cda50e0e\x3cspan class=\x22hljs-number\x22\x3e-41\x3c\/span\x3ef3\x3cspan class=\x22hljs-number\x22\x3e-49\x3c\/span\x3ec7-af61-b8cb4a33a464\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e通过运行以下的命令来使交换文件生效。\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs shell\x22\x3e\x3cspan class=\x22hljs-meta\x22\x3e$\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e sudo swapon \/swapfile\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e将新创建的交换文件添加到 \x3ccode\x3efstab\x3c\/code\x3e 文件中，这样交换分区空间�的修改即使在重启后也可以生效。\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs avrasm\x22\x3e$ vi \/etc\/fstab\n\n\/swapfile  \x3cspan class=\x22hljs-keyword\x22\x3eswap\x3c\/span\x3e  \x3cspan class=\x22hljs-keyword\x22\x3eswap\x3c\/span\x3e  defaults  \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e检查一下新创建的交换文件。\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs routeros\x22\x3e$ swapon --show\nNAME     \x3cspan class=\x22hljs-built_in\x22\x3e TYPE \x3c\/span\x3e      SIZE   USED PRIO\n\/dev\/sda5 partition    2G 657.8M   -1\n\/swapfile file      1024M     0B   -2\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e现在�我可以看到一个新的  1GB 的 \x3ccode\x3e\/swapfile1\x3c\/code\x3e 文件了。重启系统以使新的交换文件生效。\x3c\/p\x3e\n\x3ch3\x3e\x3ca href=\x22#方法-2--通过-dd-命令来创建交换文件\x22\x3e\x3c\/a\x3e方法 2 : 通过 dd 命令来创建交换文件\x3c\/h3\x3e\n\x3cp\x3e\x3ccode\x3edd\x3c\/code\x3e 命令是另一个实用程序，可以帮助我们立即创建预分配大小的文件。\x3c\/p\x3e\n\x3cp\x3e以下 dd 命令将创建 1GB 的 \x3ccode\x3e\/swapfile1\x3c\/code\x3e。\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs lsl\x22\x3e$ sudo dd if=\/dev\/zero of=\/swapfile1 bs=\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3eG count=\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e\x2b\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e records in\n\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e\x2b\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e records out\n\x3cspan class=\x22hljs-number\x22\x3e1073741824\x3c\/span\x3e bytes (\x3cspan class=\x22hljs-number\x22\x3e1.1\x3c\/span\x3e GB, \x3cspan class=\x22hljs-number\x22\x3e1.0\x3c\/span\x3e GiB) copied, \x3cspan class=\x22hljs-number\x22\x3e16.6154\x3c\/span\x3e s, \x3cspan class=\x22hljs-number\x22\x3e64.6\x3c\/span\x3e MB\/s\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e\x3cstrong\x3e详解：\x3c\/strong\x3e\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3ccode\x3eif=\/dev\/zero\x3c\/code\x3e 是输入文件，\x3ccode\x3e\/dev\/zero\x3c\/code\x3e 是类 Unix 操作系统中的一个特殊文件，它提供从它读取的尽可能多的空字符（ASCII NUL，0x00）。\x3c\/li\x3e\n\x3cli\x3e\x3ccode\x3eof=\/swapfile1\x3c\/code\x3e �设置输出文件。\x3c\/li\x3e\n\x3cli\x3e\x3ccode\x3ebs=1G\x3c\/code\x3e 一次性读写的�大小为 1GB\x3c\/li\x3e\n\x3cli\x3e\x3ccode\x3ecount=1\x3c\/code\x3e 仅复制一个输入块\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e检查�一下创建的文件的大小是否正确。\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs jboss-cli\x22\x3e$ \x3cspan class=\x22hljs-keyword\x22\x3els\x3c\/span\x3e -lh \x3cspan class=\x22hljs-string\x22\x3e\/swapfile1\x3c\/span\x3e\n-rw-r\x3cspan class=\x22hljs-params\x22\x3e--r--\x3c\/span\x3e 1 root root 1.0G Jun  7 09\x3cspan class=\x22hljs-function\x22\x3e:58\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\/swapfile1\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e将该文件的权限设置为 \x3ccode\x3e600\x3c\/code\x3e 这样只有 root 用户可以�访问这个文件。\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs shell\x22\x3e\x3cspan class=\x22hljs-meta\x22\x3e$\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e sudo chmod 600 \/swapfile1\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e通过�运行以下的命令来将此文件�转换为交换文件。\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs lsl\x22\x3e$ sudo mkswap \/swapfile1\nSetting up swapspace version \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, size = \x3cspan class=\x22hljs-number\x22\x3e1024\x3c\/span\x3e MiB (\x3cspan class=\x22hljs-number\x22\x3e1073737728\x3c\/span\x3e bytes)\nno label, UUID=\x3cspan class=\x22hljs-number\x22\x3e96\x3c\/span\x3edef6d7-b2da\x3cspan class=\x22hljs-number\x22\x3e-4954\x3c\/span\x3e-aa72-aa32316ec993\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e通过运行以下的命令来使交换文件生效。\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs shell\x22\x3e\x3cspan class=\x22hljs-meta\x22\x3e$\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e sudo swapon \/swapfile1\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e将新创建的交换文件添加到 \x3ccode\x3efstab\x3c\/code\x3e 文件中，这样交换分区空间�的修改即使在重启后也可以生效。\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs avrasm\x22\x3e$ vi \/etc\/fstab\n\n\/swapfile1  \x3cspan class=\x22hljs-keyword\x22\x3eswap\x3c\/span\x3e  \x3cspan class=\x22hljs-keyword\x22\x3eswap\x3c\/span\x3e  defaults  \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e检查新创建的交换文件。\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs routeros\x22\x3e$ swapon --show\nNAME      \x3cspan class=\x22hljs-built_in\x22\x3e TYPE \x3c\/span\x3e      SIZE USED PRIO\n\/dev\/sda5  partition    2G 1.3G   -1\n\/swapfile  file      1024M   0B   -2\n\/swapfile1 file      1024M   0B   -3\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e现在�我可以看到一个新的  1GB 的 \x3ccode\x3e\/swapfile1\x3c\/code\x3e 了。重启系统以使新的交换文件生效。\x3c\/p\x3e\n\x3ch3\x3e\x3ca href=\x22#方法-3--通过硬盘分区来创建交换文件\x22\x3e\x3c\/a\x3e方法 3 : 通过硬盘分区来创建�交换文件\x3c\/h3\x3e\n\x3cp\x3e我们也推荐使用通过硬盘分区的方式来创建交换分区。\x3c\/p\x3e\n\x3cp\x3e如果你已经在你的另一个硬盘上通过 \x3ccode\x3efdisk\x3c\/code\x3e 命令创建了一个新的分区，假设我们已经创建了一个叫做 \x3ccode\x3e\/dev\/sda4\x3c\/code\x3e 的分区。\x3c\/p\x3e\n\x3cp\x3e使用 \x3ccode\x3emkswap\x3c\/code\x3e 命令来将这个分区转换成交换�分区。\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs shell\x22\x3e\x3cspan class=\x22hljs-meta\x22\x3e$\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e sudo mkswap \/dev\/sda4\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e通过�运行以下命令来使交换文件生效。\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs shell\x22\x3e\x3cspan class=\x22hljs-meta\x22\x3e$\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e sudo swapon \/dev\/sda4\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e把新增的交换文件添加到 \x3ccode\x3efstab\x3c\/code\x3e 文件中，这样即使是重启了系统交换分区的�修改也能生效。\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs avrasm\x22\x3e$ vi \/etc\/fstab\n\n\/dev\/sda4  \x3cspan class=\x22hljs-keyword\x22\x3eswap\x3c\/span\x3e  \x3cspan class=\x22hljs-keyword\x22\x3eswap\x3c\/span\x3e  defaults  \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e检查新创建的交换文件。\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs lsl\x22\x3e$ swapon --show\nNAME       TYPE       SIZE USED PRIO\n\/dev\/sda5  partition    \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3eG \x3cspan class=\x22hljs-number\x22\x3e1.3\x3c\/span\x3eG   \x3cspan class=\x22hljs-number\x22\x3e-1\x3c\/span\x3e\n\/swapfile  file      \x3cspan class=\x22hljs-number\x22\x3e1024\x3c\/span\x3eM   \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3eB   \x3cspan class=\x22hljs-number\x22\x3e-2\x3c\/span\x3e\n\/swapfile1 file      \x3cspan class=\x22hljs-number\x22\x3e1024\x3c\/span\x3eM   \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3eB   \x3cspan class=\x22hljs-number\x22\x3e-3\x3c\/span\x3e\n\/dev\/sda4  partition    \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3eG   \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3eB   \x3cspan class=\x22hljs-number\x22\x3e-4\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e我可以看到新的交换分区 1GB 的 \x3ccode\x3e\/dev\/sda4\x3c\/code\x3e。重启系统就可以使用新的交换分区了。\x3c\/p\x3e\n\x3chr\x3e\n\x3cp\x3evia: \x3ca href=\x22http:\/\/www.2daygeek.com\/add-extend-increase-swap-space-memory-file-partition-linux\/\x22\x3ehttp:\/\/www.2daygeek.com\/add-extend-increase-swap-space-memory-file-partition-linux\/\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e作者：\x3ca href=\x22http:\/\/www.2daygeek.com\/author\/2daygeek\/\x22\x3e2DAYGEEK\x3c\/a\x3e 译者：\x3ca href=\x22https:\/\/github.com\/chenxinlong\x22\x3echenxinlong\x3c\/a\x3e 校对：\x3ca href=\x22https:\/\/github.com\/wxy\x22\x3ewxy\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e本文由 \x3ca href=\x22https:\/\/github.com\/LCTT\/TranslateProject\x22\x3eLCTT\x3c\/a\x3e 原创编译，\x3ca href=\x22https:\/\/linux.cn\/\x22\x3eLinux中国\x3c\/a\x3e 荣誉推出\x3c\/p\x3e\n\n          \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>三种在 Linux 上创建或扩展交换分区的简单方法</p><h2 id="原文链接">原文链接</h2><p><a href="https://www.zcfy.cc/article/3-easy-ways-to-create-or-extend-swap-space-in-linux">https://www.zcfy.cc/article/3-easy-ways-to-create-or-extend-swap-space-in-linux</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/h9nyauglz7w/" target="_blank">https://alili.tech/archive/h9nyauglz7w/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/z09muaar7j/">2年前端应该会哪些技能<aside class="dates">2019-02-01</aside></a></li><li><a href="/archive/ke982v6qrfg/">CSS 性能优化笔记<aside class="dates">2019-02-01</aside></a></li><li><a href="/archive/if1i2hs28ah/">H5打造3d场景不完全攻略（二）: Amazing CSS3D<aside class="dates">2019-02-01</aside></a></li><li><a href="/archive/s4apghsr7o/">JS原生一步步实现前端路由和单页面应用<aside class="dates">2019-02-01</aside></a></li><li><a href="/archive/hjgkntbgqek/">JavaScript 中对大量数据的多重过滤<aside class="dates">2019-02-01</aside></a></li><li><a href="/archive/h1hfvr2a2nj/">JavaScript 中的错误处理机制<aside class="dates">2019-02-01</aside></a></li><li><a href="/archive/a0ukpm125gm/">JavaScript 数组分组的实现<aside class="dates">2019-02-01</aside></a></li><li><a href="/archive/fwosouhbhmj/">JavaScript 类型转换深度学习<aside class="dates">2019-02-01</aside></a></li><li><a href="/archive/z193p9xv2p/">JavaScript设计模式之发布-订阅模式（观察者模式）-Part1<aside class="dates">2019-02-01</aside></a></li><li><a href="/archive/6i7sr0vgkxm/">Javascript中的时间<aside class="dates">2019-02-01</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>