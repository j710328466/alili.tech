<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="HTML5拖放API Drag and Drop"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>HTML5拖放API Drag and Drop | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/hlg66wy89ih/",
				"appid": "1613049289050283", 
				"title": "HTML5拖放API Drag and Drop | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-09T02:30:12"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/ukh7u7w7z0c/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/3ypeos14d1u/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fhlg66wy89ih%2f&text=HTML5%e6%8b%96%e6%94%beAPI%20Drag%20and%20Drop"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fhlg66wy89ih%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fhlg66wy89ih%2f&text=HTML5%e6%8b%96%e6%94%beAPI%20Drag%20and%20Drop"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fhlg66wy89ih%2f&title=HTML5%e6%8b%96%e6%94%beAPI%20Drag%20and%20Drop"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fhlg66wy89ih%2f&is_video=false&description=HTML5%e6%8b%96%e6%94%beAPI%20Drag%20and%20Drop"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=HTML5%e6%8b%96%e6%94%beAPI%20Drag%20and%20Drop&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fhlg66wy89ih%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fhlg66wy89ih%2f&title=HTML5%e6%8b%96%e6%94%beAPI%20Drag%20and%20Drop"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fhlg66wy89ih%2f&title=HTML5%e6%8b%96%e6%94%beAPI%20Drag%20and%20Drop"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fhlg66wy89ih%2f&title=HTML5%e6%8b%96%e6%94%beAPI%20Drag%20and%20Drop"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fhlg66wy89ih%2f&title=HTML5%e6%8b%96%e6%94%beAPI%20Drag%20and%20Drop"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">HTML5拖放API Drag and Drop</h1><div class="meta"><div class="postdate"><time datetime="2019-01-09" itemprop="datePublished">2019-01-09</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e此文研究Web API中的拖放接口，提供各个属性和方法的说明，解决拖放过程中的拖拽数据对象存储和获取问题。\x3c\/p\x3e\n\x3cp\x3e拖放API作用到两个目标对象，分别是拖拽目标对象和放置目标对象。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3e拖拽目标\x3c\/h2\x3e\n\x3cp\x3e一个设置\x3ccode\x3edraggable\x3c\/code\x3e属性的值为\x3ccode\x3etrue\x3c\/code\x3eDOM元素或者一个选中状态的文本区块可以成为拖拽目标。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cdiv draggable=\x26quot;true\x26quot;\x3e\x3c\/div\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs applescript\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x26lt;\x3cspan class=\x22hljs-keyword\x22\x3ediv\x3c\/span\x3e draggable=\x3cspan class=\x22hljs-string\x22\x3e\x22true\x22\x3c\/span\x3e\x26gt;\x26lt;\/\x3cspan class=\x22hljs-keyword\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3eOR\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000010127535\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000010127535\x22 alt=\x22yy 20170629201338\x22 title=\x22yy 20170629201338\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e放置目标\x3c\/h2\x3e\n\x3cp\x3e一个绑定了下图放置目标对应的5个事件的DOM元素可以成为放置目标。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3e事件\x3c\/h2\x3e\n\x3cp\x3e拖放API有8个事件，其中有3个事件绑定在拖拽目标上，有5个事件绑定在放置目标上。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader3\x22\x3e绑定在拖拽目标\x3c\/h3\x3e\n\x3ctable\x3e\n\x3cthead\x3e\x3ctr\x3e\n\x3cth\x3eEvnet\x3c\/th\x3e\n\x3cth\x3eDescription\x3c\/th\x3e\n\x3c\/tr\x3e\x3c\/thead\x3e\n\x3ctbody\x3e\n\x3ctr\x3e\n\x3ctd\x3edragstart\x3c\/td\x3e\n\x3ctd\x3e当用户开始拖拽一个元素或者一个文本选取区块的时触发。\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3edrag\x3c\/td\x3e\n\x3ctd\x3e当用户正在拖拽一个元素或者一个文本选取区块的时触发。\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3edragend\x3c\/td\x3e\n\x3ctd\x3e当用户结束拖拽一个元素或者一个文本选取区块的时触发。（如放开鼠标按键或按下键盘的 escap 键）\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3c\/tbody\x3e\n\x3c\/table\x3e\n\x3ch3 id=\x22articleHeader4\x22\x3e绑定在放置目标\x3c\/h3\x3e\n\x3ctable\x3e\n\x3cthead\x3e\x3ctr\x3e\n\x3cth\x3eEvent\x3c\/th\x3e\n\x3cth\x3eDescription\x3c\/th\x3e\n\x3c\/tr\x3e\x3c\/thead\x3e\n\x3ctbody\x3e\n\x3ctr\x3e\n\x3ctd\x3edragenter\x3c\/td\x3e\n\x3ctd\x3e当一个元素或文字选取区块被拖曳移动进入一个有效的放置目标时触发。\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3edragover\x3c\/td\x3e\n\x3ctd\x3e当一个元素或文字选取区块被拖曳移动经过一个有效的放置目标时触发。\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3edragleave\x3c\/td\x3e\n\x3ctd\x3e当一个元素或文字选取区块被拖曳移动离开一个有效的放置目标时触发。\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3edragexist\x3c\/td\x3e\n\x3ctd\x3e当一个元素不再是被选取中的拖曳元素时触发。（Firefox能触发，触发顺序：dragexist-\x26gt;dragleave-\x26gt;drop；Chrome无法触发）\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3edrop\x3c\/td\x3e\n\x3ctd\x3e当一个元素或文字选取区块被放置至一个有效的放置目标时触发。\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3c\/tbody\x3e\n\x3c\/table\x3e\n\x3cp\x3e通过下图能更直观观察每个事件触发的时机\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000010127536\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000010127536\x22 alt=\x22dragdrop-events\x22 title=\x22dragdrop-events\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/jsfiddle.net\/leechikit\/7buhdcko\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e戳我看源码\x3c\/a\x3e\x3cbutton class=\x22btn btn-xs btn-default ml10 preview\x22 data-url=\x22leechikit\/7buhdcko\/\x22 data-typeid=\x220\x22\x3e点击预览\x3c\/button\x3e\x3c\/p\x3e\n\x3cblockquote\x3e\x3cp\x3e注意：在\x3cstrong\x3edragover\x3c\/strong\x3e事件中使用\x3ccode\x3eevent.preventDefault();\x3c\/code\x3e阻止默认事件，才能触发\x3cstrong\x3edrop\x3c\/strong\x3e事件\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3ch2 id=\x22articleHeader5\x22\x3eDataTransfer对象\x3c\/h2\x3e\n\x3cp\x3e在进行拖放操作时，会触发上面所述的8个事件，每个\x3cstrong\x3eevent\x3c\/strong\x3e事件对象中都会有\x3cstrong\x3eDataTransfer\x3c\/strong\x3e对象用来保存被拖动的数据。它可以保存一项或多项数据、一种或者多种数据类型。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader6\x22\x3eeffectAllowed\x3c\/h3\x3e\n\x3cp\x3e用来指定拖动时被允许的效果。\x3c\/p\x3e\n\x3cp\x3e在\x3cstrong\x3edragstart\x3c\/strong\x3e事件中设置\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader7\x22\x3e属性\x3c\/h3\x3e\n\x3ch3 id=\x22articleHeader8\x22\x3edropEffect\x3c\/h3\x3e\n\x3cp\x3e设置实际的放置效果，它应该始终设置成\x3cstrong\x3eeffectAllowed\x3c\/strong\x3e的可能值之一 。\x3c\/p\x3e\n\x3cp\x3e在\x3cstrong\x3edragenter\x3c\/strong\x3e事件和\x3cstrong\x3edragover\x3c\/strong\x3e事件中设置\x3c\/p\x3e\n\x3cp\x3eeffectAllowed和dropEffect属性的栗子：\x3ca href=\x22https:\/\/jsfiddle.net\/leechikit\/o6r3wtpq\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e戳我看源码\x3c\/a\x3e\x3cbutton class=\x22btn btn-xs btn-default ml10 preview\x22 data-url=\x22leechikit\/o6r3wtpq\/\x22 data-typeid=\x220\x22\x3e点击预览\x3c\/button\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader9\x22\x3efiles\x3c\/h3\x3e\n\x3cp\x3e包含一个在数据传输上所有可用的本地文件列表。如果拖动操作不涉及拖动文件，此属性是一个空列表。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22filesZoneEl.addEventListener(\x26quot;drop\x26quot;, (event) =\x3e {\n    event.preventDefault();\n    let files = event.dataTransfer.files;\n    for (let i = 0, len = files.length; i \x3c len; i\x2b\x2b) {\n        let liEl = document.createElement(\x26quot;li\x26quot;);\n        liEl.innerHTML = files[i].name;\n        filesListEl.appendChild(liEl);\n    }\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs nix\x22\x3e\x3ccode\x3efilesZoneEl.addEventListener(\x3cspan class=\x22hljs-string\x22\x3e\x22drop\x22\x3c\/span\x3e, (event) =\x26gt; {\n    event.preventDefault();\n    \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3efiles\x3c\/span\x3e = event.dataTransfer.files;\n    for (\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ei\x3c\/span\x3e = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3elen\x3c\/span\x3e = files.length; i \x26lt; len; i\x2b\x2b) {\n        \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eliEl\x3c\/span\x3e = document.createElement(\x3cspan class=\x22hljs-string\x22\x3e\x22li\x22\x3c\/span\x3e);\n        liEl.\x3cspan class=\x22hljs-attr\x22\x3einnerHTML\x3c\/span\x3e = files[i].name;\n        filesListEl.appendChild(liEl);\n    }\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000010127537\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000010127537\x22 alt=\x22drag-file\x22 title=\x22drag-file\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/jsfiddle.net\/leechikit\/dqgjr4r0\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e戳我看源码\x3c\/a\x3e\x3cbutton class=\x22btn btn-xs btn-default ml10 preview\x22 data-url=\x22leechikit\/dqgjr4r0\/\x22 data-typeid=\x220\x22\x3e点击预览\x3c\/button\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader10\x22\x3etypes\x3c\/h3\x3e\n\x3cp\x3e保存一个被存储数据的类型列表作为第一项，顺序与被添加数据的顺序一致。如果没有添加数据将返回一个空列表。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader11\x22\x3eitems\x3c\/h3\x3e\n\x3cp\x3e存储\x3cstrong\x3eDataTransferItem\x3c\/strong\x3e数据对象的列表。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader12\x22\x3e方法\x3c\/h3\x3e\n\x3ch3 id=\x22articleHeader13\x22\x3eaddElement()\x3c\/h3\x3e\n\x3cp\x3e设置拖动源。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22event.dataTransfer.addElement(element);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs css\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-selector-tag\x22\x3eevent\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.dataTransfer\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.addElement\x3c\/span\x3e(\x3cspan class=\x22hljs-selector-tag\x22\x3eelement\x3c\/span\x3e);\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader14\x22\x3esetData()\x3c\/h3\x3e\n\x3cp\x3e为一个给定的类型设置数据并存储在\x3cstrong\x3eitems\x3c\/strong\x3e属性中。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader15\x22\x3egetData()\x3c\/h3\x3e\n\x3cp\x3e从\x3cstrong\x3eitems\x3c\/strong\x3e属性中获取给定类型的数据，无数据时返回空字符串。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22event.dataTransfer.getData(type);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs css\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-selector-tag\x22\x3eevent\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.dataTransfer\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.getData\x3c\/span\x3e(\x3cspan class=\x22hljs-selector-tag\x22\x3etype\x3c\/span\x3e);\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader16\x22\x3eclearData()\x3c\/h3\x3e\n\x3cp\x3e从\x3cstrong\x3eitems\x3c\/strong\x3e属性中删除与给定类型关联的数据，若类型为空则删除所有数据。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22event.dataTransfer.clearData(type);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs css\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-selector-tag\x22\x3eevent\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.dataTransfer\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.clearData\x3c\/span\x3e(\x3cspan class=\x22hljs-selector-tag\x22\x3etype\x3c\/span\x3e);\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader17\x22\x3esetDragImage()\x3c\/h3\x3e\n\x3cp\x3e自定义一个期望的拖动时的图片，默认为被拖动的节点。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22event.dataTransfer.setDragImage(imgElement, offsetX, offsetY);\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs css\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-selector-tag\x22\x3eevent\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.dataTransfer\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.setDragImage\x3c\/span\x3e(\x3cspan class=\x22hljs-selector-tag\x22\x3eimgElement\x3c\/span\x3e, \x3cspan class=\x22hljs-selector-tag\x22\x3eoffsetX\x3c\/span\x3e, \x3cspan class=\x22hljs-selector-tag\x22\x3eoffsetY\x3c\/span\x3e);\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3ctable\x3e\n\x3cthead\x3e\x3ctr\x3e\n\x3cth\x3eParam\x3c\/th\x3e\n\x3cth\x3eDescription\x3c\/th\x3e\n\x3c\/tr\x3e\x3c\/thead\x3e\n\x3ctbody\x3e\n\x3ctr\x3e\n\x3ctd\x3eimgElement\x3c\/td\x3e\n\x3ctd\x3e要用作拖动反馈图像元素。\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3eoffsetX\x3c\/td\x3e\n\x3ctd\x3e图像内的水平偏移量。\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3eoffsetY\x3c\/td\x3e\n\x3ctd\x3e图像内的垂直偏移量。\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3c\/tbody\x3e\n\x3c\/table\x3e\n\x3cp\x3e设置拖动时的图片时，要把图片预加载，否则图片会在拖动开始\x3cstrong\x3edragstart\x3c\/strong\x3e事件触发时才会加载图片，会导致拖动图出不来或闪一下的后果。可把图片放到\x3ccode\x3e\x26lt;img\x26gt;\x3c\/code\x3e标签并设置\x3ccode\x3edisplay:none;\x3c\/code\x3e，原理详看我之前的文章\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000010032501\x22\x3eWeb图片资源的加载与渲染时机\x3c\/a\x3e。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000010127538\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000010127538\x22 alt=\x22drag-imgage\x22 title=\x22drag-imgage\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader18\x22\x3eDataTransferItemList\x3c\/h2\x3e\n\x3cp\x3e\x3cstrong\x3edataTramsfer\x3c\/strong\x3e对象的\x3cstrong\x3eitems\x3c\/strong\x3e属性，包含了一系列\x3cstrong\x3eDataTransferItem\x3c\/strong\x3e拖拽数据对象。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader19\x22\x3e属性\x3c\/h3\x3e\n\x3ch3 id=\x22articleHeader20\x22\x3elength\x3c\/h3\x3e\n\x3cp\x3e数组长度。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader21\x22\x3e方法\x3c\/h3\x3e\n\x3ch3 id=\x22articleHeader22\x22\x3eadd()\x3c\/h3\x3e\n\x3cp\x3e增加一个拖拽数据对象到\x3cstrong\x3eitems\x3c\/strong\x3e属性中，并返回增加的拖拽数据对象。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22event.dataTransfer.items.add(file);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs css\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-selector-tag\x22\x3eevent\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.dataTransfer\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.items\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.add\x3c\/span\x3e(\x3cspan class=\x22hljs-selector-tag\x22\x3efile\x3c\/span\x3e);\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader23\x22\x3eremove()\x3c\/h3\x3e\n\x3cp\x3e从\x3cstrong\x3eitems\x3c\/strong\x3e属性中移除指定位置的一个拖拽数据对象。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22event.dataTransfer.items.remove(index);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs css\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-selector-tag\x22\x3eevent\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.dataTransfer\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.items\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.remove\x3c\/span\x3e(\x3cspan class=\x22hljs-selector-tag\x22\x3eindex\x3c\/span\x3e);\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader24\x22\x3eclear()\x3c\/h3\x3e\n\x3cp\x3e清空\x3cstrong\x3eitems\x3c\/strong\x3e属性中的所拖拽数据对象。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22event.dataTransfer.items.clear();\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs css\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-selector-tag\x22\x3eevent\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.dataTransfer\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.items\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.clear\x3c\/span\x3e();\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader25\x22\x3eDataTransferItem\x3c\/h2\x3e\n\x3cp\x3e\x3cstrong\x3eDataTransferItemList\x3c\/strong\x3e列表中的拖拽数据对象。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader26\x22\x3e属性\x3c\/h3\x3e\n\x3ch3 id=\x22articleHeader27\x22\x3ekind\x3c\/h3\x3e\n\x3cp\x3e拖拽数据对象类型。\x3c\/p\x3e\n\x3ctable\x3e\n\x3cthead\x3e\x3ctr\x3e\n\x3cth\x3eValue\x3c\/th\x3e\n\x3cth\x3eDescription\x3c\/th\x3e\n\x3c\/tr\x3e\x3c\/thead\x3e\n\x3ctbody\x3e\n\x3ctr\x3e\n\x3ctd\x3efile\x3c\/td\x3e\n\x3ctd\x3e文件类型。\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3estring\x3c\/td\x3e\n\x3ctd\x3e文本字符串类型。\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3c\/tbody\x3e\n\x3c\/table\x3e\n\x3ch3 id=\x22articleHeader28\x22\x3etype\x3c\/h3\x3e\n\x3cp\x3eMIME类型的Unicode字符串，例如\x3cstrong\x3etext\/plain\x3c\/strong\x3e、\x3cstrong\x3etext\/html\x3c\/strong\x3e或\x3cstrong\x3eimage\/png\x3c\/strong\x3e。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader29\x22\x3e方法\x3c\/h3\x3e\n\x3ch3 id=\x22articleHeader30\x22\x3egetAsFile()\x3c\/h3\x3e\n\x3cp\x3e若拖拽数据对象是文件类型，则返回一个文件对象。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22let itemList = event.dataTransfer.items;\nfor (let i = 0, len = itemList.length; i \x3c len; i\x2b\x2b) {\n    if (itemList[i].kind == \x26quot;file\x26quot;) {\n        console.log(itemList[i].getAsFile());\n    }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs nix\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eitemList\x3c\/span\x3e = event.dataTransfer.items;\nfor (\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ei\x3c\/span\x3e = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3elen\x3c\/span\x3e = itemList.length; i \x26lt; len; i\x2b\x2b) {\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (itemList[i].\x3cspan class=\x22hljs-attr\x22\x3ekind\x3c\/span\x3e == \x3cspan class=\x22hljs-string\x22\x3e\x22file\x22\x3c\/span\x3e) {\n        console.log(itemList[i].getAsFile());\n    }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader31\x22\x3egetAsString()\x3c\/h3\x3e\n\x3cp\x3e若拖拽数据对象是文本字符串类型，通过回调函数获取拖拽数据中的字符串数据。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22let itemList = event.dataTransfer.items;\nfor (let i = 0, len = itemList.length; i \x3c len; i\x2b\x2b) {\n    if (itemList[i].kind == \x26quot;string\x26quot;) {\n        itemList[i].getAsString((data) =\x3e {\n            console.log(data);\n        });\n    }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs armasm\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-symbol\x22\x3elet\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eitemList \x3c\/span\x3e= event.dataTransfer.\x3cspan class=\x22hljs-keyword\x22\x3eitems;\n\x3c\/span\x3e\x3cspan class=\x22hljs-symbol\x22\x3efor\x3c\/span\x3e (let i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e, len = \x3cspan class=\x22hljs-keyword\x22\x3eitemList.length; \x3c\/span\x3ei \x26lt; len\x3cspan class=\x22hljs-comment\x22\x3e; i\x2b\x2b) {\x3c\/span\x3e\n    \x3cspan class=\x22hljs-meta\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3eitemList[i].kind \x3c\/span\x3e== \x3cspan class=\x22hljs-string\x22\x3e\x22string\x22\x3c\/span\x3e) {\n        \x3cspan class=\x22hljs-keyword\x22\x3eitemList[i].getAsString((data) \x3c\/span\x3e=\x26gt; {\n            console.log(\x3cspan class=\x22hljs-meta\x22\x3edata\x3c\/span\x3e)\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n        })\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n    }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader32\x22\x3e拖放对象的数据存储\x3c\/h2\x3e\n\x3cp\x3e在进行拖放操作时，有可能需要把拖拽目标的数据传送给放置目标，此时一般操作是在\x3cstrong\x3edragstart\x3c\/strong\x3e事件触发时把需要的数据存储到一个变量，然后再\x3cstrong\x3edrop\x3c\/strong\x3e事件触发时获取这个变量。但当\x3cstrong\x3edragstart\x3c\/strong\x3e事件和\x3cstrong\x3edrop\x3c\/strong\x3e事件在不同的文件定义，又不想玷污全局变量的情况下，我们需要更好的办法来存储拖放数据。\x3c\/p\x3e\n\x3cp\x3e在\x3cstrong\x3eDataTransfer\x3c\/strong\x3e对象中的\x3cstrong\x3eitems\x3c\/strong\x3e属性就是用来存储拖放数据的，数据类型分为文本类型和文件类型。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader33\x22\x3e存储文本字符串类型数据：\x3c\/h3\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22event.dataTransfer.setData(type, data);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs haskell\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-title\x22\x3eevent\x3c\/span\x3e.dataTransfer.setData(\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3etype\x3c\/span\x3e, \x3cspan class=\x22hljs-keyword\x22\x3edata\x3c\/span\x3e);\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3eOR\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22event.dataTransfer.items.add(data, type);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs css\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-selector-tag\x22\x3eevent\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.dataTransfer\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.items\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.add\x3c\/span\x3e(\x3cspan class=\x22hljs-selector-tag\x22\x3edata\x3c\/span\x3e, \x3cspan class=\x22hljs-selector-tag\x22\x3etype\x3c\/span\x3e);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cblockquote\x3e\x3cp\x3e一种文本字符串类型只能存储一个数据，当重复文本字符串类型存储数据时，后者会覆盖前者。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3ch3 id=\x22articleHeader34\x22\x3e存储文件类型数据：\x3c\/h3\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22event.dataTransfer.items.add(file);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs css\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-selector-tag\x22\x3eevent\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.dataTransfer\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.items\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.add\x3c\/span\x3e(\x3cspan class=\x22hljs-selector-tag\x22\x3efile\x3c\/span\x3e);\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader35\x22\x3e获取所有文本字符串类型的拖拽数据对象\x3c\/h3\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22event.dataTransfer.types\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3eevent\x3cspan class=\x22hljs-selector-class\x22\x3e.dataTransfer\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.types\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader36\x22\x3e获取所有文件类型的拖拽数据对象\x3c\/h3\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22let files = event.dataTransfer.files;\nfor (let i = 0, len = files.length; i \x3c len; i\x2b\x2b) {\n    console.log(files[i]);\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs vbscript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e files = event.dataTransfer.files;\n\x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e, \x3cspan class=\x22hljs-built_in\x22\x3elen\x3c\/span\x3e = files.length; i \x26lt; \x3cspan class=\x22hljs-built_in\x22\x3elen\x3c\/span\x3e; i\x2b\x2b) {\n    console.\x3cspan class=\x22hljs-built_in\x22\x3elog\x3c\/span\x3e(files[i]);\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3eOR\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22let itemList = event.dataTransfer.items;\nfor (let i = 0, len = itemList.length; i \x3c len; i\x2b\x2b) {\n    if (itemList[i].kind == \x26quot;file\x26quot;) {\n        console.log(itemList[i].getAsFile());\n    }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs nix\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eitemList\x3c\/span\x3e = event.dataTransfer.items;\nfor (\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ei\x3c\/span\x3e = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3elen\x3c\/span\x3e = itemList.length; i \x26lt; len; i\x2b\x2b) {\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (itemList[i].\x3cspan class=\x22hljs-attr\x22\x3ekind\x3c\/span\x3e == \x3cspan class=\x22hljs-string\x22\x3e\x22file\x22\x3c\/span\x3e) {\n        console.log(itemList[i].getAsFile());\n    }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader37\x22\x3e获取所有文本字符串类型的拖拽数据对象\x3c\/h3\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22let itemList = event.dataTransfer.items;\nfor (let i = 0, len = itemList.length; i \x3c len; i\x2b\x2b) {\n    if (itemList[i].kind == \x26quot;string\x26quot;) {\n        itemList[i].getAsString((data) =\x3e {\n            console.log(data);\n        });\n    }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs armasm\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-symbol\x22\x3elet\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eitemList \x3c\/span\x3e= event.dataTransfer.\x3cspan class=\x22hljs-keyword\x22\x3eitems;\n\x3c\/span\x3e\x3cspan class=\x22hljs-symbol\x22\x3efor\x3c\/span\x3e (let i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e, len = \x3cspan class=\x22hljs-keyword\x22\x3eitemList.length; \x3c\/span\x3ei \x26lt; len\x3cspan class=\x22hljs-comment\x22\x3e; i\x2b\x2b) {\x3c\/span\x3e\n    \x3cspan class=\x22hljs-meta\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3eitemList[i].kind \x3c\/span\x3e== \x3cspan class=\x22hljs-string\x22\x3e\x22string\x22\x3c\/span\x3e) {\n        \x3cspan class=\x22hljs-keyword\x22\x3eitemList[i].getAsString((data) \x3c\/span\x3e=\x26gt; {\n            console.log(\x3cspan class=\x22hljs-meta\x22\x3edata\x3c\/span\x3e)\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n        })\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n    }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader38\x22\x3e获取指定文本字符串类型的拖拽数据对象\x3c\/h3\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22event.dataTransfer.getData(type);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs css\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-selector-tag\x22\x3eevent\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.dataTransfer\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.getData\x3c\/span\x3e(\x3cspan class=\x22hljs-selector-tag\x22\x3etype\x3c\/span\x3e);\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader39\x22\x3e删除指定文本字符串类型的拖拽数据对象\x3c\/h3\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22event.dataTransfer.clearData(type);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs css\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-selector-tag\x22\x3eevent\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.dataTransfer\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.clearData\x3c\/span\x3e(\x3cspan class=\x22hljs-selector-tag\x22\x3etype\x3c\/span\x3e);\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader40\x22\x3e删除指定位置的拖拽数据对象\x3c\/h3\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22event.dataTransfer.items.remove(index);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs css\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-selector-tag\x22\x3eevent\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.dataTransfer\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.items\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.remove\x3c\/span\x3e(\x3cspan class=\x22hljs-selector-tag\x22\x3eindex\x3c\/span\x3e);\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader41\x22\x3e清空所有拖拽数据对象\x3c\/h3\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22event.dataTransfer.clearData();\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs css\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-selector-tag\x22\x3eevent\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.dataTransfer\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.clearData\x3c\/span\x3e();\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3eOR\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22event.dataTransfer.items.clear();\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs css\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-selector-tag\x22\x3eevent\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.dataTransfer\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.items\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.clear\x3c\/span\x3e();\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader42\x22\x3e栗子\x3c\/h3\x3e\n\x3cp\x3e上面的几个栗子都使用了以上方法存储和获取拖拽数据对象，感兴趣的可以看看源码。\x3c\/p\x3e\n\x3cblockquote\x3e\n\x3cp\x3e欢迎关注：\x3ca href=\x22https:\/\/segmentfault.com\/u\/leechikit\/articles\x22 target=\x22_blank\x22\x3eLeechikit\x3c\/a\x3e\x3cbr\x3e原文链接：\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000010127530\x22\x3esegmentfault.com\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e到此本文结束，欢迎提问和指正。\x3cbr\x3e写原创文章不易，若本文对你有帮助，请点赞、推荐和关注作者支持。\x3c\/p\x3e\n\x3c\/blockquote\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>HTML5拖放API Drag and Drop</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000010127530">https://segmentfault.com/a/1190000010127530</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/hlg66wy89ih/" target="_blank">https://alili.tech/archive/hlg66wy89ih/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/sj57jxyoook/">ES6 &#43; Webpack &#43; React &#43; Babel 如何在低版本浏览器上愉快的玩耍（上）<aside class="dates">2019-02-03</aside></a></li><li><a href="/archive/qsw902j95k/">ES6 &#43; Webpack &#43; React &#43; Babel 如何在低版本浏览器上愉快的玩耍（下）<aside class="dates">2019-02-03</aside></a></li><li><a href="/archive/nnpmjlot58j/">IndexedDB使用与出坑指南<aside class="dates">2019-02-03</aside></a></li><li><a href="/archive/alvlbas9oai/">JS事件模型<aside class="dates">2019-02-03</aside></a></li><li><a href="/archive/u0pzym8k36o/">JS练习实例--编写经典小游戏俄罗斯方块<aside class="dates">2019-02-03</aside></a></li><li><a href="/archive/khwpyk5yz8q/">JavaScript 事件代理和委托<aside class="dates">2019-02-03</aside></a></li><li><a href="/archive/kuocl6lc3n/">JavaScript 版俄罗斯方块<aside class="dates">2019-02-03</aside></a></li><li><a href="/archive/n8bk54lyrf/">Promise学习:基础入门<aside class="dates">2019-02-03</aside></a></li><li><a href="/archive/7bk7u30qncb/">Redux 入坑进阶 - 源码解析<aside class="dates">2019-02-03</aside></a></li><li><a href="/archive/853kqfmqmf7/">Snap.svg 基本知识入门<aside class="dates">2019-02-03</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>