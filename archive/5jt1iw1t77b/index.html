<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="AlloyTouch实战--60行代码搞定QQ看点资料卡"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>AlloyTouch实战--60行代码搞定QQ看点资料卡 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/5jt1iw1t77b/",
				"appid": "1613049289050283", 
				"title": "AlloyTouch实战--60行代码搞定QQ看点资料卡 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-29T02:30:10"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/kquf0fxkw2j/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/w7062tmcw3/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2f5jt1iw1t77b%2f&text=AlloyTouch%e5%ae%9e%e6%88%98--60%e8%a1%8c%e4%bb%a3%e7%a0%81%e6%90%9e%e5%ae%9aQQ%e7%9c%8b%e7%82%b9%e8%b5%84%e6%96%99%e5%8d%a1"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2f5jt1iw1t77b%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2f5jt1iw1t77b%2f&text=AlloyTouch%e5%ae%9e%e6%88%98--60%e8%a1%8c%e4%bb%a3%e7%a0%81%e6%90%9e%e5%ae%9aQQ%e7%9c%8b%e7%82%b9%e8%b5%84%e6%96%99%e5%8d%a1"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2f5jt1iw1t77b%2f&title=AlloyTouch%e5%ae%9e%e6%88%98--60%e8%a1%8c%e4%bb%a3%e7%a0%81%e6%90%9e%e5%ae%9aQQ%e7%9c%8b%e7%82%b9%e8%b5%84%e6%96%99%e5%8d%a1"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2f5jt1iw1t77b%2f&is_video=false&description=AlloyTouch%e5%ae%9e%e6%88%98--60%e8%a1%8c%e4%bb%a3%e7%a0%81%e6%90%9e%e5%ae%9aQQ%e7%9c%8b%e7%82%b9%e8%b5%84%e6%96%99%e5%8d%a1"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=AlloyTouch%e5%ae%9e%e6%88%98--60%e8%a1%8c%e4%bb%a3%e7%a0%81%e6%90%9e%e5%ae%9aQQ%e7%9c%8b%e7%82%b9%e8%b5%84%e6%96%99%e5%8d%a1&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2f5jt1iw1t77b%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2f5jt1iw1t77b%2f&title=AlloyTouch%e5%ae%9e%e6%88%98--60%e8%a1%8c%e4%bb%a3%e7%a0%81%e6%90%9e%e5%ae%9aQQ%e7%9c%8b%e7%82%b9%e8%b5%84%e6%96%99%e5%8d%a1"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f5jt1iw1t77b%2f&title=AlloyTouch%e5%ae%9e%e6%88%98--60%e8%a1%8c%e4%bb%a3%e7%a0%81%e6%90%9e%e5%ae%9aQQ%e7%9c%8b%e7%82%b9%e8%b5%84%e6%96%99%e5%8d%a1"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f5jt1iw1t77b%2f&title=AlloyTouch%e5%ae%9e%e6%88%98--60%e8%a1%8c%e4%bb%a3%e7%a0%81%e6%90%9e%e5%ae%9aQQ%e7%9c%8b%e7%82%b9%e8%b5%84%e6%96%99%e5%8d%a1"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f5jt1iw1t77b%2f&title=AlloyTouch%e5%ae%9e%e6%88%98--60%e8%a1%8c%e4%bb%a3%e7%a0%81%e6%90%9e%e5%ae%9aQQ%e7%9c%8b%e7%82%b9%e8%b5%84%e6%96%99%e5%8d%a1"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">AlloyTouch实战--60行代码搞定QQ看点资料卡</h1><div class="meta"><div class="postdate"><time datetime="2019-01-29" itemprop="datePublished">2019-01-29</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e原文链接：\x3ca href=\x22https:\/\/github.com\/AlloyTeam\/AlloyTouch\/wiki\/kandian\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/github.com\/AlloyTeam\/AlloyTouch\/wiki\/kandian\x3c\/a\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3e先验货\x3c\/h2\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000007953802?w=280\x26amp;h=280\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000007953802?w=280\x26amp;h=280\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e访问DEMO你也可以\x3ca href=\x22http:\/\/alloyteam.github.io\/AlloyTouch\/\/refresh\/infinite\/kandian.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e点击这里\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e源代码可以\x3ca href=\x22https:\/\/github.com\/AlloyTeam\/AlloyTouch\/blob\/master\/refresh\/infinite\/kandian.html#L915-L978\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e点击这里\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e如你体验所见，流程的滚动的同时还能支持头部的动画？不断地加载新数据还能做到流畅的滑动！怎么做得的？使用AlloyTouch CSS 0.2.0及以上版本便可！\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e头部动画\x3c\/h2\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000007953803?w=311\x26amp;h=549\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000007953803?w=311\x26amp;h=549\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3e加载更多\x3c\/h2\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000007953804?w=305\x26amp;h=429\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000007953804?w=305\x26amp;h=429\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader3\x22\x3e实现代码\x3c\/h2\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var infoList = document.getElementById(\x26quot;infoList\x26quot;),\n    mockHTML = infoList.innerHTML,\n    scroller = document.getElementById(\x26quot;scroller\x26quot;),\n    header = document.getElementById(\x26quot;header\x26quot;),\n    userLogo = document.getElementById(\x26quot;user-logo-wrapper\x26quot;),\n    loading = false,\n    alloyTouch = null;\n\nTransform(scroller, true);\nTransform(header);\nheader.originY = -70;\nheader.translateY = -70;\nTransform(userLogo);\n\nalloyTouch = new AlloyTouch({\n    touch: \x26quot;#wrapper\x26quot;,\n    vertical: true,\n    target: scroller,\n    property: \x26quot;translateY\x26quot;,\n    maxSpeed: 2,\n    outFactor: 0.1,\n    min: 160 * -20 \x2b window.innerHeight - 202 - 50,\n    max: 0,\n    lockDirection: false,\n    touchStart: function () {\n        reastMin();\n    },\n    lockDirection: false,\n    change: function (v) {\n        if (v \x3c= this.min \x2b 5 \x26amp;\x26amp; !loading) {\n            loading = true;\n            loadMore();\n        }\n        if (v \x3c 0) {\n            if (v \x3c -140) v = -140;\n            var scaleY = (240 \x2b v) \/ 240;\n            header.scaleY = scaleY;\n            userLogo.scaleX = userLogo.scaleY = scaleY;\n            userLogo.translateY = v \/ 1.7;\n        } else {\n            var scaleY = 1 \x2b v \/ 240;\n            header.scaleY = scaleY;\n            userLogo.scaleX = userLogo.scaleY = scaleY;\n            userLogo.translateY = v \/ 1.7;\n        }\n    }\n})\n\nfunction loadMore() {\n    setTimeout(function () {\n        infoList.innerHTML \x2b= mockHTML;\n        loading = false;\n        reastMin();\n    }, 500)\n}\n\nfunction reastMin() {\n    alloyTouch.min = -1 * parseInt(getComputedStyle(scroller).height) \x2b window.innerHeight - 202;\n}\n\ndocument.addEventListener(\x26quot;touchmove\x26quot;, function (evt) {\n    evt.preventDefault();\n}, false);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e infoList = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.getElementById(\x3cspan class=\x22hljs-string\x22\x3e\x22infoList\x22\x3c\/span\x3e),\n    mockHTML = infoList.innerHTML,\n    scroller = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.getElementById(\x3cspan class=\x22hljs-string\x22\x3e\x22scroller\x22\x3c\/span\x3e),\n    header = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.getElementById(\x3cspan class=\x22hljs-string\x22\x3e\x22header\x22\x3c\/span\x3e),\n    userLogo = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.getElementById(\x3cspan class=\x22hljs-string\x22\x3e\x22user-logo-wrapper\x22\x3c\/span\x3e),\n    loading = \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e,\n    alloyTouch = \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e;\n\nTransform(scroller, \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e);\nTransform(header);\nheader.originY = \x3cspan class=\x22hljs-number\x22\x3e-70\x3c\/span\x3e;\nheader.translateY = \x3cspan class=\x22hljs-number\x22\x3e-70\x3c\/span\x3e;\nTransform(userLogo);\n\nalloyTouch = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e AlloyTouch({\n    \x3cspan class=\x22hljs-attr\x22\x3etouch\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22#wrapper\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3evertical\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3etarget\x3c\/span\x3e: scroller,\n    \x3cspan class=\x22hljs-attr\x22\x3eproperty\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22translateY\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3emaxSpeed\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3eoutFactor\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e0.1\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3emin\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e160\x3c\/span\x3e * \x3cspan class=\x22hljs-number\x22\x3e-20\x3c\/span\x3e \x2b \x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.innerHeight - \x3cspan class=\x22hljs-number\x22\x3e202\x3c\/span\x3e - \x3cspan class=\x22hljs-number\x22\x3e50\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3emax\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3elockDirection\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3etouchStart\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n        reastMin();\n    },\n    \x3cspan class=\x22hljs-attr\x22\x3elockDirection\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3echange\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3ev\x3c\/span\x3e) \x3c\/span\x3e{\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (v \x26lt;= \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.min \x2b \x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e \x26amp;\x26amp; !loading) {\n            loading = \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e;\n            loadMore();\n        }\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (v \x26lt; \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e) {\n            \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (v \x26lt; \x3cspan class=\x22hljs-number\x22\x3e-140\x3c\/span\x3e) v = \x3cspan class=\x22hljs-number\x22\x3e-140\x3c\/span\x3e;\n            \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e scaleY = (\x3cspan class=\x22hljs-number\x22\x3e240\x3c\/span\x3e \x2b v) \/ \x3cspan class=\x22hljs-number\x22\x3e240\x3c\/span\x3e;\n            header.scaleY = scaleY;\n            userLogo.scaleX = userLogo.scaleY = scaleY;\n            userLogo.translateY = v \/ \x3cspan class=\x22hljs-number\x22\x3e1.7\x3c\/span\x3e;\n        } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n            \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e scaleY = \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e \x2b v \/ \x3cspan class=\x22hljs-number\x22\x3e240\x3c\/span\x3e;\n            header.scaleY = scaleY;\n            userLogo.scaleX = userLogo.scaleY = scaleY;\n            userLogo.translateY = v \/ \x3cspan class=\x22hljs-number\x22\x3e1.7\x3c\/span\x3e;\n        }\n    }\n})\n\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eloadMore\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    setTimeout(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n        infoList.innerHTML \x2b= mockHTML;\n        loading = \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e;\n        reastMin();\n    }, \x3cspan class=\x22hljs-number\x22\x3e500\x3c\/span\x3e)\n}\n\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ereastMin\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    alloyTouch.min = \x3cspan class=\x22hljs-number\x22\x3e-1\x3c\/span\x3e * \x3cspan class=\x22hljs-built_in\x22\x3eparseInt\x3c\/span\x3e(getComputedStyle(scroller).height) \x2b \x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.innerHeight - \x3cspan class=\x22hljs-number\x22\x3e202\x3c\/span\x3e;\n}\n\n\x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.addEventListener(\x3cspan class=\x22hljs-string\x22\x3e\x22touchmove\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3eevt\x3c\/span\x3e) \x3c\/span\x3e{\n    evt.preventDefault();\n}, \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e就这么多代码。当然你要引用一个transformjs和alloy_touch.css.js。先看这一堆：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22Transform(scroller, true);\nTransform(header);\nheader.originY = -70;\nheader.translateY = -70;\nTransform(userLogo);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3eTransform(scroller, \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e);\nTransform(header);\nheader.originY = \x3cspan class=\x22hljs-number\x22\x3e-70\x3c\/span\x3e;\nheader.translateY = \x3cspan class=\x22hljs-number\x22\x3e-70\x3c\/span\x3e;\nTransform(userLogo);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cul\x3e\x3cli\x3e\x3cp\x3eTransform(xxx)是什么意思？\x3c\/p\x3e\x3c\/li\x3e\x3c\/ul\x3e\n\x3cblockquote\x3e\x3cp\x3e赋予xxx transformation能力\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cul\x3e\x3cli\x3e\x3cp\x3e第一个scroller加上true代表关闭透视投影，为什么要关闭透视投影？\x3c\/p\x3e\x3c\/li\x3e\x3c\/ul\x3e\n\x3cblockquote\x3e\x3cp\x3e因为scroller里面是有文本，防止文本在IOS中模糊的情况。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cul\x3e\x3cli\x3e\x3cp\x3eheader是顶部的那个蓝色的区域。为什么要设置originY和translateY？为什么要设置为-70？\x3c\/p\x3e\x3c\/li\x3e\x3c\/ul\x3e\n\x3cblockquote\x3e\x3cp\x3e因为header的高度为140px，用户向上滚动的过程中，需要对其进行scaleY变换。通常我们的做法是设置CSS3 transform-origin为 center top。而使用transformjs之后，可以抛弃transform-origin，使用originY或者originX属性便可。originY 设置为 -70，相对于高度为140的header来说就是center top。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e再看这一堆：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22alloyTouch = new AlloyTouch({\n    touch: \x26quot;#wrapper\x26quot;,\n    vertical: true,\n    target: scroller,\n    property: \x26quot;translateY\x26quot;,\n    maxSpeed: 2,\n    outFactor: 0.1,\n    lockDirection: false,\n    min: 160 * -20 \x2b window.innerHeight - 202 - 50,\n    max: 0,\n    touchStart: function () {\n        resetMin();\n    },\n    lockDirection: false,\n    ...\n    ...\n    ...\n})\n...\n...\nfunction resetMin() {\n    alloyTouch.min = -1 * parseInt(getComputedStyle(scroller).height) \x2b window.innerHeight - 202;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3ealloyTouch = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e AlloyTouch({\n    \x3cspan class=\x22hljs-attr\x22\x3etouch\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22#wrapper\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3evertical\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3etarget\x3c\/span\x3e: scroller,\n    \x3cspan class=\x22hljs-attr\x22\x3eproperty\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22translateY\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3emaxSpeed\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3eoutFactor\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e0.1\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3elockDirection\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3emin\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e160\x3c\/span\x3e * \x3cspan class=\x22hljs-number\x22\x3e-20\x3c\/span\x3e \x2b \x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.innerHeight - \x3cspan class=\x22hljs-number\x22\x3e202\x3c\/span\x3e - \x3cspan class=\x22hljs-number\x22\x3e50\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3emax\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3etouchStart\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n        resetMin();\n    },\n    \x3cspan class=\x22hljs-attr\x22\x3elockDirection\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e,\n    ...\n    ...\n    ...\n})\n...\n...\nfunction resetMin() {\n    alloyTouch.min = \x3cspan class=\x22hljs-number\x22\x3e-1\x3c\/span\x3e * \x3cspan class=\x22hljs-built_in\x22\x3eparseInt\x3c\/span\x3e(getComputedStyle(scroller).height) \x2b \x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.innerHeight - \x3cspan class=\x22hljs-number\x22\x3e202\x3c\/span\x3e;\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e使用AlloyTouch最关键的一点就是计算min和max的值。min和max决定了可以滚到哪里，到了哪里会进行回弹等等。这里max是0毫无疑问。\x3c\/p\x3e\n\x3cul\x3e\x3cli\x3e\x3cp\x3e但是min那一堆加减乘除是什么东西？\x3c\/p\x3e\x3c\/li\x3e\x3c\/ul\x3e\n\x3cblockquote\x3e\x3cp\x3e这里首次加载是20行数据，每一行高度大概160，主意是大概， window.innerHeight是视窗的高度，202px是滚动的容器的padding top的值，50px是用来留给显示\x3cstrong\x3e加载更多\x3c\/strong\x3e的...\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000007953805?w=661\x26amp;h=524\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000007953805?w=661\x26amp;h=524\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e如上图所示，主要是需要求???的高度。\x3c\/p\x3e\n\x3cul\x3e\x3cli\x3e\x3cp\x3e那么怎么解决大概160*20的问题？\x3c\/p\x3e\x3c\/li\x3e\x3c\/ul\x3e\n\x3cblockquote\x3e\x3cp\x3etouchStart的时候reastMin。resetMin会去通过getComputedStyle计算整个scroller的高度。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cul\x3e\x3cli\x3e\x3cp\x3emaxSpeed是干什么用的？\x3c\/p\x3e\x3c\/li\x3e\x3c\/ul\x3e\n\x3cblockquote\x3e\x3cp\x3e用来限制滚动的最大速度，个人感觉调整到2挺舒适，这个可以根据场景和被运动的属性灵活配置。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cul\x3e\x3cli\x3e\x3cp\x3eoutFactor是干什么用的？\x3c\/p\x3e\x3c\/li\x3e\x3c\/ul\x3e\n\x3cblockquote\x3e\x3cp\x3e用来设置超出min或者max进行拖拽的运动比例系数，系数越小，超出min和max越难拖动，也就是受到的阻力越大。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cul\x3e\x3cli\x3e\x3cp\x3elockDirection是干什么用的？\x3c\/p\x3e\x3c\/li\x3e\x3c\/ul\x3e\n\x3cblockquote\x3e\x3cp\x3elockDirection默认值是true。代表用户起手时候是横向的，而你监听的是竖直方向的touch，这样的话是不会触发运动。只有起手和监听对应上才会有触摸运动。这里把lockDirection设置成false就没有这个限制，不管用户起手的direction，都会有触摸运动。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e再看AlloyTouch注入的change事件！头部动效核心的一个配置函数：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22change: function (v) {\n    if (v \x3c= this.min \x2b 5 \x26amp;\x26amp; !loading) {\n        loading = true;\n        loadMore();\n    }\n    if (v \x3c 0) {\n        if (v \x3c -140) v = -140;\n        var scaleY = (240 \x2b v) \/ 240;\n        header.scaleY = scaleY;\n        userLogo.scaleX = userLogo.scaleY = scaleY;\n        userLogo.translateY = v \/ 1.7;\n    } else {\n        var scaleY = 1 \x2b v \/ 240;\n        header.scaleY = scaleY;\n        userLogo.scaleX = userLogo.scaleY = scaleY;\n        userLogo.translateY = v \/ 1.7;\n    }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3echange: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3ev\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (v \x26lt;= \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.min \x2b \x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e \x26amp;\x26amp; !loading) {\n        loading = \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e;\n        loadMore();\n    }\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (v \x26lt; \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e) {\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (v \x26lt; \x3cspan class=\x22hljs-number\x22\x3e-140\x3c\/span\x3e) v = \x3cspan class=\x22hljs-number\x22\x3e-140\x3c\/span\x3e;\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e scaleY = (\x3cspan class=\x22hljs-number\x22\x3e240\x3c\/span\x3e \x2b v) \/ \x3cspan class=\x22hljs-number\x22\x3e240\x3c\/span\x3e;\n        header.scaleY = scaleY;\n        userLogo.scaleX = userLogo.scaleY = scaleY;\n        userLogo.translateY = v \/ \x3cspan class=\x22hljs-number\x22\x3e1.7\x3c\/span\x3e;\n    } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e scaleY = \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e \x2b v \/ \x3cspan class=\x22hljs-number\x22\x3e240\x3c\/span\x3e;\n        header.scaleY = scaleY;\n        userLogo.scaleX = userLogo.scaleY = scaleY;\n        userLogo.translateY = v \/ \x3cspan class=\x22hljs-number\x22\x3e1.7\x3c\/span\x3e;\n    }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3ev代表当前被运动对象的被运动属性的当前的值，根据这个v去做一些效果和加载更多。\x3c\/p\x3e\n\x3cul\x3e\x3cli\x3e\x3cp\x3e什么时候加载更多？\x3c\/p\x3e\x3c\/li\x3e\x3c\/ul\x3e\n\x3cblockquote\x3e\x3cp\x3e当滚动你能看到加载更多的时候去加载更多\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cul\x3e\x3cli\x3e\x3cp\x3e什么时候能看到加载更多？\x3c\/p\x3e\x3c\/li\x3e\x3c\/ul\x3e\n\x3cblockquote\x3e\x3cp\x3ev \x26lt;= this.min \x2b 5。 可以看到change回调里可以拿到this，也就是AlloyTouch对象的实例，当v等于this.min代表滚到了底部，所以这里加上5代表快要滚动底部已经看到了加载更多。就去执行loadMore函数。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cul\x3e\x3cli\x3e\x3cp\x3eloading是干什么用的？\x3c\/p\x3e\x3c\/li\x3e\x3c\/ul\x3e\n\x3cblockquote\x3e\x3cp\x3e防止重复loadMore用得，因为change执行得很频繁，所以这里会通过loading的状态去锁上。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cul\x3e\x3cli\x3e\x3cp\x3e下面一堆设置scaleX、scaleY、translateY以及一堆数字是怎么来的？\x3c\/p\x3e\x3c\/li\x3e\x3c\/ul\x3e\n\x3cblockquote\x3e\x3cp\x3e慢慢调试得出的最佳效果~~反正就是根据v的数值映射到 header和用户头像的transform属性上，这里就不一一讲了。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e再看loadMore：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function loadMore() {\n    setTimeout(function () {\n        infoList.innerHTML \x2b= mockHTML;\n        loading = false;\n        reastMin();\n    }, 500)\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eloadMore\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    setTimeout(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n        infoList.innerHTML \x2b= mockHTML;\n        loading = \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e;\n        reastMin();\n    }, \x3cspan class=\x22hljs-number\x22\x3e500\x3c\/span\x3e)\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这里使用了一段假的HTML去模拟AJAX异步请求以及数据转HTML的过程，整个耗时500ms，500ms后会去：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e插入HTML\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e重置loading状态\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e重置AlloyTouch的min\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e最后：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22document.addEventListener(\x26quot;touchmove\x26quot;, function (evt) {\n    evt.preventDefault();\n}, false);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.addEventListener(\x3cspan class=\x22hljs-string\x22\x3e\x22touchmove\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3eevt\x3c\/span\x3e) \x3c\/span\x3e{\n    evt.preventDefault();\n}, \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e阻止掉整个document的默认事件，不会把整个页面拖下来，在手Q里的话，你就看不到网址和X5内核提供技术支持了。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader4\x22\x3e开始AlloyTouch\x3c\/h2\x3e\n\x3cp\x3eGithub：\x3ca href=\x22https:\/\/github.com\/AlloyTeam\/AlloyTouch\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/github.com\/AlloyTeam\/AlloyTouch\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e任何意见和建议欢迎\x3ca href=\x22https:\/\/github.com\/AlloyTeam\/AlloyTouch\/issues\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3enew issue\x3c\/a\x3e，AlloyTouch团队会第一时间反馈。\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>AlloyTouch实战&ndash;60行代码搞定QQ看点资料卡</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000007953799">https://segmentfault.com/a/1190000007953799</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/5jt1iw1t77b/" target="_blank">https://alili.tech/archive/5jt1iw1t77b/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/dc9tmbt89lc/">CSS3 巧妙实现聊天气泡<aside class="dates">2019-02-02</aside></a></li><li><a href="/archive/awfhylei7vr/">Element 一套优雅的 Vue 2 组件库是如何开发的<aside class="dates">2019-02-02</aside></a></li><li><a href="/archive/5n6e7oj31zb/">Ionic2入坑基础教程和安装指南<aside class="dates">2019-02-02</aside></a></li><li><a href="/archive/k9uktrr2ck/">JavaScript arguments 对象全面介绍<aside class="dates">2019-02-02</aside></a></li><li><a href="/archive/d31ygsiurr7/">JavaScript 版俄罗斯方块——重构<aside class="dates">2019-02-02</aside></a></li><li><a href="/archive/f1goxj498pc/">JavaScript中this绑定详解<aside class="dates">2019-02-02</aside></a></li><li><a href="/archive/fpk9tyls8sb/">Markcook2.0，使用Vue2.0和Vuex2.0进行完全重构升级<aside class="dates">2019-02-02</aside></a></li><li><a href="/archive/rnj4z8l02t/">N3-components - 强劲的 Vue UI组件库<aside class="dates">2019-02-02</aside></a></li><li><a href="/archive/7njdijhy2um/">Node.js &#43; React Native 毕设：农业物联网监测系统的开发手记<aside class="dates">2019-02-02</aside></a></li><li><a href="/archive/f8zzbybr4tl/">Redux、Flux、Vuex<aside class="dates">2019-02-02</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>