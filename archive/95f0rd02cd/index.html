<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="从一个组件的实现来深刻理解 JS 中的继承"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>从一个组件的实现来深刻理解 JS 中的继承 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/95f0rd02cd/",
				"appid": "1613049289050283", 
				"title": "从一个组件的实现来深刻理解 JS 中的继承 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-02-01T02:30:10"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/69nesvdodfw/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/9w2e3vnka5/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2f95f0rd02cd%2f&text=%e4%bb%8e%e4%b8%80%e4%b8%aa%e7%bb%84%e4%bb%b6%e7%9a%84%e5%ae%9e%e7%8e%b0%e6%9d%a5%e6%b7%b1%e5%88%bb%e7%90%86%e8%a7%a3%20JS%20%e4%b8%ad%e7%9a%84%e7%bb%a7%e6%89%bf"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2f95f0rd02cd%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2f95f0rd02cd%2f&text=%e4%bb%8e%e4%b8%80%e4%b8%aa%e7%bb%84%e4%bb%b6%e7%9a%84%e5%ae%9e%e7%8e%b0%e6%9d%a5%e6%b7%b1%e5%88%bb%e7%90%86%e8%a7%a3%20JS%20%e4%b8%ad%e7%9a%84%e7%bb%a7%e6%89%bf"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2f95f0rd02cd%2f&title=%e4%bb%8e%e4%b8%80%e4%b8%aa%e7%bb%84%e4%bb%b6%e7%9a%84%e5%ae%9e%e7%8e%b0%e6%9d%a5%e6%b7%b1%e5%88%bb%e7%90%86%e8%a7%a3%20JS%20%e4%b8%ad%e7%9a%84%e7%bb%a7%e6%89%bf"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2f95f0rd02cd%2f&is_video=false&description=%e4%bb%8e%e4%b8%80%e4%b8%aa%e7%bb%84%e4%bb%b6%e7%9a%84%e5%ae%9e%e7%8e%b0%e6%9d%a5%e6%b7%b1%e5%88%bb%e7%90%86%e8%a7%a3%20JS%20%e4%b8%ad%e7%9a%84%e7%bb%a7%e6%89%bf"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e4%bb%8e%e4%b8%80%e4%b8%aa%e7%bb%84%e4%bb%b6%e7%9a%84%e5%ae%9e%e7%8e%b0%e6%9d%a5%e6%b7%b1%e5%88%bb%e7%90%86%e8%a7%a3%20JS%20%e4%b8%ad%e7%9a%84%e7%bb%a7%e6%89%bf&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2f95f0rd02cd%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2f95f0rd02cd%2f&title=%e4%bb%8e%e4%b8%80%e4%b8%aa%e7%bb%84%e4%bb%b6%e7%9a%84%e5%ae%9e%e7%8e%b0%e6%9d%a5%e6%b7%b1%e5%88%bb%e7%90%86%e8%a7%a3%20JS%20%e4%b8%ad%e7%9a%84%e7%bb%a7%e6%89%bf"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f95f0rd02cd%2f&title=%e4%bb%8e%e4%b8%80%e4%b8%aa%e7%bb%84%e4%bb%b6%e7%9a%84%e5%ae%9e%e7%8e%b0%e6%9d%a5%e6%b7%b1%e5%88%bb%e7%90%86%e8%a7%a3%20JS%20%e4%b8%ad%e7%9a%84%e7%bb%a7%e6%89%bf"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f95f0rd02cd%2f&title=%e4%bb%8e%e4%b8%80%e4%b8%aa%e7%bb%84%e4%bb%b6%e7%9a%84%e5%ae%9e%e7%8e%b0%e6%9d%a5%e6%b7%b1%e5%88%bb%e7%90%86%e8%a7%a3%20JS%20%e4%b8%ad%e7%9a%84%e7%bb%a7%e6%89%bf"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f95f0rd02cd%2f&title=%e4%bb%8e%e4%b8%80%e4%b8%aa%e7%bb%84%e4%bb%b6%e7%9a%84%e5%ae%9e%e7%8e%b0%e6%9d%a5%e6%b7%b1%e5%88%bb%e7%90%86%e8%a7%a3%20JS%20%e4%b8%ad%e7%9a%84%e7%bb%a7%e6%89%bf"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">从一个组件的实现来深刻理解 JS 中的继承</h1><div class="meta"><div class="postdate"><time datetime="2019-02-01" itemprop="datePublished">2019-02-01</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e其实，无论是写什么语言的程序员，最终的目的，都是把产品或代码封装到一起，提供接口，让使用者很舒适的实现功能。所以对于我来说，往往头疼的不是写代码，而是写注释和文档！如果接口很乱，肯定会头疼一整天。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVEWTS?w=690\x26amp;h=487\x22 src=\x22https:\/\/static.alili.tech\/img\/bVEWTS?w=690\x26amp;h=487\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3eJavaScript 最初是以 Web 脚本语言面向大众的，尽管现在出了服务器端的 nodejs，但是单线程的性质还没有变。对于一个 Web 开发人员来说，能写一手漂亮的组件极为重要。GitHub 上那些开源且 stars 过百的 Web 项目或组件，可读性肯定非常好。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3e从一个例子来学习写组件\x3c\/h2\x3e\n\x3cp\x3e组件教程的参考来自于 GitHub 上，通俗易懂，\x3ca href=\x22https:\/\/github.com\/purplebamboo\/demo-richbase\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e链接\x3c\/a\x3e。\x3c\/p\x3e\n\x3cp\x3e要实现下面这个功能，对一个 input 输入框的内容进行验证，只有纯数字和字母的组合才是被接受的，其他都返回 failed：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVEWT5?w=302\x26amp;h=60\x22 src=\x22https:\/\/static.alili.tech\/img\/bVEWT5?w=302\x26amp;h=60\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader1\x22\x3e全局变量写法\x3c\/h3\x3e\n\x3cp\x3e这种写法完全没有约束，基本所有人都会，完全没啥技巧：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ html\n\x3cinput type=\x26quot;text\x26quot; id=\x26quot;input\x26quot;\/\x3e\n\/\/ javascript\nvar input = document.getElementById(\x26quot;input\x26quot;);\nfunction getValue(){\n  return input.value;\n}\nfunction render(){\n  var value = getValue();\n  if(!document.getElementById(\x26quot;show\x26quot;)){\n    var append = document.createElement(\x27span\x27);\n    append.setAttribute(\x26quot;id\x26quot;, \x26quot;show\x26quot;);\n    input.parentNode.appendChild(append);\n  }\n  var show = document.getElementById(\x26quot;show\x26quot;);\n  if(\/^[0-9a-zA-Z]\x2b$\/.exec(value)){\n    show.innerHTML = \x27Pass!\x27;\n  }else{\n    show.innerHTML = \x27Failed!\x27;\n  }\n}\ninput.addEventListener(\x27keyup\x27, function(){\n  render();\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ html\x3c\/span\x3e\n\x26lt;input type=\x3cspan class=\x22hljs-string\x22\x3e\x22text\x22\x3c\/span\x3e id=\x3cspan class=\x22hljs-string\x22\x3e\x22input\x22\x3c\/span\x3e\/\x26gt;\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ javascript\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e input = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.getElementById(\x3cspan class=\x22hljs-string\x22\x3e\x22input\x22\x3c\/span\x3e);\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3egetValue\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e input.value;\n}\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3erender\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e value = getValue();\n  \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(!\x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.getElementById(\x3cspan class=\x22hljs-string\x22\x3e\x22show\x22\x3c\/span\x3e)){\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e append = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.createElement(\x3cspan class=\x22hljs-string\x22\x3e\x27span\x27\x3c\/span\x3e);\n    append.setAttribute(\x3cspan class=\x22hljs-string\x22\x3e\x22id\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22show\x22\x3c\/span\x3e);\n    input.parentNode.appendChild(append);\n  }\n  \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e show = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.getElementById(\x3cspan class=\x22hljs-string\x22\x3e\x22show\x22\x3c\/span\x3e);\n  \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(\x3cspan class=\x22hljs-regexp\x22\x3e\/^[0-9a-zA-Z]\x2b$\/\x3c\/span\x3e.exec(value)){\n    show.innerHTML = \x3cspan class=\x22hljs-string\x22\x3e\x27Pass!\x27\x3c\/span\x3e;\n  }\x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e{\n    show.innerHTML = \x3cspan class=\x22hljs-string\x22\x3e\x27Failed!\x27\x3c\/span\x3e;\n  }\n}\ninput.addEventListener(\x3cspan class=\x22hljs-string\x22\x3e\x27keyup\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n  render();\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e缺点自然不用多说，变量没有任何隔离，严重污染全局变量，虽然可以达到目的，但极不推荐这种写法。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader2\x22\x3e对象隔离作用域\x3c\/h3\x3e\n\x3cp\x3e鉴于以上写法的弊端，我们用对象来隔离变量和函数：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var obj = {\n  input: null,\n  \/\/ 初始化并提供入口调用方法\n  init: function(config){\n    this.input = document.getElementById(config.id);\n    this.bind();\n    \/\/链式调用\n    return this;\n  },\n  \/\/ 绑定\n  bind: function(){\n    var self = this;\n    this.input.addEventListener(\x27keyup\x27, function(){\n      self.render();\n    });\n  },\n  getValue: function(){\n    return this.input.value;\n  },\n  render: function(){\n    var value = this.getValue();\n    if(!document.getElementById(\x26quot;show\x26quot;)){\n      var append = document.createElement(\x27span\x27);\n      append.setAttribute(\x26quot;id\x26quot;, \x26quot;show\x26quot;);\n      input.parentNode.appendChild(append);\n    }\n    var show = document.getElementById(\x26quot;show\x26quot;);\n    if(\/^[0-9a-zA-Z]\x2b$\/.exec(value)){\n      show.innerHTML = \x27Pass!\x27;\n    }else{\n      show.innerHTML = \x27Failed!\x27;\n    }\n  }\n}\nwindow.onload = function(){\n  obj.init({id: \x26quot;input\x26quot;});\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e obj = {\n  \x3cspan class=\x22hljs-attr\x22\x3einput\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 初始化并提供入口调用方法\x3c\/span\x3e\n  init: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3econfig\x3c\/span\x3e)\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.input = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.getElementById(config.id);\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.bind();\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/链式调用\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e;\n  },\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 绑定\x3c\/span\x3e\n  bind: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e self = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.input.addEventListener(\x3cspan class=\x22hljs-string\x22\x3e\x27keyup\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n      self.render();\n    });\n  },\n  \x3cspan class=\x22hljs-attr\x22\x3egetValue\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.input.value;\n  },\n  \x3cspan class=\x22hljs-attr\x22\x3erender\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e value = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.getValue();\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(!\x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.getElementById(\x3cspan class=\x22hljs-string\x22\x3e\x22show\x22\x3c\/span\x3e)){\n      \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e append = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.createElement(\x3cspan class=\x22hljs-string\x22\x3e\x27span\x27\x3c\/span\x3e);\n      append.setAttribute(\x3cspan class=\x22hljs-string\x22\x3e\x22id\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22show\x22\x3c\/span\x3e);\n      input.parentNode.appendChild(append);\n    }\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e show = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.getElementById(\x3cspan class=\x22hljs-string\x22\x3e\x22show\x22\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(\x3cspan class=\x22hljs-regexp\x22\x3e\/^[0-9a-zA-Z]\x2b$\/\x3c\/span\x3e.exec(value)){\n      show.innerHTML = \x3cspan class=\x22hljs-string\x22\x3e\x27Pass!\x27\x3c\/span\x3e;\n    }\x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e{\n      show.innerHTML = \x3cspan class=\x22hljs-string\x22\x3e\x27Failed!\x27\x3c\/span\x3e;\n    }\n  }\n}\n\x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.onload = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n  obj.init({\x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22input\x22\x3c\/span\x3e});\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e相对于开放式的写法，上面的这个方法就比较清晰了。有初始化，有内部函数和变量，还提供入口调用方法。\x3c\/p\x3e\n\x3cp\x3e新手能实现上面的方法已经很不错了，还记得当初做百度前端学院题目的时候，基本就是用对象了。\x3c\/p\x3e\n\x3cp\x3e不过这种方法仍然有弊端。obj 对象中的方法都是公开的，并不是私有的，其他人写的代码可以随意更改这些内容。当多人协作或代码量很多时，又会产生一系列问题。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader3\x22\x3e函数闭包的写法\x3c\/h3\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var fun = (function(){\n  var _bind = function(obj){\n    obj.input.addEventListener(\x27keyup\x27, function(){\n      obj.render();\n    });\n  }\n  var _getValue = function(obj){\n    return obj.input.value;\n  }\n  var InputFun = function(config){};\n  InputFun.prototype.init = function(config){\n    this.input = document.getElementById(config.id);\n    _bind(this);\n    return this;\n  }\n  InputFun.prototype.render = function(){\n    var value = _getValue(this);\n    if(!document.getElementById(\x26quot;show\x26quot;)){\n      var append = document.createElement(\x27span\x27);\n      append.setAttribute(\x26quot;id\x26quot;, \x26quot;show\x26quot;);\n      input.parentNode.appendChild(append);\n    }\n    var show = document.getElementById(\x26quot;show\x26quot;);\n    if(\/^[0-9a-zA-Z]\x2b$\/.exec(value)){\n      show.innerHTML = \x27Pass!\x27;\n    }else{\n      show.innerHTML = \x27Failed!\x27;\n    }\n  }\n  return InputFun;\n})();\nwindow.onload = function(){\n  new fun().init({id: \x27input\x27});\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e fun = (\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e _bind = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eobj\x3c\/span\x3e)\x3c\/span\x3e{\n    obj.input.addEventListener(\x3cspan class=\x22hljs-string\x22\x3e\x27keyup\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n      obj.render();\n    });\n  }\n  \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e _getValue = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eobj\x3c\/span\x3e)\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e obj.input.value;\n  }\n  \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e InputFun = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3econfig\x3c\/span\x3e)\x3c\/span\x3e{};\n  InputFun.prototype.init = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3econfig\x3c\/span\x3e)\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.input = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.getElementById(config.id);\n    _bind(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e;\n  }\n  InputFun.prototype.render = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e value = _getValue(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(!\x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.getElementById(\x3cspan class=\x22hljs-string\x22\x3e\x22show\x22\x3c\/span\x3e)){\n      \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e append = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.createElement(\x3cspan class=\x22hljs-string\x22\x3e\x27span\x27\x3c\/span\x3e);\n      append.setAttribute(\x3cspan class=\x22hljs-string\x22\x3e\x22id\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22show\x22\x3c\/span\x3e);\n      input.parentNode.appendChild(append);\n    }\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e show = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.getElementById(\x3cspan class=\x22hljs-string\x22\x3e\x22show\x22\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(\x3cspan class=\x22hljs-regexp\x22\x3e\/^[0-9a-zA-Z]\x2b$\/\x3c\/span\x3e.exec(value)){\n      show.innerHTML = \x3cspan class=\x22hljs-string\x22\x3e\x27Pass!\x27\x3c\/span\x3e;\n    }\x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e{\n      show.innerHTML = \x3cspan class=\x22hljs-string\x22\x3e\x27Failed!\x27\x3c\/span\x3e;\n    }\n  }\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e InputFun;\n})();\n\x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.onload = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e fun().init({\x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27input\x27\x3c\/span\x3e});\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e函数闭包写法的好处都在自执行的闭包里，不会受到外面的影响，而且提供给外面的方法包括 init 和 render。比如我们可以像 JQuery 那样，稍微对其改造一下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var $ = function(id){\n  \/\/ 这样子就不用每次都 new 了\n  return new fun().init({\x27id\x27: id});\n}\nwindow.onload = function(){\n  $(\x27input\x27);\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e $ = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eid\x3c\/span\x3e)\x3c\/span\x3e{\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 这样子就不用每次都 new 了\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e fun().init({\x3cspan class=\x22hljs-string\x22\x3e\x27id\x27\x3c\/span\x3e: id});\n}\n\x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.onload = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n  $(\x3cspan class=\x22hljs-string\x22\x3e\x27input\x27\x3c\/span\x3e);\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e还没有涉及到原型，只是简单的闭包。\x3c\/p\x3e\n\x3cp\x3e基本上，这已经是一个合格的写法了。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader4\x22\x3e面向对象\x3c\/h3\x3e\n\x3cp\x3e虽然上面的方法以及够好了，但是我们的目的，是为了使用面向对象。面向对象一直以来都是被认为最佳的编程方式，如果每个人的代码风格都相似，维护、查看起来就非常的方便。\x3c\/p\x3e\n\x3cp\x3e但是，我想在介绍面向对象之前，先来回忆一下 JS 中的继承（实现我们放到最后再说）。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader5\x22\x3e入门级的面向对象\x3c\/h2\x3e\n\x3cp\x3e提到继承，我首先想到的就是用 new 来实现。还是以例子为主吧，人-\x26gt;学生-\x26gt;小学生，在 JS 中有原型链这么一说，__proto__ 和 prototype ，对于原型链就不过多阐述，如果不懂的可以自己去查阅一些资料。\x3c\/p\x3e\n\x3cp\x3e在这里，我还是要说明一下 JS 中的 new 构造，比如 \x3ccode\x3evar student = new Person(name)\x3c\/code\x3e，实际上有三步操作：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var student = {};\nstudent.__proto__ = Person.prototype;\nPerson.call(student, name)\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e student = {};\nstudent.__proto__ = Person.prototype;\nPerson.call(student, name)\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e得到的 student 是一个对象，__proto__执行 Person 的 prototype，Person.call 相当于 constructor。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function Person(name){\n  this.name = name;\n}\nPerson.prototype.Say = function(){\n  console.log(this.name \x2b \x27 can say!\x27);\n}\nvar ming = new Person(\x26quot;xiaoming\x26quot;);\nconsole.log(ming.__proto__ == Person.prototype) \/\/true new的第二步结果\nconsole.log(ming.name) \/\/ \x27xiaoming\x27 new 的第三步结果\nming.Say() \/\/ \x27xiaoming can say!\x27 proto 向上追溯的结果\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ePerson\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ename\x3c\/span\x3e)\x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.name = name;\n}\nPerson.prototype.Say = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.name \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27 can say!\x27\x3c\/span\x3e);\n}\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e ming = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Person(\x3cspan class=\x22hljs-string\x22\x3e\x22xiaoming\x22\x3c\/span\x3e);\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(ming.__proto__ == Person.prototype) \x3cspan class=\x22hljs-comment\x22\x3e\/\/true new的第二步结果\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(ming.name) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x27xiaoming\x27 new 的第三步结果\x3c\/span\x3e\nming.Say() \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x27xiaoming can say!\x27 proto 向上追溯的结果\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e利用 __proto__ 属性的向上追溯，可以实现一个基于原型链的继承。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function Person(name){\n  this.name = name;\n}\nPerson.prototype.Say = function(){\n  console.log(this.name \x2b \x27 can say!\x27);\n}\nfunction Student(name){\n  Person.call(this, name); \/\/Person 的属性赋值给 Student\n}\nStudent.prototype = new Person(); \/\/顺序不能反，要在最前面\nStudent.prototype.DoHomeWork = function(){\n  console.log(this.name \x2b \x27 can do homework!\x27);\n}\nvar ming = new Student(\x26quot;xiaoming\x26quot;);\nming.DoHomeWork(); \/\/\x27xiaoming can do homework!\x27\nming.Say(); \/\/\x27xiaoming can say!\x27\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ePerson\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ename\x3c\/span\x3e)\x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.name = name;\n}\nPerson.prototype.Say = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.name \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27 can say!\x27\x3c\/span\x3e);\n}\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eStudent\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ename\x3c\/span\x3e)\x3c\/span\x3e{\n  Person.call(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e, name); \x3cspan class=\x22hljs-comment\x22\x3e\/\/Person 的属性赋值给 Student\x3c\/span\x3e\n}\nStudent.prototype = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Person(); \x3cspan class=\x22hljs-comment\x22\x3e\/\/顺序不能反，要在最前面\x3c\/span\x3e\nStudent.prototype.DoHomeWork = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.name \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27 can do homework!\x27\x3c\/span\x3e);\n}\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e ming = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Student(\x3cspan class=\x22hljs-string\x22\x3e\x22xiaoming\x22\x3c\/span\x3e);\nming.DoHomeWork(); \x3cspan class=\x22hljs-comment\x22\x3e\/\/\x27xiaoming can do homework!\x27\x3c\/span\x3e\nming.Say(); \x3cspan class=\x22hljs-comment\x22\x3e\/\/\x27xiaoming can say!\x27\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e大概刚认识原型链的时候，我也就只能写出这样的水平了，\x3ca href=\x22http:\/\/yuren.space\/blog\/2016\/09\/28\/%E5%8E%9F%E5%9E%8B%E9%93%BE\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e我之前的文章\x3c\/a\x3e。\x3c\/p\x3e\n\x3cp\x3e打开调试工具，看一下 ming 都有哪些东西：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22ming\n  name: \x26quot;xiaoming\x26quot;\n  __proto__: Person\n    DoHomeWork: ()\n    name: undefined \/\/注意这里多了一个 name 属性\n    __proto__: Object\n      Say: ()\n      constructor: Person(name)\n      __proto__: Object\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs dts\x22\x3e\x3ccode\x3eming\n\x3cspan class=\x22hljs-symbol\x22\x3e  name:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22xiaoming\x22\x3c\/span\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3e  __proto__:\x3c\/span\x3e Person\n\x3cspan class=\x22hljs-symbol\x22\x3e    DoHomeWork:\x3c\/span\x3e ()\n\x3cspan class=\x22hljs-symbol\x22\x3e    name:\x3c\/span\x3e undefined \x3cspan class=\x22hljs-comment\x22\x3e\/\/注意这里多了一个 name 属性\x3c\/span\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3e    __proto__:\x3c\/span\x3e Object\n\x3cspan class=\x22hljs-symbol\x22\x3e      Say:\x3c\/span\x3e ()\n\x3cspan class=\x22hljs-symbol\x22\x3e      constructor:\x3c\/span\x3e Person(name)\n\x3cspan class=\x22hljs-symbol\x22\x3e      __proto__:\x3c\/span\x3e Object\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e当调用 \x3ccode\x3eming.Say()\x3c\/code\x3e 的时候，刚好 \x3ccode\x3eming.__proto__.__proto__\x3c\/code\x3e 有这个属性，这就是链式调用的原理，一层一层向下寻找。\x3c\/p\x3e\n\x3cp\x3e这就是最简单的继承了。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader6\x22\x3e面向对象的进阶\x3c\/h2\x3e\n\x3cp\x3e来看一看刚才那种做法的弊端。\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\x3cp\x3e没有实现传统面向对象该有的 super 方法来调用父类方法，链式和 super 方法相比还是有一定缺陷的；\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e造成过多的原型属性（name），constructor 丢失（constructor 是一个非常重要的属性，\x3ca href=\x22https:\/\/developer.mozilla.org\/en-US\/docs\/Web\/JavaScript\/Reference\/Global_Objects\/Object\/constructor\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eMDN\x3c\/a\x3e）。\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e因为链式是一层层向上寻找，知道找到为止，很明显 super 直接调用父类更具有优势。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 多了原型属性\nconsole.log(ming.__proto__) \/\/ {name: undefined}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs sqf\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 多了原型属性\x3c\/span\x3e\nconsole.\x3cspan class=\x22hljs-built_in\x22\x3elog\x3c\/span\x3e(ming.\x3cspan class=\x22hljs-variable\x22\x3e__proto__\x3c\/span\x3e) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ {name: undefined}\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e为什么会多一个 name，原因是因为我们执行了 \x3ccode\x3eStudent.prototype = new Person();\x3c\/code\x3e，而 new 的第三步会执行一个 call 的函数，会使得 \x3ccode\x3eStudent.prototype.name = undefined\x3c\/code\x3e，恰好 \x3ccode\x3eming.__proto__\x3c\/code\x3e 指向 Student 的 prototype，用了 new 是无法避免的。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 少了 constructor\nconsole.log(ming.constructor == Person) \/\/true\nconsole.log(ming.constructor == Student) \/\/ false\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 少了 constructor\x3c\/span\x3e\nconsole.log(ming\x3cspan class=\x22hljs-selector-class\x22\x3e.constructor\x3c\/span\x3e == Person) \x3cspan class=\x22hljs-comment\x22\x3e\/\/true\x3c\/span\x3e\nconsole.log(ming\x3cspan class=\x22hljs-selector-class\x22\x3e.constructor\x3c\/span\x3e == Student) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ false\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这也很奇怪，明明 ming 是继承与 Student，却返回 false，究其原因，\x3ccode\x3eStudent.prototype\x3c\/code\x3e 的 constructor 方法丢失，向上找到了  \x3ccode\x3eStudent.prototype.__proto__\x3c\/code\x3e 的 constructor 方法。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVEWU0?w=354\x26amp;h=172\x22 src=\x22https:\/\/static.alili.tech\/img\/bVEWU0?w=354\x26amp;h=172\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e再找原因，这句话导致了 \x3ccode\x3eStudent.prototype\x3c\/code\x3e 的 constructor 方法丢失：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22Student.prototype = new Person();\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3eStudent.prototype = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Person();\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在这句话之前打一个断点，曾经是有的，只是被替换掉了：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVEWU5?w=348\x26amp;h=151\x22 src=\x22https:\/\/static.alili.tech\/img\/bVEWU5?w=348\x26amp;h=151\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e找到了问题所在，现在来改进：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ fn 用来排除多余的属性(name)\nvar fn = function(){};\nfn.prototype = Person.prototype;\nStudent.prototype = new fn();\n\/\/ 重新添上 constructor 属性\nStudent.prototype.constructor = Student;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs gauss\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ fn 用来排除多余的属性(name)\x3c\/span\x3e\nvar \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efn\x3c\/span\x3e = function\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e{}\x3c\/span\x3e;\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efn\x3c\/span\x3e.\x3cspan class=\x22hljs-title\x22\x3eprototype\x3c\/span\x3e = Person.prototype\x3c\/span\x3e;\nStudent.prototype = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efn\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e\x3c\/span\x3e;\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 重新添上 constructor 属性\x3c\/span\x3e\nStudent.prototype.constructor = Student;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e用上面的继承代码替换掉之前的 \x3ccode\x3eStudent.prototype = new Person();\x3c\/code\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader7\x22\x3e面向对象的封装\x3c\/h2\x3e\n\x3cp\x3e我们不能每一次写代码的时候都这样写这么多行来继承吧，所以，于情于理，还是来进行简单的包装：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function classInherit(subClass, parentClass){\n  var fn = function(){};\n  fn.prototype = parentClass.prototype;\n  subClass.prototype = new fn();\n  subClass.prototype.constructor = subClass;\n}\nclassInherit(Student, Person);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eclassInherit\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3esubClass, parentClass\x3c\/span\x3e)\x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e fn = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{};\n  fn.prototype = parentClass.prototype;\n  subClass.prototype = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e fn();\n  subClass.prototype.constructor = subClass;\n}\nclassInherit(Student, Person);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cdel\x3e哈哈，所谓的包装，就是重抄一下代码。\x3c\/del\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader8\x22\x3e进一步完善面向对象\x3c\/h2\x3e\n\x3cp\x3e上面的问题只是简单的解决了多余属性和 constructor 丢失的问题，而 super 问题仍然没有改进。\x3c\/p\x3e\n\x3cp\x3e举个栗子，来看看 super 的重要，每个人都会睡觉，sleep 函数是人的一个属性，学生分为小学生和大学生，小学生晚上 9 点睡觉，大学生 12 点睡觉，于是：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22Person.prototype.Sleep = function(){\n  console.log(\x27Sleep!\x27);\n}\nfunction E_Student(){}; \/\/小学生\nfunction C_Student(){}; \/\/大学生\nclassInherit(E_Student, Person);\nclassInherit(C_Student, Person);\n\/\/重写 Sleep 方法\nE_Student.prototype.Sleep = function(){\n  console.log(\x27Sleep!\x27);\n  console.log(\x27Sleep at 9 clock\x27);\n}\nC_Student.prototype.Sleep = function(){\n  console.log(\x27Sleep!\x27);\n  console.log(\x27Sleep at 12 clock\x27);\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3ePerson.prototype.Sleep = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27Sleep!\x27\x3c\/span\x3e);\n}\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eE_Student\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{}; \x3cspan class=\x22hljs-comment\x22\x3e\/\/小学生\x3c\/span\x3e\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eC_Student\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{}; \x3cspan class=\x22hljs-comment\x22\x3e\/\/大学生\x3c\/span\x3e\nclassInherit(E_Student, Person);\nclassInherit(C_Student, Person);\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/重写 Sleep 方法\x3c\/span\x3e\nE_Student.prototype.Sleep = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27Sleep!\x27\x3c\/span\x3e);\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27Sleep at 9 clock\x27\x3c\/span\x3e);\n}\nC_Student.prototype.Sleep = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27Sleep!\x27\x3c\/span\x3e);\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27Sleep at 12 clock\x27\x3c\/span\x3e);\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e对于 Sleep 方法，显得比较混乱，而我们想要通过 super，直接调用父类的函数：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22E_Student.prototype.Sleep = function(){\n  this._super(); \/\/super 方法\n  console.log(\x27Sleep at 9 clock\x27);\n}\nC_Student.prototype.Sleep = function(){\n  this._super(); \/\/super 方法\n  console.log(\x27Sleep at 12 clock\x27);\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3eE_Student.prototype.Sleep = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e._super(); \x3cspan class=\x22hljs-comment\x22\x3e\/\/super 方法\x3c\/span\x3e\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27Sleep at 9 clock\x27\x3c\/span\x3e);\n}\nC_Student.prototype.Sleep = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e._super(); \x3cspan class=\x22hljs-comment\x22\x3e\/\/super 方法\x3c\/span\x3e\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27Sleep at 12 clock\x27\x3c\/span\x3e);\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e不知道对 super 的理解正不正确，总感觉怪怪的，欢迎指正！\x3c\/p\x3e\n\x3cp\x3e来看下 JQuery 之父是如何 class 的面向对象，\x3ca href=\x22http:\/\/ejohn.org\/blog\/simple-javascript-inheritance\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e原文在这\x3c\/a\x3e，源码如下。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/* Simple JavaScript Inheritance\n * By John Resig http:\/\/ejohn.org\/\n * MIT Licensed.\n *\/\n\/\/ Inspired by base2 and Prototype\n(function(){\n  \/\/ initializing 开关很巧妙的来实现调用原型而不构造，还有回掉\n  var initializing = false, fnTest = \/xyz\/.test(function(){xyz;}) ? \/\\b_super\\b\/ : \/.*\/;\n  \/\/ The base Class implementation (does nothing)\n  \/\/ 全局，this 指向 window，最大的父类\n  this.Class = function(){};\n \n  \/\/ Create a new Class that inherits from this class\n  \/\/ 继承的入口\n  Class.extend = function(prop) {\n    \/\/保留当前类，一般是父类的原型\n    var _super = this.prototype;\n   \n    \/\/ Instantiate a base class (but only create the instance,\n    \/\/ don\x27t run the init constructor)\n    \/\/开关 用来使原型赋值时不调用真正的构成流程\n    initializing = true;\n    var prototype = new this();\n    initializing = false;\n   \n    \/\/ Copy the properties over onto the new prototype\n    for (var name in prop) {\n      \/\/ Check if we\x27re overwriting an existing function\n      \/\/对函数判断，将属性套到子类上\n      prototype[name] = typeof prop[name] == \x26quot;function\x26quot; \x26amp;\x26amp;\n        typeof _super[name] == \x26quot;function\x26quot; \x26amp;\x26amp; fnTest.test(prop[name]) ?\n        (function(name, fn){\n          \/\/用闭包来存储\n          return function() {\n            var tmp = this._super;\n           \n            \/\/ Add a new ._super() method that is the same method\n            \/\/ but on the super-class\n            this._super = _super[name];\n           \n            \/\/ The method only need to be bound temporarily, so we\n            \/\/ remove it when we\x27re done executing\n            \/\/实现同名调用\n            var ret = fn.apply(this, arguments);  \n            this._super = tmp;\n            return ret;\n          };\n        })(name, prop[name]) :\n        prop[name];\n    }\n   \n    \/\/ 要返回的子类\n    function Class() {\n      \/\/ All construction is actually done in the init method\n      if ( !initializing \x26amp;\x26amp; this.init )\n        this.init.apply(this, arguments);\n    }\n    \/\/前面介绍过的，继承\n    Class.prototype = prototype;\n   \n    Class.prototype.constructor = Class;\n \n    Class.extend = arguments.callee;\n   \n    return Class;\n  };\n})();\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/* Simple JavaScript Inheritance\n * By John Resig http:\/\/ejohn.org\/\n * MIT Licensed.\n *\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Inspired by base2 and Prototype\x3c\/span\x3e\n(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ initializing 开关很巧妙的来实现调用原型而不构造，还有回掉\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e initializing = \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e, fnTest = \x3cspan class=\x22hljs-regexp\x22\x3e\/xyz\/\x3c\/span\x3e.test(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{xyz;}) ? \x3cspan class=\x22hljs-regexp\x22\x3e\/\\b_super\\b\/\x3c\/span\x3e : \x3cspan class=\x22hljs-regexp\x22\x3e\/.*\/\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ The base Class implementation (does nothing)\x3c\/span\x3e\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 全局，this 指向 window，最大的父类\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.Class = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{};\n \n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Create a new Class that inherits from this class\x3c\/span\x3e\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 继承的入口\x3c\/span\x3e\n  Class.extend = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eprop\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/保留当前类，一般是父类的原型\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e _super = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.prototype;\n   \n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Instantiate a base class (but only create the instance,\x3c\/span\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ don\x27t run the init constructor)\x3c\/span\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/开关 用来使原型赋值时不调用真正的构成流程\x3c\/span\x3e\n    initializing = \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e prototype = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e();\n    initializing = \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e;\n   \n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Copy the properties over onto the new prototype\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e name \x3cspan class=\x22hljs-keyword\x22\x3ein\x3c\/span\x3e prop) {\n      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Check if we\x27re overwriting an existing function\x3c\/span\x3e\n      \x3cspan class=\x22hljs-comment\x22\x3e\/\/对函数判断，将属性套到子类上\x3c\/span\x3e\n      prototype[name] = \x3cspan class=\x22hljs-keyword\x22\x3etypeof\x3c\/span\x3e prop[name] == \x3cspan class=\x22hljs-string\x22\x3e\x22function\x22\x3c\/span\x3e \x26amp;\x26amp;\n        \x3cspan class=\x22hljs-keyword\x22\x3etypeof\x3c\/span\x3e _super[name] == \x3cspan class=\x22hljs-string\x22\x3e\x22function\x22\x3c\/span\x3e \x26amp;\x26amp; fnTest.test(prop[name]) ?\n        (\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ename, fn\x3c\/span\x3e)\x3c\/span\x3e{\n          \x3cspan class=\x22hljs-comment\x22\x3e\/\/用闭包来存储\x3c\/span\x3e\n          \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n            \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e tmp = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e._super;\n           \n            \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Add a new ._super() method that is the same method\x3c\/span\x3e\n            \x3cspan class=\x22hljs-comment\x22\x3e\/\/ but on the super-class\x3c\/span\x3e\n            \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e._super = _super[name];\n           \n            \x3cspan class=\x22hljs-comment\x22\x3e\/\/ The method only need to be bound temporarily, so we\x3c\/span\x3e\n            \x3cspan class=\x22hljs-comment\x22\x3e\/\/ remove it when we\x27re done executing\x3c\/span\x3e\n            \x3cspan class=\x22hljs-comment\x22\x3e\/\/实现同名调用\x3c\/span\x3e\n            \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e ret = fn.apply(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e, \x3cspan class=\x22hljs-built_in\x22\x3earguments\x3c\/span\x3e);  \n            \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e._super = tmp;\n            \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e ret;\n          };\n        })(name, prop[name]) :\n        prop[name];\n    }\n   \n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 要返回的子类\x3c\/span\x3e\n    \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eClass\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ All construction is actually done in the init method\x3c\/span\x3e\n      \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e ( !initializing \x26amp;\x26amp; \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.init )\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.init.apply(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e, \x3cspan class=\x22hljs-built_in\x22\x3earguments\x3c\/span\x3e);\n    }\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/前面介绍过的，继承\x3c\/span\x3e\n    Class.prototype = prototype;\n   \n    Class.prototype.constructor = Class;\n \n    Class.extend = \x3cspan class=\x22hljs-built_in\x22\x3earguments\x3c\/span\x3e.callee;\n   \n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e Class;\n  };\n})();\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这个时候就可以很轻松的实现面向对象，使用如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var Person = Class.extend({\n  init: function(name){\n    this.name = name;\n  },\n  Say: function(name){\n    console.log(this.name \x2b \x27 can Say!\x27);\n  },\n  Sleep: function(){\n    console.log(this.name \x2b \x27 can Sleep!\x27);\n  }\n});\nvar Student = Person.extend({\n  init: function(name){\n    this._super(\x27Student-\x27 \x2b name);\n  },\n  Sleep: function(){\n    this._super();\n    console.log(\x27And sleep early!\x27);\n  },\n  DoHomeWork: function(){\n    console.log(this.name \x2b \x27 can do homework!\x27);\n  }\n});\nvar p = new Person(\x27Li\x27);\np.Say(); \/\/\x27Li can Say!\x27\np.Sleep(); \/\/\x27Li can Sleep!\x27\nvar ming = new Student(\x27xiaoming\x27);\nming.Say(); \/\/\x27Student-xiaoming can Say!\x27\nming.Sleep();\/\/\x27Student-xiaoming can Sleep!\x27\n            \/\/ \x27And sleep early!\x27\nming.DoHomeWork(); \/\/\x27Student-xiaoming can do homework!\x27\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e Person = Class.extend({\n  \x3cspan class=\x22hljs-attr\x22\x3einit\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ename\x3c\/span\x3e)\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.name = name;\n  },\n  \x3cspan class=\x22hljs-attr\x22\x3eSay\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ename\x3c\/span\x3e)\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.name \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27 can Say!\x27\x3c\/span\x3e);\n  },\n  \x3cspan class=\x22hljs-attr\x22\x3eSleep\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.name \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27 can Sleep!\x27\x3c\/span\x3e);\n  }\n});\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e Student = Person.extend({\n  \x3cspan class=\x22hljs-attr\x22\x3einit\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ename\x3c\/span\x3e)\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e._super(\x3cspan class=\x22hljs-string\x22\x3e\x27Student-\x27\x3c\/span\x3e \x2b name);\n  },\n  \x3cspan class=\x22hljs-attr\x22\x3eSleep\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e._super();\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27And sleep early!\x27\x3c\/span\x3e);\n  },\n  \x3cspan class=\x22hljs-attr\x22\x3eDoHomeWork\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.name \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27 can do homework!\x27\x3c\/span\x3e);\n  }\n});\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e p = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Person(\x3cspan class=\x22hljs-string\x22\x3e\x27Li\x27\x3c\/span\x3e);\np.Say(); \x3cspan class=\x22hljs-comment\x22\x3e\/\/\x27Li can Say!\x27\x3c\/span\x3e\np.Sleep(); \x3cspan class=\x22hljs-comment\x22\x3e\/\/\x27Li can Sleep!\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e ming = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Student(\x3cspan class=\x22hljs-string\x22\x3e\x27xiaoming\x27\x3c\/span\x3e);\nming.Say(); \x3cspan class=\x22hljs-comment\x22\x3e\/\/\x27Student-xiaoming can Say!\x27\x3c\/span\x3e\nming.Sleep();\x3cspan class=\x22hljs-comment\x22\x3e\/\/\x27Student-xiaoming can Sleep!\x27\x3c\/span\x3e\n            \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x27And sleep early!\x27\x3c\/span\x3e\nming.DoHomeWork(); \x3cspan class=\x22hljs-comment\x22\x3e\/\/\x27Student-xiaoming can do homework!\x27\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e除了 John Resig 的 super 方法，很多人都做了尝试，不过我觉得 John Resig 的实现方式非常的妙，也比较贴近 super 方法，我本人也用源码调试了好几个小时，才勉强能理解。John Resig 的头脑真是令人佩服。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader9\x22\x3eES6 中的 class\x3c\/h2\x3e\n\x3cp\x3e在 JS 中，class 从一开始就属于关键字，在 ES6 终于可以使用 class 来定义类。比如：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22class Point {\n  constructor(x, y){\n    this.x = x;\n    this.y = y;\n  }\n  toString(){\n    return \x27(\x27 \x2b this.x \x2b \x27,\x27 \x2b this.y \x2b \x27)\x27;\n  }\n}\nvar p = new Point(3, 4);\nconsole.log(p.toString()); \/\/\x27(3,4)\x27\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ePoint\x3c\/span\x3e \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3econstructor\x3c\/span\x3e(x, y){\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.x = x;\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.y = y;\n  }\n  toString(){\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27(\x27\x3c\/span\x3e \x2b \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.x \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27,\x27\x3c\/span\x3e \x2b \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.y \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27)\x27\x3c\/span\x3e;\n  }\n}\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e p = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Point(\x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e);\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(p.toString()); \x3cspan class=\x22hljs-comment\x22\x3e\/\/\x27(3,4)\x27\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e更多有关于 ES6 中类的使用请参考阮一峰老师的 \x3ca href=\x22https:\/\/github.com\/ruanyf\/es6tutorial\/blob\/102bf25570ba57fb9b75dab6f98e27aaf040d6a7\/docs\/class.md\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eClass基本语法\x3c\/a\x3e。\x3c\/p\x3e\n\x3cp\x3e其实 ES6 中的 class 只是写对象原型的时候更方便，更像面向对象，class 的功能 ES5 完全可以做到，比如就上面的例子：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22typeof Point; \/\/\x27function\x27\nPoint.prototype;\n\/*\n|Object\n|--\x3e constructor: function (x, y)\n|--\x3e toString: function()\n|--\x3e __proto__: Object\n*\/\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3etypeof\x3c\/span\x3e Point; \x3cspan class=\x22hljs-comment\x22\x3e\/\/\x27function\x27\x3c\/span\x3e\nPoint.prototype;\n\x3cspan class=\x22hljs-comment\x22\x3e\/*\n|Object\n|--\x26gt; constructor: function (x, y)\n|--\x26gt; toString: function()\n|--\x26gt; __proto__: Object\n*\/\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e和用 ES5 实现的真的没有什么差别，反而现在流行的一些库比 ES6 的 class 能带来更好的效益。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader10\x22\x3e回到最开始的组件问题\x3c\/h2\x3e\n\x3cp\x3e那么，说了这么多面向对象，现在回到最开始的那个组件的实现——\x3cstrong\x3e如何用面向对象来实现\x3c\/strong\x3e。\x3c\/p\x3e\n\x3cp\x3e还是利用 John Resig 构造 class 的方法：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var JudgeInput = Class.extend({\n  init: function(config){\n    this.input = document.getElementById(config.id);\n    this._bind();\n  },\n  _getValue: function(){\n    return this.input.value;\n  },\n  _render: function(){\n    var value = this._getValue();\n    if(!document.getElementById(\x26quot;show\x26quot;)){\n      var append = document.createElement(\x27span\x27);\n      append.setAttribute(\x26quot;id\x26quot;, \x26quot;show\x26quot;);\n      input.parentNode.appendChild(append);\n    }\n    var show = document.getElementById(\x26quot;show\x26quot;);\n    if(\/^[0-9a-zA-Z]\x2b$\/.exec(value)){\n      show.innerHTML = \x27Pass!\x27;\n    }else{\n      show.innerHTML = \x27Failed!\x27;\n    }\n  },\n  _bind: function(){\n    var self = this;\n    self.input.addEventListener(\x27keyup\x27, function(){\n      self._render();\n    });\n  }\n});\nwindow.onload = function(){\n  new JudgeInput({id: \x26quot;input\x26quot;});\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e JudgeInput = Class.extend({\n  \x3cspan class=\x22hljs-attr\x22\x3einit\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3econfig\x3c\/span\x3e)\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.input = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.getElementById(config.id);\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e._bind();\n  },\n  \x3cspan class=\x22hljs-attr\x22\x3e_getValue\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.input.value;\n  },\n  \x3cspan class=\x22hljs-attr\x22\x3e_render\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e value = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e._getValue();\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(!\x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.getElementById(\x3cspan class=\x22hljs-string\x22\x3e\x22show\x22\x3c\/span\x3e)){\n      \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e append = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.createElement(\x3cspan class=\x22hljs-string\x22\x3e\x27span\x27\x3c\/span\x3e);\n      append.setAttribute(\x3cspan class=\x22hljs-string\x22\x3e\x22id\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22show\x22\x3c\/span\x3e);\n      input.parentNode.appendChild(append);\n    }\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e show = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.getElementById(\x3cspan class=\x22hljs-string\x22\x3e\x22show\x22\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(\x3cspan class=\x22hljs-regexp\x22\x3e\/^[0-9a-zA-Z]\x2b$\/\x3c\/span\x3e.exec(value)){\n      show.innerHTML = \x3cspan class=\x22hljs-string\x22\x3e\x27Pass!\x27\x3c\/span\x3e;\n    }\x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e{\n      show.innerHTML = \x3cspan class=\x22hljs-string\x22\x3e\x27Failed!\x27\x3c\/span\x3e;\n    }\n  },\n  \x3cspan class=\x22hljs-attr\x22\x3e_bind\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e self = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e;\n    self.input.addEventListener(\x3cspan class=\x22hljs-string\x22\x3e\x27keyup\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n      self._render();\n    });\n  }\n});\n\x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.onload = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e JudgeInput({\x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22input\x22\x3c\/span\x3e});\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e但是，这样子，基本功能算是实现了，关键是不好扩展，没有面向对象的精髓。所以，针对目前的情况，我们准备建立一个 \x3ccode\x3eBase\x3c\/code\x3e 基类，\x3ccode\x3einit\x3c\/code\x3e 表示初始化，\x3ccode\x3erender\x3c\/code\x3e 函数表示渲染，\x3ccode\x3ebind\x3c\/code\x3e 函数表示绑定，\x3ccode\x3edestory\x3c\/code\x3e 用来销毁，同时 \x3ccode\x3eget\x3c\/code\x3e、\x3ccode\x3eset\x3c\/code\x3e 方法提供获得和更改属性：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var Base = Class.extend({\n  init: function(config){\n    this._config = config;\n    this.bind();\n  },\n  get: function(key){\n    return this._config[key];\n  },\n  set: function(key, value){\n    this._config[key] = value;\n  },\n  bind: function(){\n    \/\/以后构造\n  },\n  render: function(){\n    \/\/以后构造\n  },\n  destory: function(){\n    \/\/定义销毁方法\n  }\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e Base = Class.extend({\n  \x3cspan class=\x22hljs-attr\x22\x3einit\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3econfig\x3c\/span\x3e)\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e._config = config;\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.bind();\n  },\n  \x3cspan class=\x22hljs-attr\x22\x3eget\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ekey\x3c\/span\x3e)\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e._config[key];\n  },\n  \x3cspan class=\x22hljs-attr\x22\x3eset\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ekey, value\x3c\/span\x3e)\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e._config[key] = value;\n  },\n  \x3cspan class=\x22hljs-attr\x22\x3ebind\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/以后构造\x3c\/span\x3e\n  },\n  \x3cspan class=\x22hljs-attr\x22\x3erender\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/以后构造\x3c\/span\x3e\n  },\n  \x3cspan class=\x22hljs-attr\x22\x3edestory\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/定义销毁方法\x3c\/span\x3e\n  }\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e基于这个 \x3ccode\x3eBase\x3c\/code\x3e，我们修改 \x3ccode\x3eJudgeInput\x3c\/code\x3e 如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var JudgeInput = Base.extend({\n  _getValue: function(){\n    return this.get(\x27input\x27).value;\n  },\n  bind: function(){\n    var self = this;\n    self.get(\x27input\x27).addEventListener(\x27keyup\x27, function(){\n      self.render();\n    });\n  },\n  render: function(){\n    var value = this._getValue();\n    if(!document.getElementById(\x26quot;show\x26quot;)){\n      var append = document.createElement(\x27span\x27);\n      append.setAttribute(\x26quot;id\x26quot;, \x26quot;show\x26quot;);\n      input.parentNode.appendChild(append);\n    }\n    var show = document.getElementById(\x26quot;show\x26quot;);\n    if(\/^[0-9a-zA-Z]\x2b$\/.exec(value)){\n      show.innerHTML = \x27Pass!\x27;\n    }else{\n      show.innerHTML = \x27Failed!\x27;\n    }\n  }\n});\nwindow.onload = function(){\n  new JudgeInput({input: document.getElementById(\x26quot;input\x26quot;)});\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e JudgeInput = Base.extend({\n  \x3cspan class=\x22hljs-attr\x22\x3e_getValue\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.get(\x3cspan class=\x22hljs-string\x22\x3e\x27input\x27\x3c\/span\x3e).value;\n  },\n  \x3cspan class=\x22hljs-attr\x22\x3ebind\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e self = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e;\n    self.get(\x3cspan class=\x22hljs-string\x22\x3e\x27input\x27\x3c\/span\x3e).addEventListener(\x3cspan class=\x22hljs-string\x22\x3e\x27keyup\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n      self.render();\n    });\n  },\n  \x3cspan class=\x22hljs-attr\x22\x3erender\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e value = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e._getValue();\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(!\x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.getElementById(\x3cspan class=\x22hljs-string\x22\x3e\x22show\x22\x3c\/span\x3e)){\n      \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e append = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.createElement(\x3cspan class=\x22hljs-string\x22\x3e\x27span\x27\x3c\/span\x3e);\n      append.setAttribute(\x3cspan class=\x22hljs-string\x22\x3e\x22id\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22show\x22\x3c\/span\x3e);\n      input.parentNode.appendChild(append);\n    }\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e show = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.getElementById(\x3cspan class=\x22hljs-string\x22\x3e\x22show\x22\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(\x3cspan class=\x22hljs-regexp\x22\x3e\/^[0-9a-zA-Z]\x2b$\/\x3c\/span\x3e.exec(value)){\n      show.innerHTML = \x3cspan class=\x22hljs-string\x22\x3e\x27Pass!\x27\x3c\/span\x3e;\n    }\x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e{\n      show.innerHTML = \x3cspan class=\x22hljs-string\x22\x3e\x27Failed!\x27\x3c\/span\x3e;\n    }\n  }\n});\n\x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.onload = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e JudgeInput({\x3cspan class=\x22hljs-attr\x22\x3einput\x3c\/span\x3e: \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.getElementById(\x3cspan class=\x22hljs-string\x22\x3e\x22input\x22\x3c\/span\x3e)});\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e比如，我们后期修改了判断条件，\x3cstrong\x3e只有当长度为 5-10 的时候才会返回 success\x3c\/strong\x3e，这个时候能很快定位到 \x3ccode\x3eJudgeInput\x3c\/code\x3e 的 render 函数：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22render: function(){\n  var value = this._getValue();\n  if(!document.getElementById(\x26quot;show\x26quot;)){\n    var append = document.createElement(\x27span\x27);\n    append.setAttribute(\x26quot;id\x26quot;, \x26quot;show\x26quot;);\n    input.parentNode.appendChild(append);\n  }\n  var show = document.getElementById(\x26quot;show\x26quot;);\n  \/\/修改正则即可\n  if(\/^[0-9a-zA-Z]{5,10}$\/.exec(value)){\n    show.innerHTML = \x27Pass!\x27;\n  }else{\n    show.innerHTML = \x27Failed!\x27;\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3erender: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e value = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e._getValue();\n  \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(!\x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.getElementById(\x3cspan class=\x22hljs-string\x22\x3e\x22show\x22\x3c\/span\x3e)){\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e append = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.createElement(\x3cspan class=\x22hljs-string\x22\x3e\x27span\x27\x3c\/span\x3e);\n    append.setAttribute(\x3cspan class=\x22hljs-string\x22\x3e\x22id\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22show\x22\x3c\/span\x3e);\n    input.parentNode.appendChild(append);\n  }\n  \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e show = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.getElementById(\x3cspan class=\x22hljs-string\x22\x3e\x22show\x22\x3c\/span\x3e);\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/修改正则即可\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(\x3cspan class=\x22hljs-regexp\x22\x3e\/^[0-9a-zA-Z]{5,10}$\/\x3c\/span\x3e.exec(value)){\n    show.innerHTML = \x3cspan class=\x22hljs-string\x22\x3e\x27Pass!\x27\x3c\/span\x3e;\n  }\x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e{\n    show.innerHTML = \x3cspan class=\x22hljs-string\x22\x3e\x27Failed!\x27\x3c\/span\x3e;\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e以我目前的能力，只能理解到这里了。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader11\x22\x3e总结\x3c\/h2\x3e\n\x3cp\x3e从一个组件出发，一步一步爬坑，又跑去介绍 JS 中的面向对象，如果你能看到最后，那么你就可动手一步一步实现一个 JQuery 了，纯调侃。\x3c\/p\x3e\n\x3cp\x3e关于一个组件的写法，从入门级到最终版本，一波三折，不仅要考虑代码的实用性，还要兼顾后期维护。JS 中实现面向对象，刚接触 JS 的时候，我能用简单的原型链来实现，后来看了一些文章，发现了不少问题，在看 John Resig 的 Class，感触颇深。还好，现在目的是实现了，共勉！\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader12\x22\x3e参考\x3c\/h2\x3e\n\x3cblockquote\x3e\x3cp\x3e\x3ca href=\x22https:\/\/github.com\/purplebamboo\/demo-richbase\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e制作组件的例子\x3c\/a\x3e\x3cbr\x3e\x3ca href=\x22http:\/\/purplebamboo.github.io\/2014\/07\/13\/javascript-oo-class\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ejavascript oo实现\x3c\/a\x3e\x3cbr\x3e\x3ca href=\x22http:\/\/ejohn.org\/blog\/simple-javascript-inheritance\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eJohn Resig: Simple JavaScript Inheritance\x3c\/a\x3e\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e欢迎来我\x3ca href=\x22http:\/\/yuren.space\/blog\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e博客\x3c\/a\x3e一起交流。\x3c\/p\x3e\n\x3cp\x3e2016-11-13\x3c\/p\x3e\n\x3cp\x3e经指正，已经将错误的 supper 改成 super。\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>从一个组件的实现来深刻理解 JS 中的继承</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000007337302">https://segmentfault.com/a/1190000007337302</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/95f0rd02cd/" target="_blank">https://alili.tech/archive/95f0rd02cd/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/sj57jxyoook/">ES6 &#43; Webpack &#43; React &#43; Babel 如何在低版本浏览器上愉快的玩耍（上）<aside class="dates">2019-02-03</aside></a></li><li><a href="/archive/qsw902j95k/">ES6 &#43; Webpack &#43; React &#43; Babel 如何在低版本浏览器上愉快的玩耍（下）<aside class="dates">2019-02-03</aside></a></li><li><a href="/archive/nnpmjlot58j/">IndexedDB使用与出坑指南<aside class="dates">2019-02-03</aside></a></li><li><a href="/archive/alvlbas9oai/">JS事件模型<aside class="dates">2019-02-03</aside></a></li><li><a href="/archive/u0pzym8k36o/">JS练习实例--编写经典小游戏俄罗斯方块<aside class="dates">2019-02-03</aside></a></li><li><a href="/archive/khwpyk5yz8q/">JavaScript 事件代理和委托<aside class="dates">2019-02-03</aside></a></li><li><a href="/archive/kuocl6lc3n/">JavaScript 版俄罗斯方块<aside class="dates">2019-02-03</aside></a></li><li><a href="/archive/n8bk54lyrf/">Promise学习:基础入门<aside class="dates">2019-02-03</aside></a></li><li><a href="/archive/7bk7u30qncb/">Redux 入坑进阶 - 源码解析<aside class="dates">2019-02-03</aside></a></li><li><a href="/archive/853kqfmqmf7/">Snap.svg 基本知识入门<aside class="dates">2019-02-03</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>