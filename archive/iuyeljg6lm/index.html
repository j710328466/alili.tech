<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="JSONP是什么"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>JSONP是什么 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/iuyeljg6lm/",
				"appid": "1613049289050283", 
				"title": "JSONP是什么 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-29T02:30:10"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/23ftsgrtzzc/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/5dbaikv4emi/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fiuyeljg6lm%2f&text=JSONP%e6%98%af%e4%bb%80%e4%b9%88"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fiuyeljg6lm%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fiuyeljg6lm%2f&text=JSONP%e6%98%af%e4%bb%80%e4%b9%88"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fiuyeljg6lm%2f&title=JSONP%e6%98%af%e4%bb%80%e4%b9%88"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fiuyeljg6lm%2f&is_video=false&description=JSONP%e6%98%af%e4%bb%80%e4%b9%88"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=JSONP%e6%98%af%e4%bb%80%e4%b9%88&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fiuyeljg6lm%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fiuyeljg6lm%2f&title=JSONP%e6%98%af%e4%bb%80%e4%b9%88"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fiuyeljg6lm%2f&title=JSONP%e6%98%af%e4%bb%80%e4%b9%88"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fiuyeljg6lm%2f&title=JSONP%e6%98%af%e4%bb%80%e4%b9%88"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fiuyeljg6lm%2f&title=JSONP%e6%98%af%e4%bb%80%e4%b9%88"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">JSONP是什么</h1><div class="meta"><div class="postdate"><time datetime="2019-01-29" itemprop="datePublished">2019-01-29</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e\x3cstrong\x3e一、JSONP的诞生\x3c\/strong\x3e\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e首先，因为\x3cstrong\x3eajax\x3c\/strong\x3e无法跨域，然后开发者就有所思考\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e其次，开发者发现， \x3cstrong\x3e\x26lt;script\x26gt;\x3c\/strong\x3e标签的\x3cstrong\x3esrc\x3c\/strong\x3e属性是可以跨域的\x3cbr\x3e把跨域服务器写成 \x3cstrong\x3e调用本地的函数\x3c\/strong\x3e ，回调数据回来不就好了？\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3cstrong\x3ejson\x3c\/strong\x3e刚好被js支持（\x3cstrong\x3eobject\x3c\/strong\x3e）\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e调用跨域服务器上动态生成的js格式文件（\x3cstrong\x3e不管是什么类型的地址，最终生成的返回值都是一段js代码\x3c\/strong\x3e）\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e这种获取远程数据的方式看起来非常像ajax，但其实并不一样\x3cbr\x3e便于客户端使用数据，逐渐形成了一种\x3cstrong\x3e非正式传输协议\x3c\/strong\x3e，人们把它称作\x3cstrong\x3eJSONP\x3c\/strong\x3e。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e传递一个\x3cstrong\x3ecallback\x3c\/strong\x3e参数给\x3cstrong\x3e跨域服务端\x3c\/strong\x3e，然后跨域服务端返回数据时会将这个\x3cstrong\x3ecallback\x3c\/strong\x3e参数作为\x3cstrong\x3e函数名\x3c\/strong\x3e来包裹住json数据即可。\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e\x3cstrong\x3e二、老板，来一斤栗子。\x3c\/strong\x3e\x3cbr\x3e\x3cstrong\x3e【栗子一】\x3c\/strong\x3e\x3cbr\x3e\x3cstrong\x3e跨域服务器\x3c\/strong\x3e\x3cbr\x3e文件：\x3cstrong\x3eremote.js\x3c\/strong\x3e\x3cbr\x3e代码：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22alert(\x27我是远程文件\x27);\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs less\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-selector-tag\x22\x3ealert\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27我是远程文件\x27\x3c\/span\x3e);\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e本地\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cscript type=\x26quot;text\/javascript\x26quot; src=\x26quot;跨域服务器\/remote.js\x26quot;\x3e\x3c\/script\x3e\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xml\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22text\/javascript\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22跨域服务器\/remote.js\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22undefined\x22\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cblockquote\x3e\x3cp\x3e这边做的就是直接引入一个js，页面将会弹出一个提示窗体，显示 \x3cstrong\x3e我是远程文件\x3c\/strong\x3e。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e\x3cstrong\x3e【栗子二】\x3c\/strong\x3e\x3cbr\x3e\x3cstrong\x3e跨域服务器\x3c\/strong\x3e\x3cbr\x3e文件：\x3cstrong\x3eremote.js\x3c\/strong\x3e\x3cbr\x3e代码：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22localHandler({\x26quot;result\x26quot;:\x26quot;我是远程js带来的数据\x26quot;});\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs bash\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-built_in\x22\x3elocal\x3c\/span\x3eHandler({\x3cspan class=\x22hljs-string\x22\x3e\x22result\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22我是远程js带来的数据\x22\x3c\/span\x3e});\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e本地\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cscript type=\x26quot;text\/javascript\x26quot;\x3e \n    var localHandler = function(data){\n        alert(\x27我是本地函数，可以被跨域的remote.js文件调用，远程js带来的数据是：\x27 \x2b data.result); \n    }; \n\x3c\/script\x3e \n\x3cscript type=\x26quot;text\/javascript\x26quot; src=\x26quot;跨域服务器\/remote.js\x26quot;\x3e\x3c\/script\x3e\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xml\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22text\/javascript\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22actionscript\x22\x3e \n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e localHandler = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(data)\x3c\/span\x3e\x3c\/span\x3e{\n        alert(\x3cspan class=\x22hljs-string\x22\x3e\x27我是本地函数，可以被跨域的remote.js文件调用，远程js带来的数据是：\x27\x3c\/span\x3e \x2b data.result); \n    }; \n\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e \n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22text\/javascript\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22跨域服务器\/remote.js\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22undefined\x22\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cblockquote\x3e\n\x3cp\x3e这边做的是\x3cbr\x3e1、本地定义一个函数\x3cbr\x3e2、引入一个js\x3cbr\x3e3、被引入的js里面，调用这个函数\x3c\/p\x3e\n\x3cp\x3e页面将会弹出一个提示窗体。显示本地函数被跨域的远程js调用成功，并且还接收到了 \x3cstrong\x3e我是远程js带来的数据\x3c\/strong\x3e。\x3c\/p\x3e\n\x3c\/blockquote\x3e\n\x3cp\x3e\x3cstrong\x3e新问题出现了\x3c\/strong\x3e：让远程js知道它应该调用的\x3cstrong\x3e本地函数\x3c\/strong\x3e叫什么名字呢？毕竟是jsonp的服务者都要面对很多服务对象，而这些服务对象各自的本地函数都不相同啊？\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e【栗子三】\x3c\/strong\x3e\x3cbr\x3e跨域服务端提供的js脚本\x3cstrong\x3e动态生成\x3c\/strong\x3e，这样调用者可以传一个\x3cstrong\x3e参数\x3c\/strong\x3e过去告诉跨域服务端“我想要一段调用\x3cstrong\x3eXXX函数\x3c\/strong\x3e的js代码，请你返回给我”，于是跨域服务器就可以按照客户端的需求来生成js脚本并响应了。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e跨域服务器\x3c\/strong\x3e\x3cbr\x3e文件：\x3cstrong\x3eflightResult.php\x3c\/strong\x3e\x3cbr\x3e代码：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22flightHandler({\n    \x26quot;code\x26quot;:\x26quot;CA1998\x26quot;,\n    \x26quot;price\x26quot;: 1780,\n    \x26quot;tickets\x26quot;: 5\n});\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs lisp\x22\x3e\x3ccode\x3eflightHandler({\n    \x3cspan class=\x22hljs-string\x22\x3e\x22code\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22CA1998\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22price\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e1780\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22tickets\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e\n})\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e本地\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cscript type=\x26quot;text\/javascript\x26quot;\x3e \n    \/\/ 得到航班信息查询结果后的回调函数 \n    var flightHandler = function(data){\n        alert(\x27你查询的航班结果是：票价 \x27 \x2b data.price \x2b \x27 元，\x27 \x2b \x27余票 \x27 \x2b data.tickets \x2b \x27 张。\x27);\n    }; \n    \/\/ 提供jsonp服务的url地址（不管是什么类型的地址，最终生成的返回值都是一段javascript代码） \n    var url = \x26quot;跨域服务器\/flightResult.php?code=CA1998\x26amp;callback=flightHandler\x26quot;;\n    \/\/ 创建script标签，设置其属性 \n    var script = document.createElement(\x27script\x27); \n    script.setAttribute(\x27src\x27, url); \n    \/\/ 把script标签加入head，此时调用开始 \n    document.getElementsByTagName(\x27head\x27)[0].appendChild(script); \n\x3c\/script\x3e\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xml\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22text\/javascript\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22javascript\x22\x3e \n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 得到航班信息查询结果后的回调函数 \x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e flightHandler = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3edata\x3c\/span\x3e)\x3c\/span\x3e{\n        alert(\x3cspan class=\x22hljs-string\x22\x3e\x27你查询的航班结果是：票价 \x27\x3c\/span\x3e \x2b data.price \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27 元，\x27\x3c\/span\x3e \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27余票 \x27\x3c\/span\x3e \x2b data.tickets \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27 张。\x27\x3c\/span\x3e);\n    }; \n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 提供jsonp服务的url地址（不管是什么类型的地址，最终生成的返回值都是一段javascript代码） \x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e url = \x3cspan class=\x22hljs-string\x22\x3e\x22跨域服务器\/flightResult.php?code=CA1998\x26amp;callback=flightHandler\x22\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 创建script标签，设置其属性 \x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e script = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.createElement(\x3cspan class=\x22hljs-string\x22\x3e\x27script\x27\x3c\/span\x3e); \n    script.setAttribute(\x3cspan class=\x22hljs-string\x22\x3e\x27src\x27\x3c\/span\x3e, url); \n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 把script标签加入head，此时调用开始 \x3c\/span\x3e\n    \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.getElementsByTagName(\x3cspan class=\x22hljs-string\x22\x3e\x27head\x27\x3c\/span\x3e)[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e].appendChild(script); \n\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cblockquote\x3e\x3cp\x3e这次我们做的是 \x3cbr\x3e1、动态创建脚本\x3cbr\x3e2、url中传递了一个code参数，服务器去做查询CA1998次航班的信息，callback参数告诉服务器，我的本地回调函数叫做flightHandler\x3cbr\x3e3、跨域服务端调用这个函数\x3cstrong\x3eflightHandler\x3c\/strong\x3e 页面将会弹出一个提示窗体。把票价、余票以及张数给传递回来了。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e三、那么服务器到底做了什么呢？ 说到底，就是拼接字符串。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 数据\n$data = [\n    \x26quot;name\x26quot;:\x26quot;anonymous66\x26quot;,\n    \x26quot;age\x26quot;:\x26quot;18\x26quot;,\n    \x26quot;like\x26quot;:\x26quot;jianshu\x26quot;\n];\n\/\/ 接收callback函数名称\n$callback = $_GET[\x27callback\x27];\n\/\/ 输出\necho $callback . \x26quot;(\x26quot; . json_encode($data) . \x26quot;)\x26quot;;\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs php\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 数据\x3c\/span\x3e\n$data = [\n    \x3cspan class=\x22hljs-string\x22\x3e\x22name\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22anonymous66\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22age\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x2218\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22like\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22jianshu\x22\x3c\/span\x3e\n];\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 接收callback函数名称\x3c\/span\x3e\n$callback = $_GET[\x3cspan class=\x22hljs-string\x22\x3e\x27callback\x27\x3c\/span\x3e];\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 输出\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eecho\x3c\/span\x3e $callback . \x3cspan class=\x22hljs-string\x22\x3e\x22(\x22\x3c\/span\x3e . json_encode($data) . \x3cspan class=\x22hljs-string\x22\x3e\x22)\x22\x3c\/span\x3e;\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cstrong\x3e四、与AJAX的区别是什么？\x3c\/strong\x3e\x3cbr\x3e\x3cstrong\x3eajax和jsonp本质上是不同的东西。\x3c\/strong\x3e\x3cbr\x3e\x3cstrong\x3eajax\x3c\/strong\x3e的核心是通过\x3cstrong\x3eXmlHttpReques\x3c\/strong\x3et获取非本页内容\x3cbr\x3e\x3cstrong\x3ejsonp\x3c\/strong\x3e的核心则是动态添加\x3cstrong\x3e\x26lt;script\x26gt;\x3c\/strong\x3e标签来调用\x3cstrong\x3e服务器\x3c\/strong\x3e提供的\x3cstrong\x3ejs脚本\x3c\/strong\x3e。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e五、结语\x3c\/strong\x3e\x3cbr\x3e本篇文章是对JSONP的原理扫盲，一般很多开发者会使用却不知道原理，这在学习和成长的路上不算好事。so，知道jsonp原理，你又可以加50块工资了。\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>JSONP是什么</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000007935557">https://segmentfault.com/a/1190000007935557</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/iuyeljg6lm/" target="_blank">https://alili.tech/archive/iuyeljg6lm/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/z09muaar7j/">2年前端应该会哪些技能<aside class="dates">2019-02-01</aside></a></li><li><a href="/archive/ke982v6qrfg/">CSS 性能优化笔记<aside class="dates">2019-02-01</aside></a></li><li><a href="/archive/if1i2hs28ah/">H5打造3d场景不完全攻略（二）: Amazing CSS3D<aside class="dates">2019-02-01</aside></a></li><li><a href="/archive/s4apghsr7o/">JS原生一步步实现前端路由和单页面应用<aside class="dates">2019-02-01</aside></a></li><li><a href="/archive/hjgkntbgqek/">JavaScript 中对大量数据的多重过滤<aside class="dates">2019-02-01</aside></a></li><li><a href="/archive/h1hfvr2a2nj/">JavaScript 中的错误处理机制<aside class="dates">2019-02-01</aside></a></li><li><a href="/archive/a0ukpm125gm/">JavaScript 数组分组的实现<aside class="dates">2019-02-01</aside></a></li><li><a href="/archive/fwosouhbhmj/">JavaScript 类型转换深度学习<aside class="dates">2019-02-01</aside></a></li><li><a href="/archive/z193p9xv2p/">JavaScript设计模式之发布-订阅模式（观察者模式）-Part1<aside class="dates">2019-02-01</aside></a></li><li><a href="/archive/6i7sr0vgkxm/">Javascript中的时间<aside class="dates">2019-02-01</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>