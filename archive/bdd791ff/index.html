<!DOCTYPE html><html lang="zh"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta itemprop="description" content="$(function(){ var html = &#34;\n\n \x3cp\x3eå¤§å®¶å¥½ğŸ‘‹\x3c\/p\x3e\n\x3cp\x3eæ¬¢è¿ä¸Šè½¦ã€‚ä»Šå¤©æˆ‘ä»¬å°†å¼€å§‹ä¸€åœºæ¿€åŠ¨äººå¿ƒçš„å†’é™©ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬å°†å¼€å‘å±äºæˆ‘ä»¬è‡ªå·±çš„è´ªé£Ÿè›‡æ¸¸æˆğŸã€‚é€šè¿‡å°†å…¶åˆ†è§£ä¸ºä¸€ä¸ªä¸ªç®€çŸ­çš„æ­¥éª¤æ¥å­¦ä¹ å¦‚ä½•è§£å†³é—®é¢˜ã€‚åœ¨è¿™æ®µæ—…ç¨‹ç»“æŸæ—¶ï¼Œä½ ä¼šå­¦åˆ°ä¸€äº›æ–°ä¸œè¥¿ï¼Œå¹¶ä¸”æœ‰ä¿¡å¿ƒèƒ½ç‹¬ç«‹æ¢ç´¢æ›´å¤šã€‚\x3c\/p\x3e\n\x3cp\x3eå¦‚æœä½ æ˜¯ç¼–ç¨‹æ–°æ‰‹ï¼Œ\x3ca href=\x22https:\/\/www.freecodecamp.org\/\x22\x3efreeCodeCamp\x3c\/a\x3e äº†è§£ä¸€ä¸‹ã€‚è¿™æ˜¯ä¸€ä¸ªå¾ˆæ£’çš„å­¦ä¹ ç½‘ç«™â€¦æ²¡é”™â€¦å®Œå…¨å…è´¹ã€‚æˆ‘å°±æ˜¯ä»é‚£å„¿å…¥é—¨çš„ã€‚\x3c\/p\x3e\n\x3cp\x3eå¥½äº†ï¼Œå¥½äº†ï¼Œè¨€å½’æ­£ä¼  â€”â€” è¦å‘è½¦äº†ï¼Œå‡†å¤‡å¥½äº†å˜›ï¼Ÿ\x3c\/p\x3e\n\x3cblockquote\x3e\n\x3cp\x3eä½ å¯ä»¥åœ¨\x3ca href=\x22https:\/\/github.com\/supergoat\/snake\x22\x3eè¿™é‡Œ\x3c\/a\x3eæ‰¾åˆ°å®Œæ•´ä»£ç ï¼Œå¹¶ä¸”å¯ä»¥åœ¨\x3ca href=\x22https:\/\/snake-cdxejlircg.now.sh\x22\x3eè¿™é‡Œ\x3c\/a\x3eåœ¨çº¿é¢„è§ˆã€‚\x3c\/p\x3e\n\x3c\/blockquote\x3e\n\x3ch3\x3eå¼€å§‹å§\x3c\/h3\x3e\n\x3cp\x3eé¦–å…ˆæ–°å»ºä¸€ä¸ªæ–‡ä»¶â€œsnake.htmlâ€ï¼Œå®ƒå°†åŒ…å«å…¨éƒ¨ä»£ç ã€‚\x3c\/p\x3e\n\x3cp\x3eå› ä¸ºè¿™æ˜¯ä¸€ä¸ª HTML æ–‡ä»¶ï¼Œæ‰€ä»¥è¦åšçš„ç¬¬ä¸€ä»¶äº‹å°±æ˜¯ç”³æ˜ \x3ccode\x3e\x26lt;!DOCTYPE\x26gt;\x3c\/code\x3eã€‚è¯·åœ¨ snake.html æ–‡ä»¶ä¸­è¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs xml\x22\x3e\x3cspan class=\x22hljs-meta\x22\x3e\x26lt;!DOCTYPE html\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ehtml\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ehead\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etitle\x3c\/span\x3e\x26gt;\x3c\/span\x3eSnake Game\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etitle\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ehead\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ebody\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n Welcome to Snake!\n \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ebody\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ehtml\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3eä¸é”™ï¼Œæ¥ä¸‹æ¥åœ¨ä½ æœ€å–œæ¬¢çš„æµè§ˆå™¨ä¸­æ‰“å¼€ snake.htmlã€‚ä½ åº”è¯¥èƒ½å¤Ÿçœ‹åˆ° \x3cstrong\x3eWelcome to Snake!\x3c\/strong\x3eã€‚\x3c\/p\x3e\n\x3cp\x3e\x3cimg src=\x22https:\/\/p0.ssl.qhimg.com\/t01fd229818a191527a.png\x22 alt=\x22\x22\x3e\x3c\/p\x3e\n\x3cp\x3eå¾ˆå¥½çš„å¼€å§‹ï¼ ğŸ‘Š\x3c\/p\x3e\n\x3ch3\x3eåˆ›å»ºç”»å¸ƒ\x3c\/h3\x3e\n\x3cp\x3eä¸ºäº†å®Œæˆæ¸¸æˆï¼Œæˆ‘ä»¬éœ€è¦ç”¨åˆ° \x3ccode\x3e\x26lt;canvas\x26gt;\x3c\/code\x3e æ ‡ç­¾ï¼Œå¹¶å€ŸåŠ© JavaScript ç»˜åˆ¶å›¾åƒã€‚\x3c\/p\x3e\n\x3cp\x3eç”¨ä»¥ä¸‹ä»£ç æ¥æ›¿æ¢ snake.html é‡Œçš„æ¬¢è¿è¯­ã€‚\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs routeros\x22\x3e\x26lt;canvas \x3cspan class=\x22hljs-attribute\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22gameCanvas\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attribute\x22\x3ewidth\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22300\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attribute\x22\x3eheight\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22300\x22\x3c\/span\x3e\x26gt;\x26lt;canvas\x26gt;\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3eid ç”¨äºæ ‡è¯†ç”»å¸ƒä¸”å§‹ç»ˆåº”è¯¥è¢«æŒ‡å®šã€‚ç¨åæˆ‘ä»¬ä¼šç”¨å®ƒæ¥è®¿é—®ç”»å¸ƒã€‚width å’Œ height åˆ†åˆ«æ˜¯ç”»å¸ƒçš„å®½å’Œé«˜ï¼ŒåŒæ ·ä¹Ÿéœ€è¦è¢«æŒ‡å®šã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œç”»å¸ƒå°ºå¯¸ä¸º 300 px * 300 pxã€‚\x3c\/p\x3e\n\x3cp\x3esnake."><meta name="keywords" content="Alili, å‰ç«¯å¤§çˆ†ç‚¸, WEB BANG BANG BANG, webå‰ç«¯åšå®¢, å‰ç«¯æ¨¡å—åŒ–, å‰ç«¯å·¥ç¨‹åŒ–, å‰ç«¯æ•°æ®ç›‘æ§, æ€§èƒ½ä¼˜åŒ–, ç½‘é¡µåˆ¶ä½œ, å‰ç«¯, js, html5, css, è¸©å‘å°æŠ¥å‘Š, å¾®å‰ç«¯, æ ‘è“æ´¾, å‰ç«¯å¼€å‘, åŒºå—é“¾, ç½‘ç»œ, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="åƒç¨‹åºå‘˜ä¸€æ ·æ€è€ƒï¼šå¦‚ä½•åªä½¿ç”¨ JavaScriptï¼ŒHTML å’Œ CSS å¼€å‘è´ªé£Ÿè›‡æ¸¸æˆ"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content=""><meta property="og:site_name" content="Alili"><meta name="generator" content="Hugo 0.51"><title>åƒç¨‹åºå‘˜ä¸€æ ·æ€è€ƒï¼šå¦‚ä½•åªä½¿ç”¨ JavaScriptï¼ŒHTML å’Œ CSS å¼€å‘è´ªé£Ÿè›‡æ¸¸æˆ | å‰ç«¯å¤§çˆ†ç‚¸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/meslo-LG/styles.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad()</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error",function(e){var t=e.target;"img"==t.tagName.toLowerCase()&&(t.style.display="none")},!0)</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/bdd791ff/",
				"appid": "1613049289050283", 
				"title": "åƒç¨‹åºå‘˜ä¸€æ ·æ€è€ƒï¼šå¦‚ä½•åªä½¿ç”¨ JavaScriptï¼ŒHTML å’Œ CSS å¼€å‘è´ªé£Ÿè›‡æ¸¸æˆ | å‰ç«¯å¤§çˆ†ç‚¸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-11-16T13:33:38"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick='$("html, body").animate({scrollTop:0},"fast")' style="display:none"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="#" onclick='$("html, body").animate({scrollTop:0},"fast")'><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle()' onmouseout='$("#i-top").toggle()'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle()' onmouseout='$("#i-share").toggle()' onclick='return $("#share").toggle(),!1'></i></a></li></ul><span id="i-prev" class="info" style="display:none">Previous post</span> <span id="i-next" class="info" style="display:none">Next post</span> <span id="i-top" class="info" style="display:none">Back to top</span> <span id="i-share" class="info" style="display:none">Share post</span></span><br><div id="share" style="display:none"></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#ç‰ˆæƒå£°æ˜">ç‰ˆæƒå£°æ˜</a></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">åƒç¨‹åºå‘˜ä¸€æ ·æ€è€ƒï¼šå¦‚ä½•åªä½¿ç”¨ JavaScriptï¼ŒHTML å’Œ CSS å¼€å‘è´ªé£Ÿè›‡æ¸¸æˆ</h1><div class="meta"><div class="postdate"><time datetime="2018-10-18" itemprop="datePublished">2018-10-18</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div>| 3771å­—<div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="row"><script>$(function(){var s='\n\n            <p>å¤§å®¶å¥½ğŸ‘‹</p>\n<p>æ¬¢è¿ä¸Šè½¦ã€‚ä»Šå¤©æˆ‘ä»¬å°†å¼€å§‹ä¸€åœºæ¿€åŠ¨äººå¿ƒçš„å†’é™©ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬å°†å¼€å‘å±äºæˆ‘ä»¬è‡ªå·±çš„è´ªé£Ÿè›‡æ¸¸æˆğŸã€‚é€šè¿‡å°†å…¶åˆ†è§£ä¸ºä¸€ä¸ªä¸ªç®€çŸ­çš„æ­¥éª¤æ¥å­¦ä¹ å¦‚ä½•è§£å†³é—®é¢˜ã€‚åœ¨è¿™æ®µæ—…ç¨‹ç»“æŸæ—¶ï¼Œä½ ä¼šå­¦åˆ°ä¸€äº›æ–°ä¸œè¥¿ï¼Œå¹¶ä¸”æœ‰ä¿¡å¿ƒèƒ½ç‹¬ç«‹æ¢ç´¢æ›´å¤šã€‚</p>\n<p>å¦‚æœä½ æ˜¯ç¼–ç¨‹æ–°æ‰‹ï¼Œ<a href="https://www.freecodecamp.org/">freeCodeCamp</a> äº†è§£ä¸€ä¸‹ã€‚è¿™æ˜¯ä¸€ä¸ªå¾ˆæ£’çš„å­¦ä¹ ç½‘ç«™â€¦æ²¡é”™â€¦å®Œå…¨å…è´¹ã€‚æˆ‘å°±æ˜¯ä»é‚£å„¿å…¥é—¨çš„ã€‚</p>\n<p>å¥½äº†ï¼Œå¥½äº†ï¼Œè¨€å½’æ­£ä¼  â€”â€” è¦å‘è½¦äº†ï¼Œå‡†å¤‡å¥½äº†å˜›ï¼Ÿ</p>\n<blockquote>\n<p>ä½ å¯ä»¥åœ¨<a href="https://github.com/supergoat/snake">è¿™é‡Œ</a>æ‰¾åˆ°å®Œæ•´ä»£ç ï¼Œå¹¶ä¸”å¯ä»¥åœ¨<a href="https://snake-cdxejlircg.now.sh">è¿™é‡Œ</a>åœ¨çº¿é¢„è§ˆã€‚</p>\n</blockquote>\n<h3>å¼€å§‹å§</h3>\n<p>é¦–å…ˆæ–°å»ºä¸€ä¸ªæ–‡ä»¶â€œsnake.htmlâ€ï¼Œå®ƒå°†åŒ…å«å…¨éƒ¨ä»£ç ã€‚</p>\n<p>å› ä¸ºè¿™æ˜¯ä¸€ä¸ª HTML æ–‡ä»¶ï¼Œæ‰€ä»¥è¦åšçš„ç¬¬ä¸€ä»¶äº‹å°±æ˜¯ç”³æ˜ <code>&lt;!DOCTYPE&gt;</code>ã€‚è¯·åœ¨ snake.html æ–‡ä»¶ä¸­è¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š</p>\n<pre><code class="hljs xml"><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span>\n<span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>\n   <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Snake Game<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>\n  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>\n\n  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>\n    Welcome to Snake!\n  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>\n<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>\n</code></pre><p>ä¸é”™ï¼Œæ¥ä¸‹æ¥åœ¨ä½ æœ€å–œæ¬¢çš„æµè§ˆå™¨ä¸­æ‰“å¼€ snake.htmlã€‚ä½ åº”è¯¥èƒ½å¤Ÿçœ‹åˆ° <strong>Welcome to Snake!</strong>ã€‚</p>\n<p><img src="https://p0.ssl.qhimg.com/t01fd229818a191527a.png" alt=""></p>\n<p>å¾ˆå¥½çš„å¼€å§‹ï¼ ğŸ‘Š</p>\n<h3>åˆ›å»ºç”»å¸ƒ</h3>\n<p>ä¸ºäº†å®Œæˆæ¸¸æˆï¼Œæˆ‘ä»¬éœ€è¦ç”¨åˆ° <code>&lt;canvas&gt;</code> æ ‡ç­¾ï¼Œå¹¶å€ŸåŠ© JavaScript ç»˜åˆ¶å›¾åƒã€‚</p>\n<p>ç”¨ä»¥ä¸‹ä»£ç æ¥æ›¿æ¢ snake.html é‡Œçš„æ¬¢è¿è¯­ã€‚</p>\n<pre><code class="hljs routeros">&lt;canvas <span class="hljs-attribute">id</span>=<span class="hljs-string">"gameCanvas"</span> <span class="hljs-attribute">width</span>=<span class="hljs-string">"300"</span> <span class="hljs-attribute">height</span>=<span class="hljs-string">"300"</span>&gt;&lt;canvas&gt;\n</code></pre><p>id ç”¨äºæ ‡è¯†ç”»å¸ƒä¸”å§‹ç»ˆåº”è¯¥è¢«æŒ‡å®šã€‚ç¨åæˆ‘ä»¬ä¼šç”¨å®ƒæ¥è®¿é—®ç”»å¸ƒã€‚width å’Œ height åˆ†åˆ«æ˜¯ç”»å¸ƒçš„å®½å’Œé«˜ï¼ŒåŒæ ·ä¹Ÿéœ€è¦è¢«æŒ‡å®šã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œç”»å¸ƒå°ºå¯¸ä¸º 300 px * 300 pxã€‚</p>\n<p>snake.html æ–‡ä»¶æ­¤æ—¶åº”è¯¥æ˜¯è¿™æ ·çš„ï¼š</p>\n<pre><code class="hljs xml"><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span>\n<span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>\n   <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Snake Game<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>\n  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-name">canvas</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"gameCanvas"</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"300"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"300"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">canvas</span>&gt;</span>\n  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>\n<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>\n</code></pre><p>å¦‚æœä½ åˆ·æ–°é¡µé¢ï¼Œä½ ä¼šå‘ç°é¡µé¢ä¸€ç‰‡ç©ºç™½ã€‚è¿™æ˜¯å› ä¸ºé»˜è®¤æƒ…å†µä¸‹ï¼Œç”»å¸ƒæ˜¯ç©ºçš„å¹¶ä¸”æ²¡æœ‰èƒŒæ™¯ã€‚è®©æˆ‘ä»¬æ¥è°ƒæ•´ä¸‹ã€‚ğŸ”§</p>\n<h4>ä¸ºç”»å¸ƒæ·»åŠ èƒŒæ™¯è‰²å’Œè¾¹æ¡†</h4>\n<p>ä¸ºäº†çœ‹åˆ°ç”»å¸ƒï¼Œæˆ‘ä»¬å¯ä»¥å†™ä¸€æ®µ JavaScript ä»£ç ç»™å®ƒåŠ ä¸€ä¸ªè¾¹æ¡†ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ <code>&lt;/canvas&gt;</code> åæ·»åŠ   <code>&lt;script&gt;&lt;/script&gt;</code> æ ‡ç­¾ï¼Œå¹¶åœ¨å…¶ä¸­ç¼–å†™ JavaScript ä»£ç ã€‚</p>\n<blockquote>\n<p>å¦‚æœä½ æŠŠ <code>&lt;script&gt;</code> æ ‡ç­¾æ”¾åœ¨äº† <code>&lt;canvas&gt;</code> æ ‡ç­¾å‰é¢ï¼Œé‚£ä¹ˆä½ çš„ JavaScript ä»£ç å°†ä¸ä¼šç”Ÿæ•ˆï¼Œå› ä¸ºæ­¤æ—¶ HTML è¿˜æœªåŠ è½½å®Œã€‚</p>\n</blockquote>\n<p>ç°åœ¨æˆ‘ä»¬æ¥å†™ä¸€äº› JavaScript ä»£ç ï¼Œå†™åœ¨é—­åˆçš„ <code>&lt;script&gt;&lt;/script&gt;</code> æ ‡ç­¾ä¹‹é—´ã€‚ä»£ç å¦‚ä¸‹ï¼š</p>\n<pre><code class="hljs xml"><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span>\n<span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>\n   <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Snake Game<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>\n  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-name">canvas</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"gameCanvas"</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"300"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"300"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">canvas</span>&gt;</span>\n\n    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">\n      <span class="hljs-comment">/** å¸¸é‡ **/</span>\n      <span class="hljs-keyword">const</span> CANVAS_BORDER_COLOUR = <span class="hljs-string">\'black\'</span>;\n      <span class="hljs-keyword">const</span> CANVAS_BACKGROUND_COLOUR = <span class="hljs-string">"white"</span>;\n\n      <span class="hljs-comment">// è·å– canvas å…ƒç´ </span>\n      <span class="hljs-keyword">var</span> gameCanvas = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"gameCanvas"</span>);\n      <span class="hljs-comment">// è¿”å›ä¸€ä¸ªäºŒç»´ç»˜å›¾ä¸Šä¸‹æ–‡</span>\n      <span class="hljs-keyword">var</span> ctx = gameCanvas.getContext(<span class="hljs-string">"2d"</span>);\n      <span class="hljs-comment">// é€‰æ‹©ç”»å¸ƒçš„èƒŒæ™¯é¢œè‰²</span>\n      ctx.fillStyle = CANVAS_BACKGROUND_COLOUR;\n      <span class="hljs-comment">// é€‰æ‹©ç”»å¸ƒçš„è¾¹æ¡†é¢œè‰²</span>\n      ctx.strokestyle = CANVAS_BORDER_COLOUR;\n      <span class="hljs-comment">// ç»˜åˆ¶ä¸€ä¸ªâ€œå®å¿ƒçš„â€é•¿æ–¹å½¢æ¥è¦†ç›–æ•´ä¸ªç”»å¸ƒ</span>\n      ctx.fillRect(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, gameCanvas.width, gameCanvas.height);\n      <span class="hljs-comment">// ç»˜åˆ¶ç”»å¸ƒçš„â€œè¾¹æ¡†â€</span>\n      ctx.strokeRect(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, gameCanvas.width, gameCanvas.height);\n    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>\n  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>\n<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>\n\n</code></pre><p>é¦–å…ˆï¼Œä½¿ç”¨å‰é¢æŒ‡å®šçš„ idï¼ˆgameCanvasï¼‰è·å– canvas å…ƒç´ ã€‚ç„¶åè·å–ç”»å¸ƒçš„â€œ2dâ€ä¸Šä¸‹æ–‡ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬å°†åœ¨ 2D ç©ºé—´ç»˜åˆ¶å›¾åƒã€‚</p>\n<p>æœ€åï¼Œæˆ‘ä»¬ç”»äº†ä¸€ä¸ª 300 x 300 çš„ç™½è‰²çŸ©å½¢ï¼Œè¾¹æ¡†ä¸ºé»‘è‰²ã€‚è¿™ä¸ªçŸ©å½¢ä»å·¦ä¸Šè§’ï¼ˆ0ï¼Œ0ï¼‰å¼€å§‹è¦†ç›–äº†æ•´ä¸ªç”»å¸ƒã€‚</p>\n<p>å¦‚æœä½ åœ¨æµè§ˆå™¨ä¸­é‡æ–°åŠ è½½ snake.htmlï¼Œä½ ä¼šçœ‹åˆ°ä¸€ä¸ªå¸¦é»‘è‰²è¾¹æ¡†çš„ç™½å—ï¼å¹²å¾—æ¼‚äº®ï¼Œç°åœ¨æˆ‘ä»¬å·²ç»æœ‰äº†ä¸€ä¸ªç”»å¸ƒï¼Œå¯ä»¥ç”¨æ¥åˆ›å»ºæˆ‘ä»¬çš„è´ªé£Ÿè›‡æ¸¸æˆäº†ï¼ ğŸ‘è¿æ¥ä¸‹ä¸€ä¸ªæŒ‘æˆ˜å§ï¼</p>\n<h3>ç”¨åæ ‡æ¥è¡¨ç¤ºè´ªé£Ÿè›‡</h3>\n<p>ä¸ºäº†è®©æ¸¸æˆèƒ½ç©ï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“è›‡åœ¨ç”»å¸ƒä¸­çš„ä½ç½®ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬ç”¨ä¸€ç³»åˆ—åæ ‡æ¥è¡¨ç¤ºè›‡ã€‚å› æ­¤ï¼Œè¦åœ¨ç”»å¸ƒä¸­é—´ï¼ˆ150,150ï¼‰ç”»ä¸€æ¡æ¨ªå‘çš„è›‡ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·å†™ï¼š</p>\n<pre><code class="hljs groovy">let snake = [\n  {<span class="hljs-string">x:</span> <span class="hljs-number">150</span>, <span class="hljs-string">y:</span> <span class="hljs-number">150</span>},\n  {<span class="hljs-string">x:</span> <span class="hljs-number">140</span>, <span class="hljs-string">y:</span> <span class="hljs-number">150</span>},\n  {<span class="hljs-string">x:</span> <span class="hljs-number">130</span>, <span class="hljs-string">y:</span> <span class="hljs-number">150</span>},\n  {<span class="hljs-string">x:</span> <span class="hljs-number">120</span>, <span class="hljs-string">y:</span> <span class="hljs-number">150</span>},\n  {<span class="hljs-string">x:</span> <span class="hljs-number">110</span>, <span class="hljs-string">y:</span> <span class="hljs-number">150</span>},\n];\n</code></pre><p>æ³¨æ„è›‡æ‰€æœ‰éƒ¨ä½çš„ y åæ ‡éƒ½æ˜¯ 150ã€‚æ¯ä¸€éƒ¨ä½çš„ x åæ ‡æ¯”ï¼ˆå·¦è¾¹ï¼‰å‰ä¸€ä¸ªéƒ¨ä½å¤š 10 pxã€‚æ•°ç»„ä¸­çš„ç¬¬ä¸€å¯¹åæ ‡ {x: 150, y: 150} è¡¨ç¤ºè›‡å¤´ï¼Œä½äºè›‡çš„æœ€å³è¾¹ã€‚</p>\n<p>åˆ«æ€¥ï¼Œåœ¨ä¸‹ä¸€æ­¥æˆ‘ä»¬ç”»è›‡çš„æ—¶å€™ï¼Œä¼šå¯¹æ­¤æœ‰æ›´æ¸…æ™°çš„è®¤è¯†ã€‚</p>\n<h3>å¼€å§‹ç”»è›‡</h3>\n<p>ä¸ºäº†ç”»è›‡ï¼Œæˆ‘ä»¬å¯ä»¥å†™ä¸€ä¸ªå‡½æ•°ä¸ºè›‡èº«ä¸Šçš„<strong>æ¯ä¸€ä¸ª</strong>éƒ¨ä½ç”»ä¸€ä¸ªçŸ©å½¢ã€‚</p>\n<pre><code class="hljs actionscript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">drawSnakePart</span><span class="hljs-params">(snakePart)</span> </span>{\n  ctx.fillStyle = <span class="hljs-string">\'lightgreen\'</span>;\n  ctx.strokestyle = <span class="hljs-string">\'darkgreen\'</span>;\n  ctx.fillRect(snakePart.x, snakePart.y, <span class="hljs-number">10</span>, <span class="hljs-number">10</span>);\n  ctx.strokeRect(snakePart.x, snakePart.y, <span class="hljs-number">10</span>, <span class="hljs-number">10</span>);\n}\n</code></pre><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ç”¨å¦ä¸€ä¸ªå‡½æ•°åœ¨ç”»å¸ƒä¸ŠæŠŠè›‡å±•ç¤ºå‡ºæ¥ã€‚</p>\n<pre><code class="hljs php"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">drawSnake</span><span class="hljs-params">()</span> </span>{\n  snake.<span class="hljs-keyword">forEach</span>(drawSnakePart);\n}\n</code></pre><p>æ­¤æ—¶ snake.html æ–‡ä»¶åº”è¯¥æ˜¯è¿™æ ·çš„ã€‚</p>\n<pre><code class="hljs xml"><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span>\n<span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>\n   <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Snake Game<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>\n  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-name">canvas</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"gameCanvas"</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"300"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"300"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">canvas</span>&gt;</span>\n\n    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">\n      <span class="hljs-comment">/** å¸¸é‡ **/</span>\n      <span class="hljs-keyword">const</span> CANVAS_BORDER_COLOUR = <span class="hljs-string">\'black\'</span>;\n      <span class="hljs-keyword">const</span> CANVAS_BACKGROUND_COLOUR = <span class="hljs-string">"white"</span>;\n      <span class="hljs-keyword">const</span> SNAKE_COLOUR = <span class="hljs-string">\'lightgreen\'</span>;\n      <span class="hljs-keyword">const</span> SNAKE_BORDER_COLOUR = <span class="hljs-string">\'darkgreen\'</span>;\n\n      <span class="hljs-keyword">let</span> snake = [\n        {<span class="hljs-attr">x</span>: <span class="hljs-number">150</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">150</span>},\n        {<span class="hljs-attr">x</span>: <span class="hljs-number">140</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">150</span>},\n        {<span class="hljs-attr">x</span>: <span class="hljs-number">130</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">150</span>},\n        {<span class="hljs-attr">x</span>: <span class="hljs-number">120</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">150</span>},\n        {<span class="hljs-attr">x</span>: <span class="hljs-number">110</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">150</span>}\n      ]\n\n      <span class="hljs-comment">// è·å– canvas å…ƒç´ </span>\n      <span class="hljs-keyword">var</span> gameCanvas = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"gameCanvas"</span>);\n      <span class="hljs-comment">// è¿”å›ä¸€ä¸ªäºŒç»´ç»˜åˆ¶ä¸Šä¸‹æ–‡</span>\n      <span class="hljs-keyword">var</span> ctx = gameCanvas.getContext(<span class="hljs-string">"2d"</span>);\n      <span class="hljs-comment">//  é€‰æ‹©ç”»å¸ƒçš„èƒŒæ™¯é¢œè‰²</span>\n      ctx.fillStyle = CANVAS_BACKGROUND_COLOUR;\n      <span class="hljs-comment">//  é€‰æ‹©ç”»å¸ƒçš„è¾¹æ¡†é¢œè‰²</span>\n      ctx.strokestyle = CANVAS_BORDER_COLOUR;\n      <span class="hljs-comment">// ç»˜åˆ¶ä¸€ä¸ªâ€œå®å¿ƒçš„â€é•¿æ–¹å½¢æ¥è¦†ç›–æ•´ä¸ªç”»å¸ƒ</span>\n      ctx.fillRect(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, gameCanvas.width, gameCanvas.height);\n      <span class="hljs-comment">// ç»˜åˆ¶ç”»å¸ƒçš„â€œè¾¹æ¡†â€</span>\n      ctx.strokeRect(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, gameCanvas.width, gameCanvas.height);\n      drawSnake();\n\n      <span class="hljs-comment">/**\n       * åœ¨ç”»å¸ƒä¸Šç”»è›‡\n       */</span>\n      <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">drawSnake</span>(<span class="hljs-params"></span>) </span>{\n        <span class="hljs-comment">// å¾ªç¯éå†è›‡çš„æ¯ä¸€éƒ¨åˆ†ï¼Œå¹¶å°†å…¶ç»˜åˆ¶åˆ°ç”»å¸ƒä¸Š</span>\n        snake.forEach(drawSnakePart)\n      }\n      <span class="hljs-comment">/**\n       * åœ¨ç”»å¸ƒä¸Šç”»è›‡çš„ä¸€ä¸ªéƒ¨åˆ†\n       * @param { object } snakePart â€”â€” éœ€è¦ç»˜åˆ¶çš„éƒ¨ä½çš„æ‰€åœ¨åæ ‡\n       */</span>\n      <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">drawSnakePart</span>(<span class="hljs-params">snakePart</span>) </span>{\n        <span class="hljs-comment">// è®¾ç½®è›‡èº«ä½“çš„èƒŒæ™¯é¢œè‰²</span>\n        ctx.fillStyle = SNAKE_COLOUR;\n        <span class="hljs-comment">// è®¾ç½®è›‡èº«çš„è¾¹æ¡†è‰²</span>\n        ctx.strokestyle = SNAKE_BORDER_COLOUR;\n        <span class="hljs-comment">// åœ¨è›‡èº«åæ ‡æ‰€åœ¨çš„ä½ç½®ï¼Œç»˜åˆ¶â€œå®å¿ƒâ€çš„çŸ©å½¢ä»¥è¡¨ç¤ºè›‡    </span>\n        ctx.fillRect(snakePart.x, snakePart.y, <span class="hljs-number">10</span>, <span class="hljs-number">10</span>);\n        <span class="hljs-comment">// ç»˜åˆ¶è›‡èº«çš„è¾¹æ¡†</span>\n        ctx.strokeRect(snakePart.x, snakePart.y, <span class="hljs-number">10</span>, <span class="hljs-number">10</span>);\n      }\n    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>\n  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>\n<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>\n</code></pre><p>åˆ·æ–°é¡µé¢ï¼Œä½ ä¼šå‘ç°ç”»å¸ƒä¸­é—´æœ‰ä¸€æ¡ç»¿è‰²çš„è›‡ã€‚666ï¼ ğŸ˜</p>\n<p><img src="https://p0.ssl.qhimg.com/t0114f43f310d04d6d3.png" alt=""></p>\n<h3>è®©è´ªé£Ÿè›‡æ¨ªå‘ç§»åŠ¨</h3>\n<p>æ¥ä¸‹æ¥æˆ‘ä»¬æƒ³è¦è®©è›‡èƒ½åŠ¨èµ·æ¥ã€‚ä¸è¿‡æˆ‘ä»¬è¯¥æ€ä¹ˆåšå‘¢ï¼ŸğŸ¤”</p>\n<p>å—¯ï¼Œä¸ºäº†è®©è›‡èƒ½å¤Ÿä¸€æ­¥ä¸€æ­¥ï¼ˆ10 pxï¼‰ç§»åŠ¨åˆ°æœ€å³è¾¹ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠè›‡çš„<strong>æ¯ä¸ª</strong>éƒ¨ä½çš„ x åæ ‡ï¼Œæ¯æ¬¡å¢åŠ  10 pxï¼ˆdx = +10 pxï¼‰ã€‚åŒç†ï¼Œä¸ºäº†è®©è›‡ç§»åŠ¨åˆ°æœ€å·¦è¾¹ï¼Œæ¯æ¬¡æŠŠè›‡çš„<strong>æ¯ä¸ª</strong>éƒ¨ä½çš„ x åæ ‡å‡å°‘ 10 pxï¼ˆdx = -10ï¼‰ã€‚</p>\n<blockquote>\n<p><strong>dx</strong> æ˜¯è›‡çš„æ¨ªå‘ç§»åŠ¨é€Ÿåº¦ã€‚</p>\n</blockquote>\n<p>è›‡å‘å³ç§»åŠ¨äº† 10 px åï¼Œåæ ‡å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>\n<p><img src="https://p0.ssl.qhimg.com/t010a96ab728cf221e6.png" alt=""></p>\n<p>ç”¨ advanceSnake å‡½æ•°æ¥æ›´æ–°è›‡çš„çŠ¶æ€ã€‚</p>\n<pre><code class="hljs actionscript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">advanceSnake</span><span class="hljs-params">()</span> </span>{\n  <span class="hljs-keyword">const</span> head = {x: snake[<span class="hljs-number">0</span>].x + dx, y: snake[<span class="hljs-number">0</span>].y};\n  snake.unshift(head);\n  snake.pop();\n}\n</code></pre><p>é¦–å…ˆï¼Œæˆ‘ä»¬ä¸ºè›‡ç”»äº†ä¸ªæ–°å¤´ã€‚ç„¶åä½¿ç”¨ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/unshift">unshift</a> æ–¹æ³•å°†æ–°å¤´æ”¾åœ¨<strong>è›‡</strong>çš„ç¬¬ä¸€ä¸ªéƒ¨ä½ï¼Œç„¶åä½¿ç”¨ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/pop">pop</a> æ–¹æ³•ç§»é™¤<strong>è›‡</strong>çš„æœ€åä¸€éƒ¨åˆ†ã€‚è¿™æ ·ä»¥åï¼Œå¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œæ‰€æœ‰è›‡èº«ä¸Šå…¶ä»–éƒ¨ä½éƒ½ç§»åŠ¨åˆ°äº†å¯¹åº”ä½ç½®ã€‚</p>\n<p>Boom ğŸ’¥ï¼Œä½ å·²ç»æ‰¾åˆ°çªé—¨äº†å§ã€‚</p>\n<h3>è®©è´ªé£Ÿè›‡çºµå‘ç§»åŠ¨</h3>\n<p>ä¸ºäº†è®©è›‡èƒ½å¤Ÿä¸Šä¸‹ç§»åŠ¨ï¼Œæˆ‘ä»¬ä¸èƒ½ç›´æ¥å°†è›‡çš„æ‰€æœ‰ y åæ ‡è°ƒæ•´ 10 pxã€‚é‚£ä¼šè®©æ•´æ¡è›‡ä¸Šä¸‹ç§»åŠ¨ã€‚</p>\n<p><img src="https://p0.ssl.qhimg.com/t01f60003f8d1d05646.gif" alt=""></p>\n<p>ç›¸åï¼Œæˆ‘ä»¬å¯ä»¥è°ƒæ•´è›‡å¤´çš„ y åæ ‡ã€‚å‡å°‘ 10 px è›‡ä¼šå‘ä¸‹ç§»åŠ¨ï¼Œå¢åŠ  10 px è›‡ä¼šå‘ä¸Šç§»åŠ¨ã€‚è¿™æ ·å°±èƒ½è®©è›‡æ­£ç¡®åœ°ç§»åŠ¨äº†ã€‚</p>\n<p>å¹¸è¿çš„æ˜¯ï¼Œå› ä¸ºæˆ‘ä»¬ç¼–å†™çš„ advanceSnake å‡½æ•°å¾ˆæ£’ï¼Œæ‰€ä»¥è¿™å¾ˆå®¹æ˜“åšåˆ°ã€‚åœ¨ advanceSnake å‡½æ•°ä¸­ï¼Œæ›´æ–° head è®© y åæ ‡éšç€ <strong>dy</strong> å˜åŒ–ã€‚</p>\n<pre><code class="hljs roboconf">const head = {<span class="hljs-attribute">x</span>: snake[0]<span class="hljs-variable">.x</span> + dx, y: snake[0]<span class="hljs-variable">.y</span> + dy};\n</code></pre><p>ä¸ºäº†éªŒè¯ advanceSnake å‡½æ•°æ˜¯å¦æ­£ç¡®ï¼Œæˆ‘ä»¬å¯ä»¥ä¸´æ—¶æ€§åœ°åœ¨ drawSnake å‡½æ•°å‰è°ƒç”¨å®ƒã€‚</p>\n<pre><code class="hljs lsl"><span class="hljs-comment">// å‘å³èµ°ä¸€æ­¥</span>\nadvanceSnake()\n<span class="hljs-comment">// æ°´å¹³é€Ÿåº¦æ”¹ä¸º 0</span>\ndx = <span class="hljs-number">0</span>;\n<span class="hljs-comment">// å‚ç›´é€Ÿåº¦æ”¹ä¸º 10</span>\ndy = <span class="hljs-number">-10</span>;\n<span class="hljs-comment">// å‘ä¸Šèµ°ä¸€æ­¥</span>\nadvanceSnake();\n<span class="hljs-comment">// åœ¨ç”»å¸ƒä¸Šç”»è›‡</span>\ndrawSnake();\n\n</code></pre><p>ç°åœ¨ snake.html ä»£ç å¦‚ä¸‹ï¼š</p>\n<pre><code class="hljs xml"><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span>\n<span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>\n   <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Snake Game<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>\n  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-name">canvas</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"gameCanvas"</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"300"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"300"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">canvas</span>&gt;</span>\n\n    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">\n      <span class="hljs-comment">/** å¸¸é‡ **/</span>\n      <span class="hljs-keyword">const</span> CANVAS_BORDER_COLOUR = <span class="hljs-string">\'black\'</span>;\n      <span class="hljs-keyword">const</span> CANVAS_BACKGROUND_COLOUR = <span class="hljs-string">"white"</span>;\n      <span class="hljs-keyword">const</span> SNAKE_COLOUR = <span class="hljs-string">\'lightgreen\'</span>;\n      <span class="hljs-keyword">const</span> SNAKE_BORDER_COLOUR = <span class="hljs-string">\'darkgreen\'</span>;\n\n      <span class="hljs-keyword">let</span> snake = [\n        {<span class="hljs-attr">x</span>: <span class="hljs-number">150</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">150</span>},\n        {<span class="hljs-attr">x</span>: <span class="hljs-number">140</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">150</span>},\n        {<span class="hljs-attr">x</span>: <span class="hljs-number">130</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">150</span>},\n        {<span class="hljs-attr">x</span>: <span class="hljs-number">120</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">150</span>},\n        {<span class="hljs-attr">x</span>: <span class="hljs-number">110</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">150</span>}\n      ]\n\n      <span class="hljs-comment">// æ¨ªå‘ç§»åŠ¨é€Ÿåº¦</span>\n      <span class="hljs-keyword">let</span> dx = <span class="hljs-number">10</span>;\n      <span class="hljs-comment">// çºµå‘ç§»åŠ¨é€Ÿåº¦</span>\n      <span class="hljs-keyword">let</span> dy = <span class="hljs-number">0</span>;\n\n      <span class="hljs-comment">// è·å– canvas å…ƒç´ </span>\n      <span class="hljs-keyword">var</span> gameCanvas = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"gameCanvas"</span>);\n      <span class="hljs-comment">// è¿”å›ä¸€ä¸ªäºŒç»´ç»˜åˆ¶ä¸Šä¸‹æ–‡</span>\n      <span class="hljs-keyword">var</span> ctx = gameCanvas.getContext(<span class="hljs-string">"2d"</span>);\n      <span class="hljs-comment">//  é€‰æ‹©ç”»å¸ƒçš„èƒŒæ™¯é¢œè‰²</span>\n      ctx.fillStyle = CANVAS_BACKGROUND_COLOUR;\n      <span class="hljs-comment">//  é€‰æ‹©ç”»å¸ƒçš„è¾¹æ¡†é¢œè‰²</span>\n      ctx.strokestyle = CANVAS_BORDER_COLOUR;\n      <span class="hljs-comment">// ç»˜åˆ¶ä¸€ä¸ªâ€œå®å¿ƒçš„â€é•¿æ–¹å½¢æ¥è¦†ç›–æ•´ä¸ªç”»å¸ƒ</span>\n      ctx.fillRect(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, gameCanvas.width, gameCanvas.height);\n      <span class="hljs-comment">// ç»˜åˆ¶ç”»å¸ƒçš„â€œè¾¹æ¡†â€</span>\n      ctx.strokeRect(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, gameCanvas.width, gameCanvas.height);\n\n      <span class="hljs-comment">// å‘å³èµ°ä¸€æ­¥</span>\n      advanceSnake()\n      <span class="hljs-comment">// æ°´å¹³é€Ÿåº¦æ”¹ä¸º 0</span>\n      dx = <span class="hljs-number">0</span>;\n      <span class="hljs-comment">// å‚ç›´é€Ÿåº¦æ”¹ä¸º 10</span>\n      dy = <span class="hljs-number">-10</span>;\n      <span class="hljs-comment">// å‘ä¸Šèµ°ä¸€æ­¥</span>\n      advanceSnake();\n      <span class="hljs-comment">// åœ¨ç”»å¸ƒä¸Šç”»è›‡</span>\n      drawSnake();\n\n      <span class="hljs-comment">/**\n        * æ ¹æ®è›‡çš„æ°´å¹³ç§»åŠ¨é€Ÿåº¦æ”¹å˜è›‡çš„ x åæ ‡ï¼Œ\n        * æ ¹æ®è›‡çš„å‚ç›´ç§»åŠ¨é€Ÿåº¦æ”¹å˜è›‡çš„ y åæ ‡\n        */</span>\n      <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">advanceSnake</span>(<span class="hljs-params"></span>) </span>{\n        <span class="hljs-keyword">const</span> head = {<span class="hljs-attr">x</span>: snake[<span class="hljs-number">0</span>].x + dx, <span class="hljs-attr">y</span>: snake[<span class="hljs-number">0</span>].y + dy};\n        snake.unshift(head);\n        snake.pop();\n      }\n\n      <span class="hljs-comment">/**\n       * åœ¨ç”»å¸ƒä¸Šç”»è›‡\n       */</span>\n      <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">drawSnake</span>(<span class="hljs-params"></span>) </span>{\n        <span class="hljs-comment">// å¾ªç¯éå†è›‡çš„æ¯ä¸€éƒ¨åˆ†ï¼Œå¹¶å°†å…¶ç»˜åˆ¶åˆ°ç”»å¸ƒä¸Š</span>\n        snake.forEach(drawSnakePart)\n      }\n      <span class="hljs-comment">/**\n       * åœ¨ç”»å¸ƒä¸Šç”»è›‡çš„ä¸€ä¸ªéƒ¨åˆ†\n       * @param { object } snakePart â€”â€” éœ€è¦ç»˜åˆ¶çš„éƒ¨ä½çš„æ‰€åœ¨åæ ‡\n       */</span>\n      <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">drawSnakePart</span>(<span class="hljs-params">snakePart</span>) </span>{\n        <span class="hljs-comment">// è®¾ç½®è›‡èº«ä½“çš„èƒŒæ™¯é¢œè‰²</span>\n        ctx.fillStyle = SNAKE_COLOUR;\n        <span class="hljs-comment">// è®¾ç½®è›‡èº«çš„è¾¹æ¡†è‰²</span>\n        ctx.strokestyle = SNAKE_BORDER_COLOUR;\n        <span class="hljs-comment">// åœ¨è›‡èº«åæ ‡æ‰€åœ¨çš„ä½ç½®ï¼Œç»˜åˆ¶â€œå®å¿ƒâ€çš„çŸ©å½¢ä»¥è¡¨ç¤ºè›‡    </span>\n        ctx.fillRect(snakePart.x, snakePart.y, <span class="hljs-number">10</span>, <span class="hljs-number">10</span>);\n        <span class="hljs-comment">// ç»˜åˆ¶è›‡èº«çš„è¾¹æ¡†</span>\n        ctx.strokeRect(snakePart.x, snakePart.y, <span class="hljs-number">10</span>, <span class="hljs-number">10</span>);\n      }\n    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>\n  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>\n<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>\n</code></pre><p>åˆ·æ–°é¡µé¢ï¼Œè›‡åŠ¨äº†ã€‚æ­å–œï¼</p>\n<p><img src="https://p0.ssl.qhimg.com/t01058946718ea792e4.png" alt=""></p>\n<h3>é‡æ„ä»£ç </h3>\n<p>åœ¨ç»§ç»­ä¸‹ä¸€æ­¥ä¹‹å‰ï¼Œè®©æˆ‘ä»¬é‡æ„ä¸€ä¸‹ç°æœ‰ä»£ç ï¼Œå°†ç»˜åˆ¶ç”»å¸ƒçš„ä»£ç å°è£…åœ¨ä¸€ä¸ªå‡½æ•°ä¸­ã€‚è¿™æœ‰åŠ©äºå®Œæˆä¸‹ä¸€æ­¥ã€‚</p>\n<blockquote>\n<p><strong>ä»£ç é‡æ„</strong>æ˜¯é‡æ„ç°æœ‰è®¡ç®—æœº<strong>ä»£ç </strong>çš„è¿‡ç¨‹ï¼ŒåŒæ—¶ä¸æ”¹å˜å…¶å¤–éƒ¨è¡Œä¸ºã€‚â€ â€”â€” <a href="https://en.wikipedia.org/wiki/Code_refactoring">ç»´åŸºç™¾ç§‘</a></p>\n</blockquote>\n<pre><code class="hljs arduino">function clearCanvas() {\n  ctx.fillStyle = <span class="hljs-string">"white"</span>;\n  ctx.strokeStyle = <span class="hljs-string">"black"</span>;\n  ctx.fillRect(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, gameCanvas.<span class="hljs-built_in">width</span>, gameCanvas.<span class="hljs-built_in">height</span>);\n  ctx.strokeRect(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, gameCanvas.<span class="hljs-built_in">width</span>, gameCanvas.<span class="hljs-built_in">height</span>);\n}\n</code></pre><p>æˆ‘ä»¬æ­£åœ¨å¤§è¸æ­¥å‰è¿›ï¼ğŸ¾</p>\n<h3>è®©è´ªé£Ÿè›‡è‡ªåŠ¨ç§»åŠ¨</h3>\n<p>å¥½çš„ï¼Œæ—¢ç„¶æˆ‘ä»¬å·²ç»æˆåŠŸåœ°é‡æ„äº†ä»£ç ï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥è®©è´ªé£Ÿè›‡èƒ½å¤Ÿè‡ªåŠ¨ç§»åŠ¨å§ã€‚</p>\n<p>ä¹‹å‰ä¸ºäº†æµ‹è¯• advanceSnake å‡½æ•°æ˜¯å¦æ­£ç¡®ï¼Œæˆ‘ä»¬è°ƒç”¨äº†å®ƒä¸¤æ¬¡ã€‚ä¸€æ¬¡ä¸ºäº†è®©è›‡å‘å³ç§»åŠ¨ï¼Œä¸€æ¬¡ä¸ºäº†è®©å®ƒå‘ä¸Šç§»åŠ¨ã€‚</p>\n<p>å› æ­¤å¦‚æœæƒ³è¦è®©è›‡å³ç§»äº”æ¬¡ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦è¿ç»­è°ƒç”¨ advanceSnake() å‡½æ•°äº”æ¬¡ã€‚</p>\n<pre><code class="hljs abnf">clearCanvas()<span class="hljs-comment">;</span>\nadvanceSnake()<span class="hljs-comment">;</span>\nadvanceSnake()<span class="hljs-comment">;</span>\nadvanceSnake()<span class="hljs-comment">;</span>\nadvanceSnake()<span class="hljs-comment">;</span>\nadvanceSnake()<span class="hljs-comment">;</span>\ndrawSnake()<span class="hljs-comment">;</span>\n</code></pre><p>ä½†æ˜¯ï¼Œå¦‚ä¸Šæ‰€ç¤ºè¿ç»­äº”æ¬¡è°ƒç”¨ advanceSnake å‡½æ•°ä¼šè®©è›‡ä¸€ä¸‹å­å‘å‰è·³ 50 pxã€‚</p>\n<p><img src="https://p0.ssl.qhimg.com/t01e97ff3c91820df28.gif" alt=""></p>\n<p>ç›¸åï¼Œæˆ‘ä»¬æƒ³è®©è›‡çœ‹èµ·æ¥åƒæ˜¯ä¸€æ­¥ä¸€æ­¥åœ°å‰è¿›ã€‚</p>\n<p>ä¸ºæ­¤ï¼Œæˆ‘ä»¬ç”¨ <a href="https://www.w3schools.com/Jsref/met_win_settimeout.asp">setTimeout</a> åœ¨æ¯æ¬¡è°ƒç”¨ä¹‹é—´æ·»åŠ ä¸€ä¸ªçŸ­æš‚çš„å»¶æ—¶ã€‚æˆ‘ä»¬è¿˜éœ€è¦ç¡®ä¿æ¯æ¬¡è°ƒç”¨ advanceSnake å‡½æ•°æ—¶éƒ½è°ƒç”¨ drawSnake å‡½æ•°ã€‚å¦‚æœæˆ‘ä»¬ä¸è¿™æ ·åšï¼Œæˆ‘ä»¬å°†æ— æ³•çœ‹åˆ°è›‡ç§»åŠ¨çš„ä¸­é—´æ­¥éª¤ã€‚</p>\n<pre><code class="hljs mipsasm">setTimeout(function onTick() {\n  clearCanvas()<span class="hljs-comment">;</span>\n  advanceSnake()<span class="hljs-comment">;</span>\n  drawSnake()<span class="hljs-comment">;</span>\n}, <span class="hljs-number">100</span>)<span class="hljs-comment">;</span>\nsetTimeout(function onTick() {\n  clearCanvas()<span class="hljs-comment">;</span>\n  advanceSnake()<span class="hljs-comment">;</span>\n  drawSnake()<span class="hljs-comment">;</span>\n}, <span class="hljs-number">100</span>)<span class="hljs-comment">;</span>\n...\ndrawSnake()<span class="hljs-comment">;</span>\n\n</code></pre><p>æ³¨æ„æˆ‘ä»¬åŒæ ·åœ¨æ¯ä¸ª setTimeout ä¸­è°ƒç”¨äº† clearCanvas() å‡½æ•°ã€‚è¿™æ˜¯ä¸ºäº†ç§»é™¤è›‡å…ˆå‰æ‰€æœ‰çš„ä½ç½®ï¼Œä»¥å…ç•™ä¸‹ç—•è¿¹ã€‚</p>\n<p><img src="https://p0.ssl.qhimg.com/t0109fcd2ed761bc8b1.png" alt=""></p>\n<p>å°½ç®¡å¦‚æ­¤ï¼Œä¸Šè¿°ä»£ç ä»ç„¶æœ‰é—®é¢˜ã€‚æ²¡æœ‰ä»»ä½•ä»£ç å‘Šè¯‰ç¨‹åºå®ƒå¿…é¡»ç­‰å¾…ä¸€ä¸ª <strong>setTimeout</strong> å®Œæˆåæ‰èƒ½ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ª<strong>setTimeout</strong>ã€‚ä¹Ÿå°±æ˜¯è¯´è›‡<strong>ä»ç„¶</strong>ä¼šåœ¨<strong>ä¸€ä¸ªçŸ­æš‚å»¶è¿Ÿ</strong>åå‘å‰è·³ 50 pxã€‚</p>\n<p>è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¿…é¡»å°†ä»£ç åŒ…è£…åœ¨å‡½æ•°ä¸­ï¼Œæ¯æ¬¡åªè°ƒç”¨ä¸€ä¸ªå‡½æ•°ã€‚</p>\n<pre><code class="hljs actionscript">stepOne();\n\n<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">stepOne</span><span class="hljs-params">()</span> </span>{\n  setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">onTick</span><span class="hljs-params">()</span> </span>{\n    clearCanvas();\n    advanceSnake();\n    drawSnake();\n   <span class="hljs-comment">// è°ƒç”¨ç¬¬äºŒä¸ªå‡½æ•°</span>\n   stepTwo();\n  }, <span class="hljs-number">100</span>)\n}\n<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">stepTwo</span><span class="hljs-params">()</span> </span>{\n  setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">onTick</span><span class="hljs-params">()</span> </span>{\n    clearCanvas();\n    advanceSnake();\n    drawSnake();\n    <span class="hljs-comment">// è°ƒç”¨ç¬¬ä¸‰ä¸ªå‡½æ•°</span>\n    stepThree();\n  }, <span class="hljs-number">100</span>)\n}\n...\n</code></pre><p>å¦‚ä½•è®©è´ªé£Ÿè›‡ä¸€ç›´å‰è¿›ï¼Ÿæˆ‘ä»¬å¯ä»¥æ”¹ä¸ºåˆ›å»ºä¸€ä¸ª main å‡½æ•°å¹¶é€’å½’è°ƒç”¨å®ƒï¼Œè€Œä¸æ˜¯åˆ›å»ºæ— æ•°ä¸ªç›¸äº’è°ƒç”¨çš„å‡½æ•°ã€‚</p>\n<pre><code class="hljs actionscript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>{\n  setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">onTick</span><span class="hljs-params">()</span> </span>{\n    clearCanvas();\n    advanceSnake();\n    drawSnake();\n    <span class="hljs-comment">// å†æ¬¡è°ƒç”¨ main å‡½æ•°</span>\n    main();\n  }, <span class="hljs-number">100</span>)\n}\n</code></pre><p>çœ‹å•Šï¼è´ªé£Ÿè›‡ç°åœ¨ä¼šä¸€ç›´å‘å³ç§»åŠ¨ã€‚è™½ç„¶ä¸€æ—¦å®ƒåˆ°è¾¾ç”»å¸ƒçš„å°½å¤´ï¼Œå°†ç»§ç»­å…¶æ— å°½çš„æ—…ç¨‹å¹¶è¿›å…¥æœªçŸ¥çš„åœ°æ–¹ğŸ˜…ã€‚æˆ‘ä»¬å°†åœ¨é€‚å½“çš„æ—¶å€™è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œè€å¿ƒç‚¹å¹´è½»çš„æœ‹å‹ä»¬ã€‚ğŸ™ã€‚</p>\n<p><img src="https://p0.ssl.qhimg.com/t0105917546eadd03c1.gif" alt=""></p>\n<h3>è°ƒæ•´è›‡çš„ç§»åŠ¨æ–¹å‘</h3>\n<p>æˆ‘ä»¬çš„ä¸‹ä¸€ä¸ªä»»åŠ¡æ˜¯åœ¨æŒ‰ä¸‹ä»»æ„æ–¹å‘é”®æ—¶æ›´æ”¹è›‡çš„ç§»åŠ¨æ–¹å‘ã€‚åœ¨ drawSnakePart å‡½æ•°ä¹‹åæ·»åŠ ä»¥ä¸‹ä»£ç ã€‚</p>\n<pre><code class="hljs nix">function changeDirection(event) {\n  const <span class="hljs-attr">LEFT_KEY</span> = <span class="hljs-number">37</span>;\n  const <span class="hljs-attr">RIGHT_KEY</span> = <span class="hljs-number">39</span>;\n  const <span class="hljs-attr">UP_KEY</span> = <span class="hljs-number">38</span>;\n  const <span class="hljs-attr">DOWN_KEY</span> = <span class="hljs-number">40</span>;\n  const <span class="hljs-attr">keyPressed</span> = event.keyCode;\n  const <span class="hljs-attr">goingUp</span> = <span class="hljs-attr">dy</span> === -<span class="hljs-number">10</span>;\n  const <span class="hljs-attr">goingDown</span> = <span class="hljs-attr">dy</span> === <span class="hljs-number">10</span>;\n  const <span class="hljs-attr">goingRight</span> = <span class="hljs-attr">dx</span> === <span class="hljs-number">10</span>;\n  const <span class="hljs-attr">goingLeft</span> = <span class="hljs-attr">dx</span> === -<span class="hljs-number">10</span>;\n  <span class="hljs-keyword">if</span> (<span class="hljs-attr">keyPressed</span> === LEFT_KEY &amp;&amp; !goingRight) {\n    <span class="hljs-attr">dx</span> = -<span class="hljs-number">10</span>;\n    <span class="hljs-attr">dy</span> = <span class="hljs-number">0</span>;\n  }\n  <span class="hljs-keyword">if</span> (<span class="hljs-attr">keyPressed</span> === UP_KEY &amp;&amp; !goingDown) {\n    <span class="hljs-attr">dx</span> = <span class="hljs-number">0</span>;\n    <span class="hljs-attr">dy</span> = -<span class="hljs-number">10</span>;\n  }\n  <span class="hljs-keyword">if</span> (<span class="hljs-attr">keyPressed</span> === RIGHT_KEY &amp;&amp; !goingLeft) {\n    <span class="hljs-attr">dx</span> = <span class="hljs-number">10</span>;\n    <span class="hljs-attr">dy</span> = <span class="hljs-number">0</span>;\n  }\n  <span class="hljs-keyword">if</span> (<span class="hljs-attr">keyPressed</span> === DOWN_KEY &amp;&amp; !goingDown) {\n    <span class="hljs-attr">dx</span> = <span class="hljs-number">0</span>;\n    <span class="hljs-attr">dy</span> = <span class="hljs-number">10</span>;\n  }\n}\n</code></pre><p>è¿™æ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«çš„ã€‚æˆ‘ä»¬æ£€æŸ¥æŒ‰ä¸‹çš„é”®æ˜¯å¦ä¸å…¶ä¸­ä¸€ä¸ªæ–¹å‘é”®åŒ¹é…ã€‚å¦‚æœåŒ¹é…åˆ°ï¼Œæˆ‘ä»¬å¦‚ä¸Šæ‰€è¿°æ”¹å˜å‚ç›´å’Œæ°´å¹³é€Ÿåº¦ã€‚</p>\n<p>è¯·æ³¨æ„ï¼Œæˆ‘ä»¬è¿˜è¦æ£€æŸ¥è›‡æ˜¯å¦å¾€æ–°é¢„æœŸæ–¹å‘çš„ç›¸åæ–¹å‘ä¸Šç§»åŠ¨ã€‚è¿™æ˜¯ä¸ºäº†é˜²æ­¢æˆ‘ä»¬çš„è›‡æ‰å¤´ï¼Œä¾‹å¦‚å½“è›‡å‘<strong>å·¦</strong>ç§»åŠ¨æ—¶æŒ‰ä¸‹<strong>å³</strong>é”®ã€‚</p>\n<p><img src="https://p0.ssl.qhimg.com/t0184be9b4be117a78f.gif" alt=""></p>\n<p>è¦å°† changeDirection  åŠ åˆ°æ¸¸æˆä»£ç ä¸­ï¼Œå¯ä»¥åœ¨ <a href="https://www.w3schools.com/Jsref/dom_obj_document.asp">document</a>  ä¸Šä½¿ç”¨  <a href="https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener">addEventListener</a>  æ¥â€œç›‘å¬â€æ˜¯å¦æœ‰é”®è¢«æŒ‰ä¸‹ã€‚ç„¶åæˆ‘ä»¬éšç€ <a href="https://developer.mozilla.org/en-US/docs/Web/Events/keydown">keydown</a>  äº‹ä»¶è°ƒç”¨ changeDirection æ–¹æ³•ã€‚æ¥ç€åœ¨ main å‡½æ•°ä¹‹åæ·»åŠ ä»¥ä¸‹ä»£ç ã€‚</p>\n<pre><code class="hljs coffeescript"><span class="hljs-built_in">document</span>.addEventListener(<span class="hljs-string">"keydown"</span>, changeDirection)\n</code></pre><p>ä½ ç°åœ¨åº”è¯¥å¯ä»¥ä½¿ç”¨å››ä¸ªæ–¹å‘é”®æ›´æ”¹è›‡çš„æ–¹å‘ã€‚å¹²å¾—æ¼‚äº®ï¼Œä½ ç«äº†ğŸ”¥ï¼</p>\n<p>æ¥ä¸‹æ¥è®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•ç”Ÿæˆé£Ÿç‰©å¹¶è®©æˆ‘ä»¬çš„è›‡é•¿å¤§ã€‚</p>\n<h3>ä¸ºè›‡ç”Ÿæˆé£Ÿç‰©</h3>\n<p>ä¸ºäº†ç”Ÿæˆè›‡é£Ÿï¼Œæˆ‘ä»¬å¿…é¡»ç”Ÿæˆä¸€ç»„éšæœºåæ ‡ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¾…åŠ©å‡½æ•° randomTen æ¥ç”Ÿæˆä¸¤ä¸ªæ•°å­—ã€‚ä¸€ä¸ªç”¨äº x åæ ‡ï¼Œä¸€ä¸ªç”¨äº y åæ ‡ã€‚</p>\n<p>æˆ‘ä»¬è¿˜å¿…é¡»ç¡®ä¿é£Ÿç‰©ä¸ä¸è›‡çš„ä½ç½®é‡å ã€‚å¦‚æœé‡å äº†ï¼Œæˆ‘ä»¬å¿…é¡»ç”Ÿæˆä¸€ä¸ªæ–°çš„é£Ÿç‰©ä½ç½®ã€‚</p>\n<pre><code class="hljs lua"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">randomTen</span><span class="hljs-params">(min, max)</span></span> {\n  <span class="hljs-keyword">return</span> Math.round((Math.<span class="hljs-built_in">random</span>() * (<span class="hljs-built_in">max</span>-<span class="hljs-built_in">min</span>) + <span class="hljs-built_in">min</span>) / <span class="hljs-number">10</span>) * <span class="hljs-number">10</span>;\n}\n<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createFood</span><span class="hljs-params">()</span></span> {\n  foodX = randomTen(<span class="hljs-number">0</span>, gameCanvas.width - <span class="hljs-number">10</span>);\n  foodY = randomTen(<span class="hljs-number">0</span>, gameCanvas.height - <span class="hljs-number">10</span>);\n  snake.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isFoodOnSnake</span><span class="hljs-params">(part)</span></span> {\n    const foodIsOnSnake = part.x == foodX &amp;&amp; part.y == foodY\n    <span class="hljs-keyword">if</span> (foodIsOnSnake)\n      createFood();\n  });\n}\n</code></pre><p>ç„¶åæˆ‘ä»¬éœ€è¦å†™ä¸€ä¸ªåœ¨ç”»å¸ƒä¸Šç»˜åˆ¶é£Ÿç‰©çš„å‡½æ•°ã€‚</p>\n<pre><code class="hljs actionscript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">drawFood</span><span class="hljs-params">()</span> </span>{\n ctx.fillStyle = <span class="hljs-string">\'red\'</span>;\n ctx.strokestyle = <span class="hljs-string">\'darkred\'</span>;\n ctx.fillRect(foodX, foodY, <span class="hljs-number">10</span>, <span class="hljs-number">10</span>);\n ctx.strokeRect(foodX, foodY, <span class="hljs-number">10</span>, <span class="hljs-number">10</span>);\n}\n</code></pre><p>æœ€åæˆ‘ä»¬å¯ä»¥åœ¨è°ƒç”¨ main ä¹‹å‰è°ƒç”¨ createFoodã€‚åˆ«å¿˜äº†è¿˜è¦æ›´æ–° main å‡½æ•°ä»¥è°ƒç”¨ drawFood å‡½æ•°ã€‚</p>\n<pre><code class="hljs actionscript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>{\n  setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">onTick</span><span class="hljs-params">()</span> </span>{\n    clearCanvas();\n    drawFood()\n    advanceSnake();\n    drawSnake();\n    main();\n  }, <span class="hljs-number">100</span>)\n}\n</code></pre><h3>è®©è›‡é•¿å¤§</h3>\n<p>è®©è›‡é•¿å¤§å¾ˆç®€å•ã€‚æ›´æ–° advanceSnake å‡½æ•°ï¼Œæ£€æŸ¥è›‡å¤´æ˜¯å¦ç¢°åˆ°äº†é£Ÿç‰©ã€‚å¦‚æœç¢°åˆ°äº†ï¼Œæˆ‘ä»¬å¯ä»¥è·³è¿‡ç§»é™¤è›‡çš„æœ€åéƒ¨åˆ†è¿™ä¸€æ“ä½œï¼ŒåŒæ—¶åˆ›å»ºä¸€ä¸ªæ–°çš„é£Ÿç‰©ä½ç½®ã€‚</p>\n<pre><code class="hljs actionscript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">advanceSnake</span><span class="hljs-params">()</span> </span>{\n  <span class="hljs-keyword">const</span> head = {x: snake[<span class="hljs-number">0</span>].x + dx, y: snake[<span class="hljs-number">0</span>].y};\n  snake.unshift(head);\n  <span class="hljs-keyword">const</span> didEatFood = snake[<span class="hljs-number">0</span>].x === foodX &amp;&amp; snake[<span class="hljs-number">0</span>].y === foodY;\n  <span class="hljs-keyword">if</span> (didEatFood) {\n    createFood();\n  } <span class="hljs-keyword">else</span> {\n    snake.pop();\n  }\n}\n</code></pre><h4>è®°å½•æ¸¸æˆåˆ†æ•°</h4>\n<p>ä¸ºäº†è®©æ¸¸æˆæ›´æœ‰ä¹è¶£ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥æ·»åŠ ä¸€ä¸ªåˆ†æ•°ï¼Œå½“è›‡åƒé£Ÿç‰©æ—¶åˆ†æ•°å¢åŠ ã€‚</p>\n<p>åœ¨å£°æ˜äº† snake åï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„å˜é‡ scoreï¼Œå¹¶å°†å…¶è®¾ä¸º 0ã€‚</p>\n<pre><code class="hljs ebnf"><span class="hljs-attribute">let score</span> = 0;\n</code></pre><p>æ¥ä¸‹æ¥åœ¨ç”»å¸ƒå‰æ·»åŠ ä¸€ä¸ª id ä¸ºâ€œscoreâ€çš„æ–° divï¼Œç”¨äºæ˜¾ç¤ºåˆ†æ•°ã€‚</p>\n<pre><code class="hljs routeros">&lt;div <span class="hljs-attribute">id</span>=<span class="hljs-string">"score"</span>&gt;0&lt;/div&gt;\n&lt;canvas <span class="hljs-attribute">id</span>=<span class="hljs-string">"gameCanvas"</span> <span class="hljs-attribute">width</span>=<span class="hljs-string">"300"</span> <span class="hljs-attribute">height</span>=<span class="hljs-string">"300"</span>&gt;&lt;/canvas&gt;\n</code></pre><p>æœ€åæ›´æ–° advanceSnakeï¼Œ å½“è›‡åƒé£Ÿç‰©æ—¶ï¼Œå¢åŠ å¹¶æ˜¾ç¤ºåˆ†æ•°ã€‚</p>\n<pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">advanceSnake</span>(<span class="hljs-params"></span>) </span>{\n  ...\n  if (didEatFood) {\n    score += <span class="hljs-number">10</span>;\n    <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">\'score\'</span>).innerHTML = score;\n    createFood();\n  } <span class="hljs-keyword">else</span> {\n    ...\n  }\n}\n</code></pre><p>å‘¼â€¦çœŸä¸å®¹æ˜“ï¼Œä¸è¿‡èƒœåˆ©å°±åœ¨çœ¼å‰äº† ğŸ˜Œ</p>\n<h3>ç»“æŸæ¸¸æˆ</h3>\n<p>è¿˜å‰©ä¸‹æœ€åä¸€éƒ¨åˆ†ï¼Œé‚£å°±æ˜¯ç»“æŸæ¸¸æˆğŸ–ã€‚ä¸ºæ­¤åˆ›å»ºä¸€ä¸ªå‡½æ•° didGameEndï¼Œå½“æ¸¸æˆç»“æŸæ—¶è¿”å› <strong>true</strong>ï¼Œå¦åˆ™è¿”å› <strong>false</strong>ã€‚</p>\n<pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">didGameEnd</span>(<span class="hljs-params"></span>) </span>{\n  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">4</span>; i &lt; snake.length; i++) {\n    <span class="hljs-keyword">const</span> didCollide = snake[i].x === snake[<span class="hljs-number">0</span>].x &amp;&amp;\n      snake[i].y === snake[<span class="hljs-number">0</span>].y\n    <span class="hljs-keyword">if</span> (didCollide) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>\n  }\n  <span class="hljs-keyword">const</span> hitLeftWall = snake[<span class="hljs-number">0</span>].x &lt; <span class="hljs-number">0</span>;\n  <span class="hljs-keyword">const</span> hitRightWall = snake[<span class="hljs-number">0</span>].x &gt; gameCanvas.width - <span class="hljs-number">10</span>;\n  <span class="hljs-keyword">const</span> hitToptWall = snake[<span class="hljs-number">0</span>].y &lt; <span class="hljs-number">0</span>;\n  <span class="hljs-keyword">const</span> hitBottomWall = snake[<span class="hljs-number">0</span>].y &gt; gameCanvas.height - <span class="hljs-number">10</span>;\n  <span class="hljs-keyword">return</span> hitLeftWall || \n         hitRightWall || \n         hitToptWall ||\n         hitBottomWall\n} \n</code></pre><p>é¦–å…ˆï¼Œæˆ‘ä»¬æ£€æŸ¥è›‡çš„å¤´éƒ¨æ˜¯å¦ç¢°åˆ°è›‡èº«ä¸Šå…¶ä»–éƒ¨åˆ†ï¼Œå¦‚æœç¢°åˆ°äº†é‚£ä¹ˆè¿”å› <strong>true</strong>ã€‚</p>\n<blockquote>\n<p>è¯·æ³¨æ„ï¼Œæˆ‘ä»¬ä»ç´¢å¼•å€¼ 4 å¼€å§‹å¾ªç¯ã€‚è¿™æœ‰ä¸¤ä¸ªåŸå› ï¼šä¸€ä¸ªæ˜¯å¦‚æœç´¢å¼•ä¸º 0ï¼Œ<strong>didCollide</strong> åˆ™ä¼šç«‹å³åˆ¤æ–­ä¸º trueï¼Œå¯¼è‡´æ¸¸æˆç»“æŸã€‚å¦ä¸€ä¸ªæ˜¯ï¼Œè›‡çš„å‰ä¸‰ä¸ªéƒ¨åˆ†ä¸å¯èƒ½ç›¸äº’æ¥è§¦ã€‚</p>\n</blockquote>\n<p>æ¥ä¸‹æ¥æˆ‘ä»¬æ£€æŸ¥è›‡æ˜¯å¦åœ¨ç”»å¸ƒä¸Šæ’å¢™äº†ï¼Œå¦‚æœæ˜¯ï¼Œé‚£ä¹ˆè¿”å› <strong>true</strong>ï¼Œå¦åˆ™è¿”å› <strong>false </strong>ã€‚</p>\n<p>ç°åœ¨ï¼Œå¦‚æœ didEndGame è¿”å› trueï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸»å‡½æ•°ä¸­æå‰è¿”å›ï¼Œä»è€Œç»“æŸæ¸¸æˆã€‚</p>\n<pre><code class="hljs actionscript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>{\n  <span class="hljs-keyword">if</span> (didGameEnd()) <span class="hljs-keyword">return</span>;\n  ...\n}\n</code></pre><p>snake.html ç°åœ¨åº”è¯¥æ˜¯è¿™æ ·çš„ï¼š</p>\n<pre><code class="hljs xml"><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span>\n<span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>\n   <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Snake Game<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>\n  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"score"</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-name">canvas</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"gameCanvas"</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"300"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"300"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">canvas</span>&gt;</span>\n\n    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">\n      <span class="hljs-comment">/** å¸¸é‡ **/</span>\n      <span class="hljs-keyword">const</span> CANVAS_BORDER_COLOUR = <span class="hljs-string">\'black\'</span>;\n      <span class="hljs-keyword">const</span> CANVAS_BACKGROUND_COLOUR = <span class="hljs-string">"white"</span>;\n      <span class="hljs-keyword">const</span> SNAKE_COLOUR = <span class="hljs-string">\'lightgreen\'</span>;\n      <span class="hljs-keyword">const</span> SNAKE_BORDER_COLOUR = <span class="hljs-string">\'darkgreen\'</span>;\n      <span class="hljs-keyword">const</span> FOOD_COLOUR = <span class="hljs-string">\'red\'</span>;\n      <span class="hljs-keyword">const</span> FOOD_BORDER_COLOUR = <span class="hljs-string">\'darkred\'</span>;\n      <span class="hljs-keyword">let</span> snake = [\n        {<span class="hljs-attr">x</span>: <span class="hljs-number">150</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">150</span>},\n        {<span class="hljs-attr">x</span>: <span class="hljs-number">140</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">150</span>},\n        {<span class="hljs-attr">x</span>: <span class="hljs-number">130</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">150</span>},\n        {<span class="hljs-attr">x</span>: <span class="hljs-number">120</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">150</span>},\n        {<span class="hljs-attr">x</span>: <span class="hljs-number">110</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">150</span>}\n      ]\n      <span class="hljs-comment">// ç©å®¶çš„åˆ†æ•°</span>\n      <span class="hljs-keyword">let</span> score = <span class="hljs-number">0</span>;\n      <span class="hljs-comment">// æ¨ªå‘ç§»åŠ¨é€Ÿåº¦</span>\n      <span class="hljs-keyword">let</span> dx = <span class="hljs-number">10</span>;\n      <span class="hljs-comment">// çºµå‘ç§»åŠ¨é€Ÿåº¦</span>\n      <span class="hljs-keyword">let</span> dy = <span class="hljs-number">0</span>;\n      <span class="hljs-comment">// è·å– canvas å…ƒç´ </span>\n      <span class="hljs-keyword">var</span> gameCanvas = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"gameCanvas"</span>);\n      <span class="hljs-comment">// è¿”å›ä¸€ä¸ªäºŒç»´ç»˜åˆ¶ä¸Šä¸‹æ–‡</span>\n      <span class="hljs-keyword">var</span> ctx = gameCanvas.getContext(<span class="hljs-string">"2d"</span>);\n      <span class="hljs-comment">//  é€‰æ‹©ç”»å¸ƒçš„èƒŒæ™¯é¢œè‰²</span>\n      ctx.fillStyle = CANVAS_BACKGROUND_COLOUR;\n      <span class="hljs-comment">//  é€‰æ‹©ç”»å¸ƒçš„è¾¹æ¡†é¢œè‰²</span>\n      ctx.strokestyle = CANVAS_BORDER_COLOUR;\n      <span class="hljs-comment">// ç»˜åˆ¶ä¸€ä¸ªâ€œå®å¿ƒçš„â€é•¿æ–¹å½¢æ¥è¦†ç›–æ•´ä¸ªç”»å¸ƒ</span>\n      ctx.fillRect(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, gameCanvas.width, gameCanvas.height);\n      <span class="hljs-comment">// ç»˜åˆ¶ç”»å¸ƒçš„â€œè¾¹æ¡†â€</span>\n      ctx.strokeRect(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, gameCanvas.width, gameCanvas.height);\n      <span class="hljs-comment">// å¼€å§‹æ¸¸æˆ</span>\n      main();\n      <span class="hljs-comment">// ç”Ÿæˆç¬¬ä¸€ä¸ªé£Ÿç‰©ä½ç½®</span>\n      createFood();\n      <span class="hljs-comment">// æŒ‰ä¸‹ä»»æ„ä¸€ä¸ªé”®ï¼Œéƒ½ä¼šè°ƒç”¨ changeDirection</span>\n      <span class="hljs-built_in">document</span>.addEventListener(<span class="hljs-string">"keydown"</span>, changeDirection);\n      <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">main</span>(<span class="hljs-params"></span>) </span>{\n        <span class="hljs-keyword">if</span> (didGameEnd()) <span class="hljs-keyword">return</span>;\n        setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">onTick</span>(<span class="hljs-params"></span>) </span>{\n          clearCanvas();\n          drawFood();\n          advanceSnake();\n          drawSnake();\n          <span class="hljs-comment">// Call main again</span>\n          main();\n        }, <span class="hljs-number">100</span>)\n      }\n      <span class="hljs-comment">/**\n      * è®¾ç½®ç”»å¸ƒçš„èƒŒæ™¯è‰²ä¸º CANVAS_BACKGROUND_COLOUR \n      * å¹¶ç»˜åˆ¶ç”»å¸ƒçš„è¾¹æ¡†\n      */</span>\n      <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">clearCanvas</span>(<span class="hljs-params"></span>) </span>{\n        <span class="hljs-comment">//  é€‰æ‹©ç”»å¸ƒçš„èƒŒæ™¯é¢œè‰²</span>\n        ctx.fillStyle = CANVAS_BACKGROUND_COLOUR;\n        <span class="hljs-comment">//  é€‰æ‹©ç”»å¸ƒçš„è¾¹æ¡†é¢œè‰²</span>\n        ctx.strokestyle = CANVAS_BORDER_COLOUR;\n        <span class="hljs-comment">// ç»˜åˆ¶ä¸€ä¸ªâ€œå®å¿ƒçš„â€é•¿æ–¹å½¢æ¥è¦†ç›–æ•´ä¸ªç”»å¸ƒ</span>\n        ctx.fillRect(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, gameCanvas.width, gameCanvas.height);\n        <span class="hljs-comment">// ç»˜åˆ¶ç”»å¸ƒçš„â€œè¾¹æ¡†â€</span>\n        ctx.strokeRect(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, gameCanvas.width, gameCanvas.height);\n      }\n      <span class="hljs-comment">/**\n       * å½“è›‡æ’å¢™æˆ–è€…è›‡å¤´ç¢°åˆ°è›‡èº«çš„æ—¶å€™è¿”å› true\n       */</span>\n      <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">didGameEnd</span>(<span class="hljs-params"></span>) </span>{\n        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">4</span>; i &lt; snake.length; i++) {\n          <span class="hljs-keyword">const</span> didCollide = snake[i].x === snake[<span class="hljs-number">0</span>].x &amp;&amp; snake[i].y === snake[<span class="hljs-number">0</span>].y\n          <span class="hljs-keyword">if</span> (didCollide) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>\n        }\n        <span class="hljs-keyword">const</span> hitLeftWall = snake[<span class="hljs-number">0</span>].x &lt; <span class="hljs-number">0</span>;\n        <span class="hljs-keyword">const</span> hitRightWall = snake[<span class="hljs-number">0</span>].x &gt; gameCanvas.width - <span class="hljs-number">10</span>;\n        <span class="hljs-keyword">const</span> hitToptWall = snake[<span class="hljs-number">0</span>].y &lt; <span class="hljs-number">0</span>;\n        <span class="hljs-keyword">const</span> hitBottomWall = snake[<span class="hljs-number">0</span>].y &gt; gameCanvas.height - <span class="hljs-number">10</span>;\n        <span class="hljs-keyword">return</span> hitLeftWall || hitRightWall || hitToptWall || hitBottomWall\n      }\n      <span class="hljs-comment">/**\n       * åœ¨ç”»å¸ƒä¸Šç”»é£Ÿç‰©\n       */</span>\n      <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">drawFood</span>(<span class="hljs-params"></span>) </span>{\n        ctx.fillStyle = FOOD_COLOUR;\n        ctx.strokestyle = FOOD_BORDER_COLOUR;\n        ctx.fillRect(foodX, foodY, <span class="hljs-number">10</span>, <span class="hljs-number">10</span>);\n        ctx.strokeRect(foodX, foodY, <span class="hljs-number">10</span>, <span class="hljs-number">10</span>);\n      }\n      <span class="hljs-comment">/**\n       * æ ¹æ®è›‡çš„æ°´å¹³ç§»åŠ¨é€Ÿåº¦æ”¹å˜è›‡çš„ x åæ ‡ï¼Œ\n       * æ ¹æ®è›‡çš„å‚ç›´ç§»åŠ¨é€Ÿåº¦æ”¹å˜è›‡çš„ y åæ ‡\n       */</span>\n      <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">advanceSnake</span>(<span class="hljs-params"></span>) </span>{\n        <span class="hljs-comment">// ç»˜åˆ¶æ–°çš„å¤´éƒ¨</span>\n        <span class="hljs-keyword">const</span> head = {<span class="hljs-attr">x</span>: snake[<span class="hljs-number">0</span>].x + dx, <span class="hljs-attr">y</span>: snake[<span class="hljs-number">0</span>].y + dy};\n        <span class="hljs-comment">// å°†æ–°çš„å¤´éƒ¨æ”¾åˆ°è›‡èº«ä½“çš„ç¬¬ä¸€ä¸ªéƒ¨ä½</span>\n        snake.unshift(head);\n        <span class="hljs-keyword">const</span> didEatFood = snake[<span class="hljs-number">0</span>].x === foodX &amp;&amp; snake[<span class="hljs-number">0</span>].y === foodY;\n        <span class="hljs-keyword">if</span> (didEatFood) {\n          <span class="hljs-comment">// å¢åŠ åˆ†æ•°</span>\n          score += <span class="hljs-number">10</span>;\n          <span class="hljs-comment">// åœ¨å±å¹•ä¸Šæ˜¾ç¤ºåˆ†æ•°</span>\n          <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">\'score\'</span>).innerHTML = score;\n          <span class="hljs-comment">// ç”Ÿæˆæ–°çš„é£Ÿç‰©</span>\n          createFood();\n        } <span class="hljs-keyword">else</span> {\n          <span class="hljs-comment">// ç§»é™¤è›‡çš„æœ€åä¸€ä¸ªéƒ¨åˆ†</span>\n          snake.pop();\n        }\n      }\n      <span class="hljs-comment">/**\n        * ç»™å®šä¸€ä¸ªæœ€å¤§å€¼å’Œæœ€å°å€¼ï¼Œç”Ÿæˆä¸€ä¸ª 10 çš„å€æ•°çš„éšæœºæ•°     \n        * @param { number } min â€”â€” éšæœºæ•°çš„ä¸‹é™\n        * @param { number } max â€”â€” éšæœºæ•°çš„ä¸Šé™\n       */</span>\n      <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">randomTen</span>(<span class="hljs-params">min, max</span>) </span>{\n        <span class="hljs-keyword">return</span> <span class="hljs-built_in">Math</span>.round((<span class="hljs-built_in">Math</span>.random() * (max-min) + min) / <span class="hljs-number">10</span>) * <span class="hljs-number">10</span>;\n      }\n     <span class="hljs-comment">/**     \n      * éšæœºç”Ÿæˆé£Ÿç‰©åæ ‡\n      */</span>\n      <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createFood</span>(<span class="hljs-params"></span>) </span>{\n        <span class="hljs-comment">// éšæœºç”Ÿæˆé£Ÿç‰©çš„ x åæ ‡</span>\n        foodX = randomTen(<span class="hljs-number">0</span>, gameCanvas.width - <span class="hljs-number">10</span>);\n        <span class="hljs-comment">// éšæœºç”Ÿæˆé£Ÿç‰©çš„ y åæ ‡</span>\n        foodY = randomTen(<span class="hljs-number">0</span>, gameCanvas.height - <span class="hljs-number">10</span>);\n        <span class="hljs-comment">// å¦‚æœæ–°ç”Ÿæˆçš„é£Ÿç‰©ä¸è›‡å½“å‰ä½ç½®é‡å ï¼Œé‡æ–°ä¸ºé£Ÿç‰©ç”Ÿæˆä¸€ä¸ªä½ç½®</span>\n        snake.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isOnSnake</span>(<span class="hljs-params">part</span>) </span>{\n          <span class="hljs-keyword">if</span> (part.x == foodX &amp;&amp; part.y == foodY) createFood();\n        });\n      }\n      <span class="hljs-comment">/**\n       * åœ¨ç”»å¸ƒä¸Šç”»è›‡\n       */</span>\n      <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">drawSnake</span>(<span class="hljs-params"></span>) </span>{\n        <span class="hljs-comment">// å¾ªç¯éå†è›‡çš„æ¯ä¸€éƒ¨åˆ†ï¼Œå¹¶å°†å…¶ç»˜åˆ¶åˆ°ç”»å¸ƒä¸Š</span>\n        snake.forEach(drawSnakePart)\n      }\n      <span class="hljs-comment">/**\n       * åœ¨ç”»å¸ƒä¸Šç”»è›‡çš„ä¸€ä¸ªéƒ¨åˆ†\n       * @param { object } snakePart  â€”â€” éœ€è¦ç»˜åˆ¶çš„éƒ¨ä½çš„æ‰€åœ¨åæ ‡\n       */</span>\n      <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">drawSnakePart</span>(<span class="hljs-params">snakePart</span>) </span>{\n        <span class="hljs-comment">// è®¾ç½®è›‡èº«ä½“çš„èƒŒæ™¯é¢œè‰²</span>\n        ctx.fillStyle = SNAKE_COLOUR;\n        <span class="hljs-comment">// è®¾ç½®è›‡èº«çš„è¾¹æ¡†è‰²</span>\n        ctx.strokestyle = SNAKE_BORDER_COLOUR;\n        <span class="hljs-comment">// åœ¨è›‡èº«åæ ‡æ‰€åœ¨çš„ä½ç½®ï¼Œç»˜åˆ¶â€œå®å¿ƒâ€çš„çŸ©å½¢ä»¥è¡¨ç¤ºè›‡      </span>\n        ctx.fillRect(snakePart.x, snakePart.y, <span class="hljs-number">10</span>, <span class="hljs-number">10</span>);\n        <span class="hljs-comment">// ç»˜åˆ¶è›‡èº«çš„è¾¹æ¡†</span>\n        ctx.strokeRect(snakePart.x, snakePart.y, <span class="hljs-number">10</span>, <span class="hljs-number">10</span>);\n      }\n      <span class="hljs-comment">/**     \n      * æ ¹æ®æŒ‰ä¸‹çš„é”®ï¼Œæ”¹å˜è›‡çš„æ°´å¹³ç§»åŠ¨é€Ÿåº¦å’Œå‚ç›´ç§»åŠ¨é€Ÿåº¦\n      * ä¸ºäº†é¿å…è›‡åè½¬ï¼Œè›‡çš„ç§»åŠ¨æ–¹å‘ä¸èƒ½ç›´æ¥å˜æˆç›¸åçš„æ–¹å‘ï¼Œ\n      * æ¯”å¦‚è¯´ï¼Œå½“å‰æ–¹å‘æ˜¯â€œå‘å³â€ï¼Œé‚£ä¹ˆä¸‹ä¸€ä¸ªæ–¹å‘ä¸èƒ½æ˜¯â€œå‘å·¦â€\n      * @param { object } event â€”â€” é”®ç›˜äº‹ä»¶\n      */</span>\n      <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">changeDirection</span>(<span class="hljs-params">event</span>) </span>{\n        <span class="hljs-keyword">const</span> LEFT_KEY = <span class="hljs-number">37</span>;\n        <span class="hljs-keyword">const</span> RIGHT_KEY = <span class="hljs-number">39</span>;\n        <span class="hljs-keyword">const</span> UP_KEY = <span class="hljs-number">38</span>;\n        <span class="hljs-keyword">const</span> DOWN_KEY = <span class="hljs-number">40</span>;\n        <span class="hljs-keyword">const</span> keyPressed = event.keyCode;\n        <span class="hljs-keyword">const</span> goingUp = dy === <span class="hljs-number">-10</span>;\n        <span class="hljs-keyword">const</span> goingDown = dy === <span class="hljs-number">10</span>;\n        <span class="hljs-keyword">const</span> goingRight = dx === <span class="hljs-number">10</span>;\n        <span class="hljs-keyword">const</span> goingLeft = dx === <span class="hljs-number">-10</span>;\n        <span class="hljs-keyword">if</span> (keyPressed === LEFT_KEY &amp;&amp; !goingRight) {\n          dx = <span class="hljs-number">-10</span>;\n          dy = <span class="hljs-number">0</span>;\n        }\n        <span class="hljs-keyword">if</span> (keyPressed === UP_KEY &amp;&amp; !goingDown) {\n          dx = <span class="hljs-number">0</span>;\n          dy = <span class="hljs-number">-10</span>;\n        }\n        <span class="hljs-keyword">if</span> (keyPressed === RIGHT_KEY &amp;&amp; !goingLeft) {\n          dx = <span class="hljs-number">10</span>;\n          dy = <span class="hljs-number">0</span>;\n        }\n        <span class="hljs-keyword">if</span> (keyPressed === DOWN_KEY &amp;&amp; !goingUp) {\n          dx = <span class="hljs-number">0</span>;\n          dy = <span class="hljs-number">10</span>;\n        }\n      }\n    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>\n  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>\n<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>\n</code></pre><p>ç°åœ¨è´ªé£Ÿè›‡æ¸¸æˆå·²ç»å¯ä»¥ç©äº†ï¼Œä½ å¯ä»¥ç‹¬ä¹ä¹æˆ–è€…åˆ†äº«ç»™ä½ çš„æœ‹å‹ã€‚ä¸è¿‡åœ¨åº†ç¥ä¹‹å‰ï¼Œæˆ‘ä»¬è¿˜æ˜¯æ¥çœ‹çœ‹æœ€åä¸€ä¸ªé—®é¢˜ã€‚æˆ‘ä¿è¯ï¼Œè¿™ç»å¯¹æ˜¯æœ€åä¸€ä¸ªã€‚</p>\n<h3>æ½œè—çš„ bugs ğŸ›</h3>\n<p>å¦‚æœä½ ç©äº†è¶³å¤Ÿå¤šæ¬¡æ¸¸æˆï¼Œå¯èƒ½ä¼šæ³¨æ„åˆ°æ¸¸æˆæœ‰æ—¶ä¼šæ„å¤–ç»“æŸã€‚è¿™æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ä¾‹å­ï¼Œå±•ç¤ºäº† bug ä¼šæ½œå…¥æˆ‘ä»¬çš„ç¨‹åºå¹¶åˆ¶é€ éº»çƒ¦ğŸ™„ã€‚</p>\n<p>å‘ç° bug çš„æ—¶å€™ï¼Œè§£å†³å®ƒçš„æœ€å¥½æ–¹æ³•æ˜¯é¦–å…ˆæ‰¾åˆ°å¯é çš„æ–¹æ³•æ¥é‡ç°å®ƒã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ‰¾åˆ°å¯¼è‡´æ„å¤–è¡Œä¸ºçš„ç²¾ç¡®æ­¥éª¤ã€‚ç„¶åï¼Œéœ€è¦äº†è§£å®ƒä»¬å¯¼è‡´æ„å¤–è¡Œä¸ºçš„åŸå› ï¼Œæœ€åå¯»æ±‚è§£å†³æ–¹æ¡ˆã€‚</p>\n<h4>é‡ç° bug</h4>\n<p>åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œé‡ç° bug çš„æ­¥éª¤å¦‚ä¸‹ï¼š</p>\n<ul>\n<li>è›‡æ­£å‘å·¦ç§»åŠ¨</li>\n<li>ç©å®¶æŒ‰ä¸‹å‘ä¸‹é”®</li>\n<li>ç©å®¶ç«‹å³æŒ‰ä¸‹å‘å³é”®ï¼ˆåœ¨ 100 ms å†…ï¼‰</li>\n<li>æ¸¸æˆç»“æŸ</li>\n</ul>\n<p><img src="https://p0.ssl.qhimg.com/t01f5db14e92f238906.gif" alt=""></p>\n<h4>åˆ†æå¯¼è‡´ bug çš„åŸå› </h4>\n<p>è®©æˆ‘ä»¬ä¸€æ­¥æ­¥åˆ†è§£ bug äº§ç”Ÿçš„è¿‡ç¨‹ã€‚</p>\n<p><strong>è›‡æ­£åœ¨å‘å·¦ç§»åŠ¨</strong></p>\n<ul>\n<li>æ°´å¹³é€Ÿåº¦ï¼Œdx ç­‰äº -10</li>\n<li>è°ƒç”¨ main å‡½æ•°</li>\n<li>è°ƒç”¨ advanceSnake å‡½æ•°ï¼Œè›‡å‘å·¦ç§»åŠ¨ 10 pxã€‚</li>\n</ul>\n<p><strong>ç©å®¶æŒ‰ä¸‹å‘ä¸‹é”®</strong></p>\n<ul>\n<li>è°ƒç”¨ changeDirection</li>\n<li><code>keyPressed === DOWN_KEY &amp;&amp;  !goingUp</code> çš„å€¼ä¸º true</li>\n<li>dx æ›´æ”¹ä¸º 0</li>\n<li>dy æ›´æ”¹ä¸º +10</li>\n</ul>\n<p><strong>ç©å®¶ç«‹å³æŒ‰ä¸‹å‘å³é”®ï¼ˆåœ¨ 100 ms å†…ï¼‰</strong></p>\n<ul>\n<li>è°ƒç”¨ changeDirection</li>\n<li><code>keyPressed === RIGHT_KEY &amp;&amp; !goingLeft</code> çš„å€¼ä¸º true</li>\n<li>dx æ›´æ”¹ä¸º +10</li>\n<li>dy æ›´æ”¹ä¸º 0</li>\n</ul>\n<p><strong>æ¸¸æˆç»“æŸ</strong></p>\n<ul>\n<li>main å‡½æ•°<strong>å»¶æ—¶ 100 ms å</strong>è¢«è°ƒç”¨</li>\n<li>è°ƒç”¨ advanceSnakeï¼Œè›‡å‘å³ç§»åŠ¨ 10 pxã€‚</li>\n<li><code>const didCollide = snake[i].x === snake[0].x &amp;&amp; snake[i].y === snake[0].y</code> çš„å€¼ä¸ºtrue</li>\n<li>didGameEnd è¿”å› true</li>\n<li>main å‡½æ•°æå‰è¿”å›</li>\n<li>æ¸¸æˆç»“æŸ</li>\n</ul>\n<h4>è§£å†³ bug</h4>\n<p>åœ¨åˆ†æäº†å‘ç”Ÿçš„äº‹æƒ…ä¹‹åï¼Œæˆ‘ä»¬äº†è§£åˆ°æ¸¸æˆç»“æŸæ˜¯å› ä¸ºè›‡æ‰å¤´äº†ã€‚</p>\n<p>è¿™æ˜¯å› ä¸ºå½“ç©å®¶æŒ‰ä¸‹å‘ä¸‹é”®æ—¶ï¼Œdx è¢«è®¾ç½®ä¸º 0ã€‚å› æ­¤ <code>keyPressed === RIGHT_KEY &amp;&amp; !goingLeft</code> å€¼ä¸º trueï¼ŒåŒæ—¶ dx æ›´æ”¹ä¸º 10ã€‚</p>\n<p>é‡è¦çš„æ˜¯è¦æ³¨æ„ï¼Œåœ¨ <strong>100 ms æ—¶é—´å†…</strong>ï¼Œæ–¹å‘æ”¹å˜äº†ã€‚å¦‚æœè¶…è¿‡ 100 msï¼Œé‚£ä¹ˆè›‡é¦–å…ˆä¼šå‘ä¸‹ç§»è€Œä¸ä¼šæ‰å¤´ã€‚</p>\n<p>ä¸ºäº†è§£å†³è¿™ä¸ª bugï¼Œå¿…é¡»ç¡®ä¿åªæœ‰åœ¨ main å’Œ advanceSnake è¢«è°ƒç”¨ä¹‹åï¼Œæ‰å¯ä»¥æ”¹å˜è›‡çš„æ–¹å‘ã€‚å¯ä»¥åˆ›å»ºä¸€ä¸ªå˜é‡ <strong>changingDirectionã€‚</strong>å½“è°ƒç”¨ changeDirection æ—¶è®¾ç½® changingDirection ä¸º trueï¼Œå¹¶åœ¨è°ƒç”¨ advanceSnake æ—¶è®¾ç½®ä¸º falseã€‚</p>\n<p>åœ¨ changeDirection å‡½æ•°ä¸­ï¼Œå¦‚æœ <strong>changingDirection</strong> ä¸º trueï¼Œå°±æå‰è¿”å›ã€‚</p>\n<pre><code class="hljs actionscript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">changeDirection</span><span class="hljs-params">(event)</span> </span>{\n  <span class="hljs-keyword">const</span> LEFT_KEY = <span class="hljs-number">37</span>;\n  <span class="hljs-keyword">const</span> RIGHT_KEY = <span class="hljs-number">39</span>;\n  <span class="hljs-keyword">const</span> UP_KEY = <span class="hljs-number">38</span>;\n  <span class="hljs-keyword">const</span> DOWN_KEY = <span class="hljs-number">40</span>;\n  <span class="hljs-keyword">if</span> (changingDirection) <span class="hljs-keyword">return</span>;\n  changingDirection = <span class="hljs-literal">true</span>;\n  ...\n}\n<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>{\n  setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">onTick</span><span class="hljs-params">()</span> </span>{\n    changingDirection = <span class="hljs-literal">false</span>;\n\n    ...\n  }, <span class="hljs-number">100</span>)\n}\n</code></pre><p>ä»¥ä¸‹æ˜¯ snake.html çš„æœ€ç»ˆç‰ˆæœ¬</p>\n<blockquote>\n<p>æ³¨æ„æˆ‘è¿˜åœ¨ <code>&lt;style&gt;&lt;/style&gt;</code> æ ‡ç­¾ä¹‹é—´æ·»åŠ äº†ä¸€äº›æ ·å¼ğŸ¨ã€‚è¿™æ˜¯ä¸ºäº†è®©ç”»å¸ƒå’Œåˆ†æ•°æ˜¾ç¤ºåœ¨å±å¹•ä¸­é—´ã€‚</p>\n</blockquote>\n<pre><code class="hljs xml"><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span>\n<span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Snake Game<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://fonts.googleapis.com/css?family=Antic+Slab"</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span>&gt;</span>\n\n  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>\n\n  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>\n\n    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"score"</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-name">canvas</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"gameCanvas"</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"300"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"300"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">canvas</span>&gt;</span>\n\n    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">\n      <span class="hljs-selector-id">#gameCanvas</span> {\n        <span class="hljs-attribute">position</span>: absolute;\n        <span class="hljs-attribute">top</span>: <span class="hljs-number">50%</span>;\n        <span class="hljs-attribute">left</span>: <span class="hljs-number">50%</span>;\n        <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translate</span>(-50%, -50%);\n      }\n      <span class="hljs-selector-id">#score</span> {\n        <span class="hljs-attribute">text-align</span>: center;\n        <span class="hljs-attribute">font-size</span>: <span class="hljs-number">140px</span>;\n        <span class="hljs-attribute">font-family</span>: <span class="hljs-string">\'Antic Slab\'</span>, serif;\n      }\n    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>\n  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>\n\n  <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">\n    <span class="hljs-keyword">const</span> GAME_SPEED = <span class="hljs-number">100</span>;\n    <span class="hljs-keyword">const</span> CANVAS_BORDER_COLOUR = <span class="hljs-string">\'black\'</span>;\n    <span class="hljs-keyword">const</span> CANVAS_BACKGROUND_COLOUR = <span class="hljs-string">"white"</span>;\n    <span class="hljs-keyword">const</span> SNAKE_COLOUR = <span class="hljs-string">\'lightgreen\'</span>;\n    <span class="hljs-keyword">const</span> SNAKE_BORDER_COLOUR = <span class="hljs-string">\'darkgreen\'</span>;\n    <span class="hljs-keyword">const</span> FOOD_COLOUR = <span class="hljs-string">\'red\'</span>;\n    <span class="hljs-keyword">const</span> FOOD_BORDER_COLOUR = <span class="hljs-string">\'darkred\'</span>;\n    <span class="hljs-keyword">let</span> snake = [\n      {<span class="hljs-attr">x</span>: <span class="hljs-number">150</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">150</span>},\n      {<span class="hljs-attr">x</span>: <span class="hljs-number">140</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">150</span>},\n      {<span class="hljs-attr">x</span>: <span class="hljs-number">130</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">150</span>},\n      {<span class="hljs-attr">x</span>: <span class="hljs-number">120</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">150</span>},\n      {<span class="hljs-attr">x</span>: <span class="hljs-number">110</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">150</span>}\n    ]\n    <span class="hljs-comment">// ç©å®¶çš„åˆ†æ•°</span>\n    <span class="hljs-keyword">let</span> score = <span class="hljs-number">0</span>;\n    <span class="hljs-comment">// changingDirection ä¸º true æ—¶è¡¨ç¤ºè›‡æ­£åœ¨æ”¹å˜æ–¹å‘</span>\n    <span class="hljs-keyword">let</span> changingDirection = <span class="hljs-literal">false</span>;\n    <span class="hljs-comment">// é£Ÿç‰©çš„ x åæ ‡</span>\n    <span class="hljs-keyword">let</span> foodX;\n    <span class="hljs-comment">// é£Ÿç‰©çš„ y åæ ‡</span>\n    <span class="hljs-keyword">let</span> foodY;\n    <span class="hljs-comment">// æ¨ªå‘ç§»åŠ¨é€Ÿåº¦</span>\n    <span class="hljs-keyword">let</span> dx = <span class="hljs-number">10</span>;\n    <span class="hljs-comment">// çºµå‘ç§»åŠ¨é€Ÿåº¦</span>\n    <span class="hljs-keyword">let</span> dy = <span class="hljs-number">0</span>;\n    <span class="hljs-comment">// è·å– canvas å…ƒç´ </span>\n    <span class="hljs-keyword">const</span> gameCanvas = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"gameCanvas"</span>);\n    <span class="hljs-comment">// è¿”å›ä¸€ä¸ªäºŒç»´ç»˜åˆ¶ä¸Šä¸‹æ–‡</span>\n    <span class="hljs-keyword">const</span> ctx = gameCanvas.getContext(<span class="hljs-string">"2d"</span>);\n    <span class="hljs-comment">// å¼€å§‹æ¸¸æˆ</span>\n    main();\n    <span class="hljs-comment">// ç”Ÿæˆç¬¬ä¸€ä¸ªé£Ÿç‰©ä½ç½®</span>\n    createFood();\n    <span class="hljs-comment">// æŒ‰ä¸‹ä»»æ„ä¸€ä¸ªé”®ï¼Œéƒ½ä¼šè°ƒç”¨ changeDirection</span>\n    <span class="hljs-built_in">document</span>.addEventListener(<span class="hljs-string">"keydown"</span>, changeDirection);\n    <span class="hljs-comment">/**\n     * æ¸¸æˆçš„ä¸»å‡½æ•°\n     * é€’å½’è°ƒç”¨ä»¥æ¨è¿›æ¸¸æˆ  \n     */</span>\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">main</span>(<span class="hljs-params"></span>) </span>{\n      <span class="hljs-comment">// åˆ¤å®šæ¸¸æˆç»“æŸæ—¶æå‰è¿”å›ä»è€Œç»ˆæ­¢æ¸¸æˆ</span>\n      <span class="hljs-keyword">if</span> (didGameEnd()) <span class="hljs-keyword">return</span>;\n      setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">onTick</span>(<span class="hljs-params"></span>) </span>{\n        changingDirection = <span class="hljs-literal">false</span>;\n        clearCanvas();\n        drawFood();\n        advanceSnake();\n        drawSnake();\n        <span class="hljs-comment">// å†æ¬¡è°ƒç”¨ main</span>\n        main();\n      }, GAME_SPEED)\n    }\n    <span class="hljs-comment">/**\n     * è®¾ç½®ç”»å¸ƒçš„èƒŒæ™¯è‰²ä¸º CANVAS_BACKGROUND_COLOUR \n     * å¹¶ç»˜åˆ¶ç”»å¸ƒçš„è¾¹æ¡†\n     */</span>\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">clearCanvas</span>(<span class="hljs-params"></span>) </span>{\n      <span class="hljs-comment">//  é€‰æ‹©ç”»å¸ƒçš„èƒŒæ™¯é¢œè‰²</span>\n      ctx.fillStyle = CANVAS_BACKGROUND_COLOUR;\n      <span class="hljs-comment">//  é€‰æ‹©ç”»å¸ƒçš„è¾¹æ¡†é¢œè‰²</span>\n      ctx.strokestyle = CANVAS_BORDER_COLOUR;\n      <span class="hljs-comment">// ç»˜åˆ¶ä¸€ä¸ªâ€œå®å¿ƒçš„â€é•¿æ–¹å½¢æ¥è¦†ç›–æ•´ä¸ªç”»å¸ƒ</span>\n      ctx.fillRect(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, gameCanvas.width, gameCanvas.height);\n      <span class="hljs-comment">// ç»˜åˆ¶ç”»å¸ƒçš„â€œè¾¹æ¡†â€</span>\n      ctx.strokeRect(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, gameCanvas.width, gameCanvas.height);\n    }\n    <span class="hljs-comment">/**\n     * åœ¨ç”»å¸ƒä¸Šç”»é£Ÿç‰©\n     */</span>\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">drawFood</span>(<span class="hljs-params"></span>) </span>{\n      ctx.fillStyle = FOOD_COLOUR;\n      ctx.strokestyle = FOOD_BORDER_COLOUR;\n      ctx.fillRect(foodX, foodY, <span class="hljs-number">10</span>, <span class="hljs-number">10</span>);\n      ctx.strokeRect(foodX, foodY, <span class="hljs-number">10</span>, <span class="hljs-number">10</span>);\n    }\n    <span class="hljs-comment">/**\n     * æ ¹æ®è›‡çš„æ°´å¹³ç§»åŠ¨é€Ÿåº¦æ”¹å˜è›‡çš„ x åæ ‡ï¼Œ\n     * æ ¹æ®è›‡çš„å‚ç›´ç§»åŠ¨é€Ÿåº¦æ”¹å˜è›‡çš„ y åæ ‡\n     */</span>\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">advanceSnake</span>(<span class="hljs-params"></span>) </span>{\n      <span class="hljs-comment">// ç»˜åˆ¶æ–°çš„å¤´éƒ¨</span>\n      <span class="hljs-keyword">const</span> head = {<span class="hljs-attr">x</span>: snake[<span class="hljs-number">0</span>].x + dx, <span class="hljs-attr">y</span>: snake[<span class="hljs-number">0</span>].y + dy};\n      <span class="hljs-comment">// å°†æ–°çš„å¤´éƒ¨æ”¾åˆ°è›‡èº«ä½“çš„ç¬¬ä¸€ä¸ªéƒ¨ä½</span>\n      snake.unshift(head);\n      <span class="hljs-keyword">const</span> didEatFood = snake[<span class="hljs-number">0</span>].x === foodX &amp;&amp; snake[<span class="hljs-number">0</span>].y === foodY;\n      <span class="hljs-keyword">if</span> (didEatFood) {\n        <span class="hljs-comment">// å¢åŠ åˆ†æ•°</span>\n        score += <span class="hljs-number">10</span>;\n        <span class="hljs-comment">// åœ¨å±å¹•ä¸Šæ˜¾ç¤ºåˆ†æ•°</span>\n        <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">\'score\'</span>).innerHTML = score;\n        <span class="hljs-comment">// ç”Ÿæˆæ–°çš„é£Ÿç‰©</span>\n        createFood();\n      } <span class="hljs-keyword">else</span> {\n        <span class="hljs-comment">// ç§»é™¤è›‡çš„æœ€åä¸€ä¸ªéƒ¨åˆ†</span>\n        snake.pop();\n      }\n    }\n    <span class="hljs-comment">/**\n     * å½“è›‡æ’å¢™æˆ–è€…è›‡å¤´ç¢°åˆ°è›‡èº«çš„æ—¶å€™è¿”å› true\n     */</span>\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">didGameEnd</span>(<span class="hljs-params"></span>) </span>{\n      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">4</span>; i &lt; snake.length; i++) {\n        <span class="hljs-keyword">if</span> (snake[i].x === snake[<span class="hljs-number">0</span>].x &amp;&amp; snake[i].y === snake[<span class="hljs-number">0</span>].y) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>\n      }\n      <span class="hljs-keyword">const</span> hitLeftWall = snake[<span class="hljs-number">0</span>].x &lt; <span class="hljs-number">0</span>;\n      <span class="hljs-keyword">const</span> hitRightWall = snake[<span class="hljs-number">0</span>].x &gt; gameCanvas.width - <span class="hljs-number">10</span>;\n      <span class="hljs-keyword">const</span> hitToptWall = snake[<span class="hljs-number">0</span>].y &lt; <span class="hljs-number">0</span>;\n      <span class="hljs-keyword">const</span> hitBottomWall = snake[<span class="hljs-number">0</span>].y &gt; gameCanvas.height - <span class="hljs-number">10</span>;\n      <span class="hljs-keyword">return</span> hitLeftWall || hitRightWall || hitToptWall || hitBottomWall\n    }\n    <span class="hljs-comment">/**\n     * ç»™å®šä¸€ä¸ªæœ€å¤§å€¼å’Œæœ€å°å€¼ï¼Œç”Ÿæˆä¸€ä¸ª 10 çš„å€æ•°çš„éšæœºæ•°     \n     * @param { number } min â€”â€” éšæœºæ•°çš„ä¸‹é™\n     * @param { number } max â€”â€” éšæœºæ•°çš„ä¸Šé™\n     */</span>\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">randomTen</span>(<span class="hljs-params">min, max</span>) </span>{\n      <span class="hljs-keyword">return</span> <span class="hljs-built_in">Math</span>.round((<span class="hljs-built_in">Math</span>.random() * (max-min) + min) / <span class="hljs-number">10</span>) * <span class="hljs-number">10</span>;\n    }\n    <span class="hljs-comment">/**     \n     * éšæœºç”Ÿæˆé£Ÿç‰©åæ ‡\n     */</span>\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createFood</span>(<span class="hljs-params"></span>) </span>{\n      <span class="hljs-comment">// éšæœºç”Ÿæˆé£Ÿç‰©çš„ x åæ ‡</span>\n      foodX = randomTen(<span class="hljs-number">0</span>, gameCanvas.width - <span class="hljs-number">10</span>);\n      <span class="hljs-comment">// éšæœºç”Ÿæˆé£Ÿç‰©çš„ y åæ ‡</span>\n      foodY = randomTen(<span class="hljs-number">0</span>, gameCanvas.height - <span class="hljs-number">10</span>);\n      <span class="hljs-comment">// å¦‚æœæ–°ç”Ÿæˆçš„é£Ÿç‰©ä¸è›‡å½“å‰ä½ç½®é‡å ï¼Œé‡æ–°ä¸ºé£Ÿç‰©ç”Ÿæˆä¸€ä¸ªä½ç½®</span>\n      snake.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isFoodOnSnake</span>(<span class="hljs-params">part</span>) </span>{\n        <span class="hljs-keyword">const</span> foodIsoNsnake = part.x == foodX &amp;&amp; part.y == foodY;\n        <span class="hljs-keyword">if</span> (foodIsoNsnake) createFood();\n      });\n    }\n    <span class="hljs-comment">/**\n     * åœ¨ç”»å¸ƒä¸Šç”»è›‡\n     */</span>\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">drawSnake</span>(<span class="hljs-params"></span>) </span>{\n      <span class="hljs-comment">// å¾ªç¯éå†è›‡çš„æ¯ä¸€éƒ¨åˆ†ï¼Œå¹¶å°†å…¶ç»˜åˆ¶åˆ°ç”»å¸ƒä¸Š</span>\n      snake.forEach(drawSnakePart)\n    }\n    <span class="hljs-comment">/**\n     * åœ¨ç”»å¸ƒä¸Šç”»è›‡çš„ä¸€ä¸ªéƒ¨åˆ†\n     * @param { object } snakePart â€”â€” éœ€è¦ç»˜åˆ¶çš„éƒ¨ä½çš„æ‰€åœ¨åæ ‡\n     */</span>\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">drawSnakePart</span>(<span class="hljs-params">snakePart</span>) </span>{\n      <span class="hljs-comment">// è®¾ç½®è›‡èº«ä½“çš„èƒŒæ™¯é¢œè‰²</span>\n      ctx.fillStyle = SNAKE_COLOUR;\n      <span class="hljs-comment">// è®¾ç½®è›‡èº«çš„è¾¹æ¡†è‰²</span>\n      ctx.strokestyle = SNAKE_BORDER_COLOUR;\n      <span class="hljs-comment">// åœ¨è›‡èº«åæ ‡æ‰€åœ¨çš„ä½ç½®ï¼Œç»˜åˆ¶â€œå®å¿ƒâ€çš„çŸ©å½¢ä»¥è¡¨ç¤ºè›‡      </span>\n      ctx.fillRect(snakePart.x, snakePart.y, <span class="hljs-number">10</span>, <span class="hljs-number">10</span>);\n      <span class="hljs-comment">// ç»˜åˆ¶è›‡èº«çš„è¾¹æ¡†</span>\n      ctx.strokeRect(snakePart.x, snakePart.y, <span class="hljs-number">10</span>, <span class="hljs-number">10</span>);\n    }\n    <span class="hljs-comment">/**     \n     * æ ¹æ®æŒ‰ä¸‹çš„é”®ï¼Œæ”¹å˜è›‡çš„æ°´å¹³ç§»åŠ¨é€Ÿåº¦å’Œå‚ç›´ç§»åŠ¨é€Ÿåº¦\n     * ä¸ºäº†é¿å…è›‡åè½¬ï¼Œè›‡çš„ç§»åŠ¨æ–¹å‘ä¸èƒ½ç›´æ¥å˜æˆç›¸åçš„æ–¹å‘ï¼Œ\n     * æ¯”å¦‚è¯´ï¼Œå½“å‰æ–¹å‘æ˜¯â€œå‘å³â€ï¼Œé‚£ä¹ˆä¸‹ä¸€ä¸ªæ–¹å‘ä¸èƒ½æ˜¯â€œå‘å·¦â€\n     * @param { object } event â€”â€” é”®ç›˜äº‹ä»¶\n     */</span>\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">changeDirection</span>(<span class="hljs-params">event</span>) </span>{\n      <span class="hljs-keyword">const</span> LEFT_KEY = <span class="hljs-number">37</span>;\n      <span class="hljs-keyword">const</span> RIGHT_KEY = <span class="hljs-number">39</span>;\n      <span class="hljs-keyword">const</span> UP_KEY = <span class="hljs-number">38</span>;\n      <span class="hljs-keyword">const</span> DOWN_KEY = <span class="hljs-number">40</span>;\n      <span class="hljs-comment">/**\n       * é¿å…è´ªé£Ÿè›‡æ‰å¤´\n       * ä¸¾ä¸ªä¾‹å­ï¼š\n       * è›‡æ­£åœ¨å‘å³ç§»åŠ¨ã€‚ç©å®¶æŒ‰ä¸‹å‘ä¸‹é”®ç„¶åè¿…é€Ÿåœ°æŒ‰ä¸‹å‘å·¦é”®ã€‚\n       * æ­¤æ—¶è›‡ä¸ä¼šå…ˆå‘ä¸‹ç§»åŠ¨ä¸€æ­¥ï¼Œè€Œä¼šé©¬ä¸Šæ”¹å˜æ–¹å‘\n       */</span>\n      <span class="hljs-keyword">if</span> (changingDirection) <span class="hljs-keyword">return</span>;\n      changingDirection = <span class="hljs-literal">true</span>;\n\n      <span class="hljs-keyword">const</span> keyPressed = event.keyCode;\n      <span class="hljs-keyword">const</span> goingUp = dy === <span class="hljs-number">-10</span>;\n      <span class="hljs-keyword">const</span> goingDown = dy === <span class="hljs-number">10</span>;\n      <span class="hljs-keyword">const</span> goingRight = dx === <span class="hljs-number">10</span>;\n      <span class="hljs-keyword">const</span> goingLeft = dx === <span class="hljs-number">-10</span>;\n      <span class="hljs-keyword">if</span> (keyPressed === LEFT_KEY &amp;&amp; !goingRight) {\n        dx = <span class="hljs-number">-10</span>;\n        dy = <span class="hljs-number">0</span>;\n      }\n\n      <span class="hljs-keyword">if</span> (keyPressed === UP_KEY &amp;&amp; !goingDown) {\n        dx = <span class="hljs-number">0</span>;\n        dy = <span class="hljs-number">-10</span>;\n      }\n\n      <span class="hljs-keyword">if</span> (keyPressed === RIGHT_KEY &amp;&amp; !goingLeft) {\n        dx = <span class="hljs-number">10</span>;\n        dy = <span class="hljs-number">0</span>;\n      }\n\n      <span class="hljs-keyword">if</span> (keyPressed === DOWN_KEY &amp;&amp; !goingUp) {\n        dx = <span class="hljs-number">0</span>;\n        dy = <span class="hljs-number">10</span>;\n      }\n    }\n  </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>\n<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>\n</code></pre><h3>ç»“å°¾</h3>\n<p>æ­å–œï¼ğŸ‰ğŸ‘</p>\n<p>æˆ‘ä»¬å·²ç»èµ°å®Œäº†è¿™æ¬¡æ—…ç¨‹ã€‚å¸Œæœ›ä½ å–œæ¬¢å’Œæˆ‘ä¸€èµ·å­¦ä¹ ï¼Œå¹¶ä¸”æœ‰ä¿¡å¿ƒç»§ç»­æŒ‘æˆ˜ä¸‹ä¸€æ¬¡å†’é™©ã€‚</p>\n<p>ä¸è¿‡ç°åœ¨è¿˜ä¸å¿…å‘Šåˆ«ã€‚æˆ‘çš„ä¸‹ä¸€ç¯‡æ–‡ç« å°†é‡ç‚¹ä»‹ç»å¦‚ä½•å¸®åŠ©æ‚¨å¼€å¯<strong>éå¸¸</strong>ä»¤äººå…´å¥‹çš„<strong>å¼€æº</strong>ä¸–ç•Œã€‚</p>\n<p><a href="https://en.wikipedia.org/wiki/Open-source_software">å¼€æº</a>æ˜¯å­¦ä¹ <strong>è®¸å¤š</strong>æ–°çŸ¥è¯†ã€ç»“è¯†å¤§ä½¬çš„å¥½æ–¹æ³•ã€‚è™½ç„¶æœ€åˆæœªå¿…æ•¢äºå°è¯•ï¼Œä½†è¿™æ¯«æ— ç–‘é—®æ˜¯éå¸¸æœ‰ä»·å€¼çš„ã€‚</p>\n<p>å¦‚æœæƒ³è¦æ”¶åˆ°æˆ‘ä¸‹ä¸€ç¯‡æ–‡ç« çš„å‘å¸ƒé€šçŸ¥ï¼Œå¯ä»¥å…³æ³¨æˆ‘ï¼ğŸ“«</p>\n<p>å¾ˆé«˜å…´èƒ½å’Œä½ ä¸€èµ·è¸ä¸Šè¿™æ®µæ—…ç¨‹ã€‚</p>\n<p>æœŸå¾…ä¸‹æ¬¡å†è§ã€‚âœ¨</p>\n\n          \n';s=(s=(s=(s=s.replace(/"{/g,"{")).replace(/{"/g,"{")).replace(/"}/g,"}")).replace(/}"/g,"}"),$("#row").html(s)})</script></div><h1 id="ç‰ˆæƒå£°æ˜">ç‰ˆæƒå£°æ˜</h1><p>åŸæ–‡é“¾æ¥: <a href="https://www.zcfy.cc/article/think-like-a-programmer-how-to-build-snake-using-only-javascript-html-css">https://www.zcfy.cc/article/think-like-a-programmer-how-to-build-snake-using-only-javascript-html-css</a> åŸæ–‡æ ‡é¢˜: åƒç¨‹åºå‘˜ä¸€æ ·æ€è€ƒï¼šå¦‚ä½•åªä½¿ç”¨ JavaScriptï¼ŒHTML å’Œ CSS å¼€å‘è´ªé£Ÿè›‡æ¸¸æˆ æœ¬æ–‡ä»…ç”¨äºå­¦ä¹ ã€ç ”ç©¶å’Œäº¤æµç›®çš„ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€å®Œæ•´é“¾æ¥ä»¥åŠåŸä½œè€…ã€‚</p><p>æœ¬æ–‡èµ„æºæ¥æºäº’è”ç½‘ï¼Œä»…ä¾›å­¦ä¹ ç ”ç©¶ä½¿ç”¨ï¼Œç‰ˆæƒå½’è¯¥èµ„æºçš„åˆæ³•æ‹¥æœ‰è€…æ‰€æœ‰ï¼Œ</p><p>åŸä½œè€…è‹¥è®¤ä¸ºæœ¬ç«™ä¾µçŠ¯äº†æ‚¨çš„ç‰ˆæƒï¼Œè¯·è”ç³»æˆ‘ä»¬ï¼Œæˆ‘ä»¬ä¼šç«‹å³åˆ é™¤ï¼</p><h2>æœ¬æ–‡é“¾æ¥ï¼š</h2><a href="https://alili.tech/archive/bdd791ff/" target="_blank">https://alili.tech/archive/bdd791ff/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({el:".blog-post-comments",app_id:"ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz",app_key:"hLhtmd4tT0qJbyO2SgQ8odya",placeholder:"è¯´ç‚¹ä»€ä¹ˆ?",avatar:"retro",notify:!0,verify:!0})</script><ul id="more-post-list" class="archive readmore"><h3>æ¨èé˜…è¯»</h3><li><a href="/archive/vi32h2qgdt/">JavaScriptç‚¹å‡»äº‹ä»¶â€”â€”ç¾å¥³åˆé›†<aside class="dates">2018-11-16</aside></a></li><li><a href="/archive/h1hfkoy4as/">Web UI è‡ªåŠ¨åŒ–æµ‹è¯•æŠ€æœ¯é€‰å‹<aside class="dates">2018-11-16</aside></a></li><li><a href="/archive/2ehenm5fx2r/">ã€åŸºç¡€ã€‘å›ºå®šåˆ—å®½çš„è¡¨æ ¼åŠç¤ºä¾‹æ¼”ç¤º<aside class="dates">2018-11-16</aside></a></li><li><a href="/archive/bp751dpaao6/">ç§»åŠ¨ç«¯å¼€å‘å•ä½â€”â€”remï¼ŒåŠ¨æ€ä½¿ç”¨<aside class="dates">2018-11-16</aside></a></li><li><a href="/archive/w0ea6x92n7j/">é¢„å‘Šï¼šJavascriptå…¨æ ˆå¼€å‘çš„ç³»åˆ—æ–‡ç« <aside class="dates">2018-11-16</aside></a></li><li><a href="/archive/nh5d5ddjtjs/">CORS è·¨åŸŸæºå¸¦ Cookie å‘é€è¯·æ±‚<aside class="dates">2018-11-16</aside></a></li><li><a href="/archive/32ufjbf3p3i/">ES6æ·±å…¥æµ…å‡º Generator<aside class="dates">2018-11-16</aside></a></li><li><a href="/archive/tgareq08se/">H5ç§»åŠ¨ç«¯å¼€å‘<aside class="dates">2018-11-16</aside></a></li><li><a href="/archive/kuarhdceuz/">JSé¢è¯•ç†è®ºé¢˜<aside class="dates">2018-11-16</aside></a></li><li><a href="/archive/82gahy2bcol/">JavaScript ES6åŠŸèƒ½æ¦‚è¿°ï¼ˆECMAScript 6å’ŒES2015 &#43;ï¼‰<aside class="dates">2018-11-16</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright Â© 2018 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">æµ™ICPå¤‡18045521å·</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/js/main.js"></script><script>!function(){var t=document.createElement("script"),e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}()</script><script>!function(){var d="http:"==document.location.protocol?"http://js.passport.qihucdn.com/11.0.1.js?05520debdbedd780ba345d83b7d5e6f4":"https://jspassport.ssl.qhimg.com/11.0.1.js?05520debdbedd780ba345d83b7d5e6f4";document.write('<script src="'+d+'" id="sozz"><\/script>')}()</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></body></html>