<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="JS学习系列 01 - 编译原理和作用域"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>JS学习系列 01 - 编译原理和作用域 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/xpccu0hsqbr/",
				"appid": "1613049289050283", 
				"title": "JS学习系列 01 - 编译原理和作用域 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-28T02:30:10"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/shv09bbtbfd/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/5328xogjarn/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fxpccu0hsqbr%2f&text=JS%e5%ad%a6%e4%b9%a0%e7%b3%bb%e5%88%97%2001%20-%20%e7%bc%96%e8%af%91%e5%8e%9f%e7%90%86%e5%92%8c%e4%bd%9c%e7%94%a8%e5%9f%9f"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fxpccu0hsqbr%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fxpccu0hsqbr%2f&text=JS%e5%ad%a6%e4%b9%a0%e7%b3%bb%e5%88%97%2001%20-%20%e7%bc%96%e8%af%91%e5%8e%9f%e7%90%86%e5%92%8c%e4%bd%9c%e7%94%a8%e5%9f%9f"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fxpccu0hsqbr%2f&title=JS%e5%ad%a6%e4%b9%a0%e7%b3%bb%e5%88%97%2001%20-%20%e7%bc%96%e8%af%91%e5%8e%9f%e7%90%86%e5%92%8c%e4%bd%9c%e7%94%a8%e5%9f%9f"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fxpccu0hsqbr%2f&is_video=false&description=JS%e5%ad%a6%e4%b9%a0%e7%b3%bb%e5%88%97%2001%20-%20%e7%bc%96%e8%af%91%e5%8e%9f%e7%90%86%e5%92%8c%e4%bd%9c%e7%94%a8%e5%9f%9f"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=JS%e5%ad%a6%e4%b9%a0%e7%b3%bb%e5%88%97%2001%20-%20%e7%bc%96%e8%af%91%e5%8e%9f%e7%90%86%e5%92%8c%e4%bd%9c%e7%94%a8%e5%9f%9f&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fxpccu0hsqbr%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fxpccu0hsqbr%2f&title=JS%e5%ad%a6%e4%b9%a0%e7%b3%bb%e5%88%97%2001%20-%20%e7%bc%96%e8%af%91%e5%8e%9f%e7%90%86%e5%92%8c%e4%bd%9c%e7%94%a8%e5%9f%9f"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fxpccu0hsqbr%2f&title=JS%e5%ad%a6%e4%b9%a0%e7%b3%bb%e5%88%97%2001%20-%20%e7%bc%96%e8%af%91%e5%8e%9f%e7%90%86%e5%92%8c%e4%bd%9c%e7%94%a8%e5%9f%9f"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fxpccu0hsqbr%2f&title=JS%e5%ad%a6%e4%b9%a0%e7%b3%bb%e5%88%97%2001%20-%20%e7%bc%96%e8%af%91%e5%8e%9f%e7%90%86%e5%92%8c%e4%bd%9c%e7%94%a8%e5%9f%9f"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fxpccu0hsqbr%2f&title=JS%e5%ad%a6%e4%b9%a0%e7%b3%bb%e5%88%97%2001%20-%20%e7%bc%96%e8%af%91%e5%8e%9f%e7%90%86%e5%92%8c%e4%bd%9c%e7%94%a8%e5%9f%9f"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">JS学习系列 01 - 编译原理和作用域</h1><div class="meta"><div class="postdate"><time datetime="2019-01-28" itemprop="datePublished">2019-01-28</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e在学习 javascript 的过程中，我们第一步最应该了解和掌握的就是作用域，与之相关还有程序是怎么编译的，变量是怎么查找的，js 引擎是什么，引擎和作用域的关系又是什么，这些是 javascript 这门语言最基础的地基，至于对象、函数、闭包、原型链、作用域链以及设计模式等等都是地基以上的建筑，只有地基打牢了，建筑才会稳。同样只有先把最基础的部分掌握了，之后的扩展学习才会更容易。\x3c\/p\x3e\n\x3cp\x3e这一节我要说的，就是作用域和编译原理，从这里开始，我会一点点的把深入学习 javascript 的过程中总结的知识点以及遇到的问题，一篇一篇的梳理出来，如果有志同道合的朋友，可以关注我这个系列，我们一起玩转 javascript。\x3c\/p\x3e\n\x3ch4\x3e1. 编译原理\x3c\/h4\x3e\n\x3cp\x3e大家通常把 javascript 归类为一种“动态”或“解释执行”的语言，但事实上，它是一门编译语言，但和传统的编译语言不同，它不是提前编译的，编译结果也不能进行移植。\x3c\/p\x3e\n\x3cp\x3e在传统编译语言中，程序在执行之前会经历三个步骤，统称为“编译”：\x3c\/p\x3e\n\x3cul\x3e\x3cli\x3e\x3cstrong\x3e分词\/词法分析\x3c\/strong\x3e\x3c\/li\x3e\x3c\/ul\x3e\n\x3cp\x3e这个过程会把字符串分解成有意义的代码块，这些代码块被称为\x3cstrong\x3e词法单元\x3c\/strong\x3e。\x3cbr\x3e例如 \x3cstrong\x3e\x3cem\x3evar a = 5;\x3c\/em\x3e\x3c\/strong\x3e 这段程序通常会被分解成下面这些词法单元： var、a、=、5、; 。空格是否会被当成词法单元取决于空格在这门语言中是否有意义。\x3c\/p\x3e\n\x3cul\x3e\x3cli\x3e\x3cstrong\x3e解析\/语法分析\x3c\/strong\x3e\x3c\/li\x3e\x3c\/ul\x3e\n\x3cp\x3e这个过程是将词法单元流（数组）转换成一个由元素逐级嵌套所组成的代表了程序语法结构的树。这个树被称为“抽象语法树”（Abstract Syntax Tree，AST）。\x3cbr\x3e\x3cstrong\x3e\x3cem\x3evar a = 5;\x3c\/em\x3e\x3c\/strong\x3e 的抽象语法树中可能如下图所示：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000008408444\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000008408444\x22 alt=\x22抽象语法树\x22 title=\x22抽象语法树\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cul\x3e\x3cli\x3e\x3cstrong\x3e代码生成\x3c\/strong\x3e\x3c\/li\x3e\x3c\/ul\x3e\n\x3cp\x3e将 AST 转换为可执行代码的过程被称为代码生成。这个过程与语言、目标平台等息息相关。简单来说，就是通过某种方法可以将 \x3cstrong\x3e\x3cem\x3evar a = 5;\x3c\/em\x3e\x3c\/strong\x3e 的 AST 转化为一组机器指令，用来创建一个叫做 a 的变量（包括分配内存等），并将一个值 5 存储在 a 中。\x3c\/p\x3e\n\x3cp\x3e比起那些编译过程只有三个步骤的语言的编译器来说，\x3cstrong\x3ejavascript 引擎要复杂的多\x3c\/strong\x3e。\x3cbr\x3e例如，在词法分析和代码生成阶段有特定的步骤来对\x3cstrong\x3e运行性能进行优化\x3c\/strong\x3e，包括对\x3cstrong\x3e冗余元素进行优化\x3c\/strong\x3e等。\x3c\/p\x3e\n\x3cp\x3e首先我们要清楚，javaScript 引擎不会有太多的时间来进行优化（相对于其它语言的编译器来说），因为与其它语言不同，javascript 的编译过程\x3cstrong\x3e不是发生在构建之前的\x3c\/strong\x3e。\x3c\/p\x3e\n\x3cp\x3e对于 javascript 来说，大部分情况下编译发生在\x3cstrong\x3e代码执行前的几微秒（甚至更短）的时间\x3c\/strong\x3e内。在我们将要讨论的作用域背后，javascript 引擎用尽了各种办法（比如 JIT，可以延迟编译甚至重新编译）来保证性能最佳。\x3c\/p\x3e\n\x3cp\x3e总结来说，任何 javascript 代码片段在执行前都要进行编译（\x3cstrong\x3e预编译\x3c\/strong\x3e）。因此，javascript 编译器首先会对 \x3cstrong\x3e\x3cem\x3evar a = 5;\x3c\/em\x3e\x3c\/strong\x3e 这段程序进行编译，然后做好执行它的准备，并且通常马上就会执行它。\x3c\/p\x3e\n\x3ch4\x3e2. 三位好友\x3c\/h4\x3e\n\x3cp\x3e要真正理解作用域，我们首先要知道 javascript 中有三位好朋友：\x3c\/p\x3e\n\x3cul\x3e\x3cli\x3e\x3cstrong\x3e引擎\x3c\/strong\x3e\x3c\/li\x3e\x3c\/ul\x3e\n\x3cp\x3e从头到尾负责整个 javascript 程序的编译及执行过程。\x3c\/p\x3e\n\x3cul\x3e\x3cli\x3e\x3cstrong\x3e编译器\x3c\/strong\x3e\x3c\/li\x3e\x3c\/ul\x3e\n\x3cp\x3e负责语法分析及代码生成。\x3c\/p\x3e\n\x3cul\x3e\x3cli\x3e\x3cstrong\x3e作用域\x3c\/strong\x3e\x3c\/li\x3e\x3c\/ul\x3e\n\x3cp\x3e负责收集并维护由所有声明的标识符（变量）组成的一系列查询，并实施一套非常严格的规则，确定当前执行的代码对这些标识符的访问权限。\x3c\/p\x3e\n\x3cp\x3e当遇见 \x3cstrong\x3e\x3cem\x3evar a = 5;\x3c\/em\x3e\x3c\/strong\x3e 这一段代码时，其实执行了两个步骤：\x3c\/p\x3e\n\x3cp\x3e（1）\x3cstrong\x3e\x3cem\x3evar a;\x3c\/em\x3e\x3c\/strong\x3e 编译器会询问作用域是否已经有一个该名称的变量存在于同一作用域的集合中。如果是，编译器会忽略该声明，继续进行编译，否则它会要求在当前作用域的集合中声明一个新的变量，并命名为 a 。\x3cbr\x3e（2）\x3cstrong\x3e\x3cem\x3ea = 5;\x3c\/em\x3e\x3c\/strong\x3e 编译器会为引擎生成运行时所需的代码，这些代码用来处理 \x3cstrong\x3e\x3cem\x3ea = 5;\x3c\/em\x3e\x3c\/strong\x3e 这个赋值操作。引擎运行时会首先询问作用域，在当前作用域的集合中是否存在一个叫作 a 的变量，如果是，引擎就会使用这个变量。如果否，引擎会继续向父级作用域中查找，直到找到全局作用域，如果在全局作用域中仍没有找到 a ，那么在\x3cstrong\x3e非严格模式\x3c\/strong\x3e下，引擎会为全局对象新建一个属性 a ，并将其赋值为5，在\x3cstrong\x3e严格模式\x3c\/strong\x3e下，引擎会报错误 \x3cstrong\x3eReferenceError: a is not defined\x3c\/strong\x3e。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e总结来说\x3c\/strong\x3e，变量的赋值会执行两个操作，\x3cstrong\x3e首先\x3c\/strong\x3e编译器会在当前作用域声明一个变量（如果之前没有声明过），\x3cstrong\x3e然后\x3c\/strong\x3e在运行时引擎会在当前作用域中查找该变量（找不到就向上一级作用域查找），如果能够找到就会对它赋值。\x3c\/p\x3e\n\x3ch4\x3e3. LHS 和 RHS\x3c\/h4\x3e\n\x3cp\x3e前面说到引擎在为变量赋值的时候会在作用域中查找变量，但是执行怎样的查找，用什么方式，会对最终的查找结果造成影响。\x3c\/p\x3e\n\x3cp\x3e在 \x3cstrong\x3e\x3cem\x3evar a = 5;\x3c\/em\x3e\x3c\/strong\x3e 这个例子中，引擎会对 a 进行 LHS 查询，当然，另外一个查找类型叫作 RHS。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e对变量进行赋值所执行的查询叫 LHS。\x3c\/strong\x3e\x3cbr\x3e\x3cstrong\x3e找到并使用变量值所执行的查询叫 RHS。\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e举个例子：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function foo(a) {\n   \/\/ 这里隐式包含了 a = 2 这个赋值，所以对 a 进行了 LHS 查询\n   var b = a;\n   \/\/ 这里对 a 进行了 RHS 查询，找到 a 的值，然后对 b 进行 LHS 查询，把 2 赋值给 b\n   return a \x2b b; \n   \/\/ 这里包含了对 a 和 b 进行的 RHS 查询\n}\n\nvar c = foo(2);\n\/\/ 这里首先对 foo 进行 RHS 查询，找到它是一个函数，然后对 c 进行 LHS 查询把 foo 赋值给 c \x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs actionscript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3efoo\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(a)\x3c\/span\x3e \x3c\/span\x3e{\n   \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 这里隐式包含了 a = 2 这个赋值，所以对 a 进行了 LHS 查询\x3c\/span\x3e\n   \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e b = a;\n   \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 这里对 a 进行了 RHS 查询，找到 a 的值，然后对 b 进行 LHS 查询，把 2 赋值给 b\x3c\/span\x3e\n   \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e a \x2b b; \n   \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 这里包含了对 a 和 b 进行的 RHS 查询\x3c\/span\x3e\n}\n\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e c = foo(\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e);\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 这里首先对 foo 进行 RHS 查询，找到它是一个函数，然后对 c 进行 LHS 查询把 foo 赋值给 c \x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cstrong\x3e所以上面的例子共包含 3 个 LHS 查询和 4 个 RHS 查询，你们都找对了吗？\x3c\/strong\x3e\x3c\/p\x3e\n\x3ch4\x3e4. 作用域嵌套\x3c\/h4\x3e\n\x3cp\x3e当一个块或函数嵌套在另一个块或函数中时，就发生了作用域嵌套。因此，在当前作用域中无法找到某个变量时，引擎就会在外层嵌套的作用域中继续查找，直到找到该变量，或抵达最外层的作用域（也就是全局作用域）为止。\x3c\/p\x3e\n\x3cp\x3e举个例子：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function foo(a) {\n   console.log(a \x2b b);\n}\n\nvar b = 2;\n\nfoo(2);    \/\/ 4\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3efoo\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ea\x3c\/span\x3e) \x3c\/span\x3e{\n   \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(a \x2b b);\n}\n\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e b = \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e;\n\nfoo(\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e);    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 4\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这里对 b 进行的 RHS 查询在 foo 作用域中无法找到，但可以在上一级作用域（这个例子中就是全局作用域）中找到。\x3c\/p\x3e\n\x3cp\x3e总结来说，遍历嵌套作用域链的规则很简单：引擎从当前执行的作用域中开始查找变量，如果都找不到，就向上一级继续查找。当抵达最外层的全局作用域时，无论找到还是没找到，查找过程都会停止。\x3c\/p\x3e\n\x3ch4\x3e5. 总结\x3c\/h4\x3e\n\x3cp\x3e编译器、引擎和作用域是 javascript 代码执行的基础，掌握好这些会对我们深入学习 javascript 起到事半功倍的效果，我们的学习之路才刚刚开始，大家加油！\x3c\/p\x3e\n\x3ch4\x3e参考文章\x3c\/h4\x3e\n\x3col\x3e\x3cli\x3e《你不知道的JavaScript》\x3c\/li\x3e\x3c\/ol\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>JS学习系列 01 - 编译原理和作用域</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000007991284">https://segmentfault.com/a/1190000007991284</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/xpccu0hsqbr/" target="_blank">https://alili.tech/archive/xpccu0hsqbr/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/z09muaar7j/">2年前端应该会哪些技能<aside class="dates">2019-02-01</aside></a></li><li><a href="/archive/ke982v6qrfg/">CSS 性能优化笔记<aside class="dates">2019-02-01</aside></a></li><li><a href="/archive/if1i2hs28ah/">H5打造3d场景不完全攻略（二）: Amazing CSS3D<aside class="dates">2019-02-01</aside></a></li><li><a href="/archive/s4apghsr7o/">JS原生一步步实现前端路由和单页面应用<aside class="dates">2019-02-01</aside></a></li><li><a href="/archive/hjgkntbgqek/">JavaScript 中对大量数据的多重过滤<aside class="dates">2019-02-01</aside></a></li><li><a href="/archive/h1hfvr2a2nj/">JavaScript 中的错误处理机制<aside class="dates">2019-02-01</aside></a></li><li><a href="/archive/a0ukpm125gm/">JavaScript 数组分组的实现<aside class="dates">2019-02-01</aside></a></li><li><a href="/archive/fwosouhbhmj/">JavaScript 类型转换深度学习<aside class="dates">2019-02-01</aside></a></li><li><a href="/archive/z193p9xv2p/">JavaScript设计模式之发布-订阅模式（观察者模式）-Part1<aside class="dates">2019-02-01</aside></a></li><li><a href="/archive/6i7sr0vgkxm/">Javascript中的时间<aside class="dates">2019-02-01</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>