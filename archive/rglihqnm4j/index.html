<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="我所不知的 JS"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>我所不知的 JS | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/rglihqnm4j/",
				"appid": "1613049289050283", 
				"title": "我所不知的 JS | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-25T02:30:23"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/st3zqi4mdmf/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/84ezp8lesnv/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2frglihqnm4j%2f&text=%e6%88%91%e6%89%80%e4%b8%8d%e7%9f%a5%e7%9a%84%20JS"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2frglihqnm4j%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2frglihqnm4j%2f&text=%e6%88%91%e6%89%80%e4%b8%8d%e7%9f%a5%e7%9a%84%20JS"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2frglihqnm4j%2f&title=%e6%88%91%e6%89%80%e4%b8%8d%e7%9f%a5%e7%9a%84%20JS"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2frglihqnm4j%2f&is_video=false&description=%e6%88%91%e6%89%80%e4%b8%8d%e7%9f%a5%e7%9a%84%20JS"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e6%88%91%e6%89%80%e4%b8%8d%e7%9f%a5%e7%9a%84%20JS&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2frglihqnm4j%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2frglihqnm4j%2f&title=%e6%88%91%e6%89%80%e4%b8%8d%e7%9f%a5%e7%9a%84%20JS"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2frglihqnm4j%2f&title=%e6%88%91%e6%89%80%e4%b8%8d%e7%9f%a5%e7%9a%84%20JS"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2frglihqnm4j%2f&title=%e6%88%91%e6%89%80%e4%b8%8d%e7%9f%a5%e7%9a%84%20JS"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2frglihqnm4j%2f&title=%e6%88%91%e6%89%80%e4%b8%8d%e7%9f%a5%e7%9a%84%20JS"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">我所不知的 JS</h1><div class="meta"><div class="postdate"><time datetime="2019-01-25" itemprop="datePublished">2019-01-25</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n            \x3ch1\x3e我所不知的 JS\x3c\/h1\x3e\n\x3cp\x3e几天前在阅读 MDN 文档时我发现了一些我从来不知道的 JS 特性和 API。 下面是一份简短的清单， 无论有用不有用 -- 学习 JS 的道路似乎是没有尽头的。\x3c\/p\x3e\n\x3ch2\x3e\x3ca href=\x22https:\/\/developer.mozilla.org\/en-US\/docs\/Web\/JavaScript\/Reference\/Statements\/label\x22\x3e标签语句\x3c\/a\x3e\x3c\/h2\x3e\n\x3cp\x3e在 JS 中，你可以对 \x3ccode\x3efor\x3c\/code\x3e 循环和代码块起名字... 谁知道呢（显然我不知道）！ 稍后你可以在\x3ccode\x3efor\x3c\/code\x3e 循环中对该代码使用 \x3ccode\x3ebreak\x3c\/code\x3e 或 \x3ccode\x3econtinue\x3c\/code\x3e 语句， 同时在代码块中也可以使用 \x3ccode\x3ebreak\x3c\/code\x3e。\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs jboss-cli\x22\x3eloop1: \x3cspan class=\x22hljs-string\x22\x3e\/\/\x3c\/span\x3e labeling \x3cspan class=\x22hljs-string\x22\x3e\x22loop1\x22\x3c\/span\x3e \nfor \x3cspan class=\x22hljs-params\x22\x3e(let \x3cspan class=\x22hljs-attr\x22\x3ei\x3c\/span\x3e = 0; i \x26lt; 3; i\x2b\x2b)\x3c\/span\x3e { \x3cspan class=\x22hljs-string\x22\x3e\/\/\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22loop1\x22\x3c\/span\x3e\n   loop2: \x3cspan class=\x22hljs-string\x22\x3e\/\/\x3c\/span\x3e labeling \x3cspan class=\x22hljs-string\x22\x3e\x22loop2\x22\x3c\/span\x3e\n   for \x3cspan class=\x22hljs-params\x22\x3e(let \x3cspan class=\x22hljs-attr\x22\x3ej\x3c\/span\x3e = 0; j \x26lt; 3; j\x2b\x2b)\x3c\/span\x3e { \x3cspan class=\x22hljs-string\x22\x3e\/\/\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22loop2\x22\x3c\/span\x3e\n      \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e \x3cspan class=\x22hljs-params\x22\x3e(\x3cspan class=\x22hljs-attr\x22\x3ei\x3c\/span\x3e === 1)\x3c\/span\x3e {\n         continue loop1; \x3cspan class=\x22hljs-string\x22\x3e\/\/\x3c\/span\x3e continues upper \x3cspan class=\x22hljs-string\x22\x3e\x22loop1\x22\x3c\/span\x3e\n         \x3cspan class=\x22hljs-string\x22\x3e\/\/\x3c\/span\x3e break loop1; \x3cspan class=\x22hljs-string\x22\x3e\/\/\x3c\/span\x3e breaks out of upper \x3cspan class=\x22hljs-string\x22\x3e\x22loop1\x22\x3c\/span\x3e\n      }\n      console.log\x3cspan class=\x22hljs-params\x22\x3e(`\x3cspan class=\x22hljs-attr\x22\x3ei\x3c\/span\x3e = ${i}, \x3cspan class=\x22hljs-attr\x22\x3ej\x3c\/span\x3e = ${j}`)\x3c\/span\x3e;\n   }\n}\n\n\/* \n * \x3cspan class=\x22hljs-comment\x22\x3e# Output\x3c\/span\x3e\n * i = 0, j = 0\n * i = 0, j = 1\n * i = 0, j = 2\n * i = 2, j = 0\n * i = 2, j = 1\n * i = 2, j = 2\n *\/\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e这是一个对代码块命名的例子，在代码块中只能使用 \x3ccode\x3ebreak\x3c\/code\x3e\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs javascript\x22\x3efoo: {\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27one\x27\x3c\/span\x3e);\n  \x3cspan class=\x22hljs-keyword\x22\x3ebreak\x3c\/span\x3e foo;\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27this log will not be executed\x27\x3c\/span\x3e);\n}\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27two\x27\x3c\/span\x3e);\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/*\n * # Output\n * one\n * two\n *\/\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3ch2\x3e\x3ca href=\x22https:\/\/developer.mozilla.org\/en-US\/docs\/Web\/JavaScript\/Reference\/Operators\/void\x22\x3e\x22void\x22 操作符\x3c\/a\x3e\x3c\/h2\x3e\n\x3cp\x3e这之前我一直以为我掌握了所有的操作符，直到我看到了这个 \x3ca href=\x22https:\/\/developer.mozilla.org\/en-US\/docs\/Web\/JavaScript\/New_in_JavaScript\/1.1\x22\x3e从 1996 年就有\x3c\/a\x3e.的操作符。 所有浏览器都支持也非常的好理解， 用 MDN 的话：\x3c\/p\x3e\n\x3cblockquote\x3e\n\x3cp\x3evoid 操作符执行表达式之后同时返回 undefined\x3c\/p\x3e\n\x3c\/blockquote\x3e\n\x3cp\x3e这样可以写出立即执行函数的另一种形式：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evoid\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eiife\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27hello\x27\x3c\/span\x3e);\n}();\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ is the same as...\x3c\/span\x3e\n\n(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eiife\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27hello\x27\x3c\/span\x3e);\n})()\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e对 void 的使用需要注意的是，表达式的执行结果是 空（undefined）！\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs actionscript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e word = \x3cspan class=\x22hljs-keyword\x22\x3evoid\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eiife\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27hello\x27\x3c\/span\x3e;\n}();\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ word is \x22undefined\x22\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e word = (\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eiife\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27hello\x27\x3c\/span\x3e;\n})();\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ word is \x22hello\x22\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e你可以将 \x3ccode\x3easync\x3c\/code\x3e 与 \x3ccode\x3evoid\x3c\/code\x3e 相结合， 即可作为代码中的异步入口点：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evoid\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3easync\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{ \n    \x3cspan class=\x22hljs-keyword\x22\x3etry\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e response = \x3cspan class=\x22hljs-keyword\x22\x3eawait\x3c\/span\x3e fetch(\x3cspan class=\x22hljs-string\x22\x3e\x27air.ghost.io\x27\x3c\/span\x3e); \n        \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e text = \x3cspan class=\x22hljs-keyword\x22\x3eawait\x3c\/span\x3e response.text();\n        \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(text);\n    } \x3cspan class=\x22hljs-keyword\x22\x3ecatch\x3c\/span\x3e(e) {\n        \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.error(e);\n    }\n}()\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ or just stick to this :)\x3c\/span\x3e\n\n(\x3cspan class=\x22hljs-keyword\x22\x3easync\x3c\/span\x3e () =\x26gt; {\n    \x3cspan class=\x22hljs-keyword\x22\x3etry\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e response = \x3cspan class=\x22hljs-keyword\x22\x3eawait\x3c\/span\x3e fetch(\x3cspan class=\x22hljs-string\x22\x3e\x27air.ghost.io\x27\x3c\/span\x3e); \n        \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e text = \x3cspan class=\x22hljs-keyword\x22\x3eawait\x3c\/span\x3e response.text();\n        \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(text);\n    } \x3cspan class=\x22hljs-keyword\x22\x3ecatch\x3c\/span\x3e(e) {\n        \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.error(e);\n    }\n})();\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3ch2\x3e\x3ca href=\x22https:\/\/developer.mozilla.org\/en-US\/docs\/Web\/JavaScript\/Reference\/Operators\/Comma_Operator\x22\x3e逗号操作符\x3c\/a\x3e\x3c\/h2\x3e\n\x3cp\x3e在阅读完逗号表达式之后， 我并没有感到我完全理解了它是如何工作的。 引用 MDN 的话：\x3c\/p\x3e\n\x3cblockquote\x3e\n\x3cp\x3e逗号操作符执行其所有的操作数（从左到右）并返回最后一个操作数的结果。\x3c\/p\x3e\n\x3c\/blockquote\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs coffeescript\x22\x3efunction myFunc() {\n  let x = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e (x \x2b= \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, x); \x3cspan class=\x22hljs-regexp\x22\x3e\/\/\x3c\/span\x3e same \x3cspan class=\x22hljs-keyword\x22\x3eas\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x2b\x2bx;\n}\n\ny = \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e, \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e; \x3cspan class=\x22hljs-regexp\x22\x3e\/\/\x3c\/span\x3e returns \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ein\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(y); \x3cspan class=\x22hljs-regexp\x22\x3e\/\/\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e (left-most)\n\nz = (\x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e, \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e); \x3cspan class=\x22hljs-regexp\x22\x3e\/\/\x3c\/span\x3e returns \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ein\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(z); \x3cspan class=\x22hljs-regexp\x22\x3e\/\/\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e (right-most)\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3ch3\x3e与 \x3ca href=\x22https:\/\/developer.mozilla.org\/en-US\/docs\/Web\/JavaScript\/Reference\/Operators\/Conditional_Operator\x22\x3e条件操作符\x3c\/a\x3e 一起使用\x3c\/h3\x3e\n\x3cp\x3e逗号操作符的最后一个结果总是作为条件操作符的结果。 所以你可以在这之前放入任意数量的表达式， 在下面的例子中，我在返回的布尔值之前都放了一句 console log。\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs typescript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3etype\x3c\/span\x3e = \x3cspan class=\x22hljs-string\x22\x3e\x27man\x27\x3c\/span\x3e;\n\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e isMale = \x3cspan class=\x22hljs-keyword\x22\x3etype\x3c\/span\x3e === \x3cspan class=\x22hljs-string\x22\x3e\x27man\x27\x3c\/span\x3e ? (\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27Hi Man!\x27\x3c\/span\x3e),\n    \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e\n) : (\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27Hi Lady!\x27\x3c\/span\x3e),\n    \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e\n);\n\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e`isMale is \x22\x3cspan class=\x22hljs-subst\x22\x3e${isMale}\x3c\/span\x3e\x22`\x3c\/span\x3e);\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3ch2\x3e\x3ca href=\x22https:\/\/developer.mozilla.org\/en-US\/docs\/Web\/JavaScript\/Reference\/Global_Objects\/Intl\x22\x3e国际化 API\x3c\/a\x3e\x3c\/h2\x3e\n\x3cp\x3e在当前国际化要做好很难， 幸运的是，在大部门浏览器中都有 \x3ca href=\x22https:\/\/caniuse.com\/#feat=internationalization\x22\x3e较好的 API 支持。\x3c\/a\x3e 其中我所喜欢的其中一项就是日期格式化， 看下面的例子。\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs qml\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3edate\x3c\/span\x3e = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eDate\x3c\/span\x3e();\n\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e options = {\n  \x3cspan class=\x22hljs-attribute\x22\x3eyear\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27numeric\x27\x3c\/span\x3e, \n  \x3cspan class=\x22hljs-attribute\x22\x3emonth\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27long\x27\x3c\/span\x3e, \n  \x3cspan class=\x22hljs-attribute\x22\x3eday\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27numeric\x27\x3c\/span\x3e\n};\n\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e formatter1 = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eIntl\x3c\/span\x3e.DateTimeFormat(\x3cspan class=\x22hljs-string\x22\x3e\x27es-es\x27\x3c\/span\x3e, options);\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(formatter1.format(\x3cspan class=\x22hljs-built_in\x22\x3edate\x3c\/span\x3e)); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 22 de diciembre de 2017\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e formatter2 = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eIntl\x3c\/span\x3e.DateTimeFormat(\x3cspan class=\x22hljs-string\x22\x3e\x27en-us\x27\x3c\/span\x3e, options);\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(formatter2.format(\x3cspan class=\x22hljs-built_in\x22\x3edate\x3c\/span\x3e)); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ December 22, 2017\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3ch2\x3e\x3ca href=\x22https:\/\/developer.mozilla.org\/en-US\/docs\/Web\/JavaScript\/Reference\/Operators\/Pipeline_operator\x22\x3e管道操作符\x3c\/a\x3e\x3c\/h2\x3e\n\x3cp\x3e在撰写本篇文章时，此功能仅在 Firefox 58\x2b 使用参数开启， 然而在 Babel 中已经有一个针对此操作符提案的 \x3ca href=\x22https:\/\/github.com\/babel\/babel\/tree\/master\/packages\/babel-plugin-proposal-pipeline-operator\x22\x3e插件\x3c\/a\x3e了。 看起来非常好，我很喜欢！\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e square = \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3en\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e n * n;\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e increment = \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3en\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e n \x2b \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ without pipeline operator\x3c\/span\x3e\nsquare(increment(square(\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e))); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 25\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ with pipeline operator\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e |\x26gt; square |\x26gt; increment |\x26gt; square; \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 25\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3ch1\x3e值得注意的\x3c\/h1\x3e\n\x3ch2\x3e\x3ca href=\x22https:\/\/developer.mozilla.org\/en-US\/docs\/Web\/JavaScript\/Reference\/Global_Objects\/Atomics\x22\x3e原子性\x3c\/a\x3e\x3c\/h2\x3e\n\x3cp\x3e原子操作带来了可预测的读写结果，特别是当数据在多个线程中共享时，下一个操作会等待其他操作完成之后才会被执行。 对于主线程和其他 WebWorker 之间保持数据同步来说非常有用。\x3c\/p\x3e\n\x3cp\x3e我很喜欢其他编程语言中的原子特性，例如 Java 中。 我觉得在之后使用 WebWorker 将事务从主线程中转移出来之后会使用得更多。\x3c\/p\x3e\n\x3ch2\x3e\x3ca href=\x22https:\/\/developer.mozilla.org\/en-US\/docs\/Web\/JavaScript\/Reference\/Global_Objects\/Array\/ReduceRight\x22\x3eArray.prototype.reduceRight\x3c\/a\x3e\x3c\/h2\x3e\n\x3cp\x3e我之前从未见过其使用，因为基本上他就是 \x3ccode\x3eArray.prototype.reduce()\x3c\/code\x3e 和 \x3ccode\x3eArray.prototype.reverse()\x3c\/code\x3e 的结合，对于它的使用应该是比较少见的，如果你需要的话，那这个还是挺合适你的！\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs smali\x22\x3econst flattened = [[0, 1], [2, 3], [4, 5]].reduceRight(function(a, b) {\n   \x3cspan class=\x22hljs-built_in\x22\x3e return \x3c\/span\x3ea.concat(b);\n}, []);\n\n\/\/ flattened\x3cspan class=\x22hljs-built_in\x22\x3e array \x3c\/span\x3eis [4, 5, 2, 3, 0, 1]\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3ch2\x3e\x3ca href=\x22https:\/\/developer.mozilla.org\/en-US\/docs\/Web\/API\/WindowOrWorkerGlobalScope\/setInterval\x22\x3esetTimeout() 参数\x3c\/a\x3e\x3c\/h2\x3e\n\x3cp\x3e在了解到这个功能之后节省了 \x3ccode\x3e.bind()\x3c\/code\x3e 的使用，这个特性从一开始就有了。\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs mel\x22\x3esetTimeout(alert, \x3cspan class=\x22hljs-number\x22\x3e1000\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27Hello world!\x27\x3c\/span\x3e);\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/*\n * # Output (alert)\n * Hello World!\n *\/\x3c\/span\x3e\n\nfunction \x3cspan class=\x22hljs-keyword\x22\x3elog\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3etext\x3c\/span\x3e, textTwo) {\n    console.\x3cspan class=\x22hljs-keyword\x22\x3elog\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3etext\x3c\/span\x3e, textTwo);\n}\n\nsetTimeout(\x3cspan class=\x22hljs-keyword\x22\x3elog\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e1000\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27Hello World!\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27And Mars!\x27\x3c\/span\x3e);\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/*\n * # Output\n * Hello World! And Mars!\n *\/\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3ch2\x3e\x3ca href=\x22https:\/\/developer.mozilla.org\/en-US\/docs\/Web\/API\/HTMLElement\/dataset\x22\x3eHTMLElement.dataset\x3c\/a\x3e\x3c\/h2\x3e\n\x3cp\x3e在之前我在 HTML 元素上使用自定义数据属性 \x3ccode\x3edata-*\x3c\/code\x3e，但我浑然不知有 API 能够轻松的做读取。 抛开一些特殊的命名限制（看标题链接），其基本上就是横线隔开在 JS 中使用时则用驼峰规则。 所以属性 \x3ccode\x3edata-birth-planet\x3c\/code\x3e 在 JS 中会变成 \x3ccode\x3ebirthPlanet\x3c\/code\x3e。\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs coffeescript\x22\x3e`\x3cspan class=\x22javascript\x22\x3e\x26lt;div\x26gt;\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e`\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e读取:\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e personEl = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.querySelector(\x3cspan class=\x22hljs-string\x22\x3e\x27#person\x27\x3c\/span\x3e);\n\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(person.dataset) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ DOMStringMap {name: \x22john\x22, birthPlanet: \x22earth\x22}\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(personEl.dataset.name) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ john\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(personEl.dataset.birthPlanet) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ earth\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ you can programmatically add more too\x3c\/span\x3e\npersonEl.dataset.foo = \x3cspan class=\x22hljs-string\x22\x3e\x27bar\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(personEl.dataset.foo); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ bar\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3ch1\x3e结语\x3c\/h1\x3e\n\x3cp\x3e希望你能在JS想我一样发现新东西。 同时为新的 MDN 网站给 Mozilla 打Call， 在我看来好多了 - 看完比我预期的时间要长。\x3c\/p\x3e\n\x3cp\x3eHappy New 2018!\x3c\/p\x3e\n\x3ch4\x3e\x3ca href=\x22http:\/\/air.ghost.io\/author\/skyllo\/\x22\x3eNick\x3c\/a\x3e\x3c\/h4\x3e\n\n          \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>我所不知的 JS</p><h2 id="原文链接">原文链接</h2><p><a href="https://www.zcfy.cc/article/js-things-i-never-knew-existed">https://www.zcfy.cc/article/js-things-i-never-knew-existed</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/rglihqnm4j/" target="_blank">https://alili.tech/archive/rglihqnm4j/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5x6tenwjeux/">ES6中的异步编程：Generators函数&#43;Promise:最强大的异步处理方式<aside class="dates">2019-01-31</aside></a></li><li><a href="/archive/nvtmua2a1hd/">GreenSock (TweenMax) 极简入门指南<aside class="dates">2019-01-31</aside></a></li><li><a href="/archive/7kt5s47oysx/">HTML5 中 canvas 的使用总结<aside class="dates">2019-01-31</aside></a></li><li><a href="/archive/41pgo3a2iyp/">JavaScript 开发者所需要知道的 V8（一）：V8 In NodeJS<aside class="dates">2019-01-31</aside></a></li><li><a href="/archive/krb1zm7x38j/">JavaScript 时间与日期处理实战:你肯定被坑过<aside class="dates">2019-01-31</aside></a></li><li><a href="/archive/yh2lq30d0x/">JavaScript中的各种宽高属性<aside class="dates">2019-01-31</aside></a></li><li><a href="/archive/eydwczesyv/">Muse UI — 基于 Vue2.0 的 Material Design UI 库<aside class="dates">2019-01-31</aside></a></li><li><a href="/archive/y62oejm8cr/">Nodejs基础：路径处理模块path总结<aside class="dates">2019-01-31</aside></a></li><li><a href="/archive/06cwh88ankmd/">PhantomJS &amp; NodeJS 在京东网站前端监控平台的最佳实践<aside class="dates">2019-01-31</aside></a></li><li><a href="/archive/z4ymvs0jz2h/">Promise 的链式调用与中止<aside class="dates">2019-01-31</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>