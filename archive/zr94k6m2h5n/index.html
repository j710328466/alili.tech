<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="手把手走进toast,你也可以快速开发vue插件"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>手把手走进toast,你也可以快速开发vue插件 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/zr94k6m2h5n/",
				"appid": "1613049289050283", 
				"title": "手把手走进toast,你也可以快速开发vue插件 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-12T02:30:25"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/87ng69qd3fc/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/g5e7f7em3b/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fzr94k6m2h5n%2f&text=%e6%89%8b%e6%8a%8a%e6%89%8b%e8%b5%b0%e8%bf%9btoast%2c%e4%bd%a0%e4%b9%9f%e5%8f%af%e4%bb%a5%e5%bf%ab%e9%80%9f%e5%bc%80%e5%8f%91vue%e6%8f%92%e4%bb%b6"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fzr94k6m2h5n%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fzr94k6m2h5n%2f&text=%e6%89%8b%e6%8a%8a%e6%89%8b%e8%b5%b0%e8%bf%9btoast%2c%e4%bd%a0%e4%b9%9f%e5%8f%af%e4%bb%a5%e5%bf%ab%e9%80%9f%e5%bc%80%e5%8f%91vue%e6%8f%92%e4%bb%b6"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fzr94k6m2h5n%2f&title=%e6%89%8b%e6%8a%8a%e6%89%8b%e8%b5%b0%e8%bf%9btoast%2c%e4%bd%a0%e4%b9%9f%e5%8f%af%e4%bb%a5%e5%bf%ab%e9%80%9f%e5%bc%80%e5%8f%91vue%e6%8f%92%e4%bb%b6"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fzr94k6m2h5n%2f&is_video=false&description=%e6%89%8b%e6%8a%8a%e6%89%8b%e8%b5%b0%e8%bf%9btoast%2c%e4%bd%a0%e4%b9%9f%e5%8f%af%e4%bb%a5%e5%bf%ab%e9%80%9f%e5%bc%80%e5%8f%91vue%e6%8f%92%e4%bb%b6"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e6%89%8b%e6%8a%8a%e6%89%8b%e8%b5%b0%e8%bf%9btoast%2c%e4%bd%a0%e4%b9%9f%e5%8f%af%e4%bb%a5%e5%bf%ab%e9%80%9f%e5%bc%80%e5%8f%91vue%e6%8f%92%e4%bb%b6&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fzr94k6m2h5n%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fzr94k6m2h5n%2f&title=%e6%89%8b%e6%8a%8a%e6%89%8b%e8%b5%b0%e8%bf%9btoast%2c%e4%bd%a0%e4%b9%9f%e5%8f%af%e4%bb%a5%e5%bf%ab%e9%80%9f%e5%bc%80%e5%8f%91vue%e6%8f%92%e4%bb%b6"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fzr94k6m2h5n%2f&title=%e6%89%8b%e6%8a%8a%e6%89%8b%e8%b5%b0%e8%bf%9btoast%2c%e4%bd%a0%e4%b9%9f%e5%8f%af%e4%bb%a5%e5%bf%ab%e9%80%9f%e5%bc%80%e5%8f%91vue%e6%8f%92%e4%bb%b6"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fzr94k6m2h5n%2f&title=%e6%89%8b%e6%8a%8a%e6%89%8b%e8%b5%b0%e8%bf%9btoast%2c%e4%bd%a0%e4%b9%9f%e5%8f%af%e4%bb%a5%e5%bf%ab%e9%80%9f%e5%bc%80%e5%8f%91vue%e6%8f%92%e4%bb%b6"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fzr94k6m2h5n%2f&title=%e6%89%8b%e6%8a%8a%e6%89%8b%e8%b5%b0%e8%bf%9btoast%2c%e4%bd%a0%e4%b9%9f%e5%8f%af%e4%bb%a5%e5%bf%ab%e9%80%9f%e5%bc%80%e5%8f%91vue%e6%8f%92%e4%bb%b6"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">手把手走进toast,你也可以快速开发vue插件</h1><div class="meta"><div class="postdate"><time datetime="2019-01-12" itemprop="datePublished">2019-01-12</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch2 id=\x22articleHeader0\x22\x3e什么是toast\x3c\/h2\x3e\n\x3cp\x3e在使用IOS、Android的APP时，经常会收到系统的一些简短的提示信息，在其显示1--3s后自动关闭。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e分析toast\x3c\/h2\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22仔细分析toast，发现其有以下几个特点：\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e仔细分析toast，发现其有以下几个特点：\x3c\/code\x3e\x3c\/pre\x3e\n\x3col\x3e\n\x3cli\x3e\x3cp\x3e内容简短，大多数就是一句话\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e显示在固定且显目的位置\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e没有关闭按钮\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e1--3秒后自动关闭消失\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3e开发思路\x3c\/h2\x3e\n\x3cp\x3e首先是HTML模板，根据以上分析的特点1，toast需要的DOM结构其实非常简单，如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22div.toast\n    i 显示的消息\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode class=\x22jade\x22\x3e\x3cspan class=\x22hljs-selector-tag\x22\x3ediv\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.toast\x3c\/span\x3e\n    \x3cspan class=\x22hljs-selector-tag\x22\x3ei\x3c\/span\x3e 显示的消息\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVO0ic?w=500\x26amp;h=275\x22 src=\x22https:\/\/static.alili.tech\/img\/bVO0ic?w=500\x26amp;h=275\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e以上是使用模板引擎pug，就是原来大家熟知的jade,后来因为商标名称而改名。因为其书写简单，所以我非常推荐大家使用。\x3cbr\x3e闲言少赘，div的作用是显示一个纯色背景，引起用户注意，而消息内容则放置于i标签中。\x3cbr\x3e接着我们为toast书写一个css关闭特效\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22.hidden {\n    transform: scale(0);\n    transition: 0.3s;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs css\x22\x3e\x3ccode class=\x22SASS\x22\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.hidden\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-attribute\x22\x3etransform\x3c\/span\x3e: \x3cspan class=\x22hljs-built_in\x22\x3escale\x3c\/span\x3e(0);\n    \x3cspan class=\x22hljs-attribute\x22\x3etransition\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e0.3s\x3c\/span\x3e;\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3chr\x3e\n\x3cp\x3e以上是css3两个属性，\x3ccode\x3etransform: scale(0)\x3c\/code\x3e是缩小div的尺寸到0.即消失；transition: 0.3s则是表示该实现缩小过程的时间，这样就实现一个简单的动画效果。\x3c\/p\x3e\n\x3chr\x3e\n\x3cp\x3e说到这里，估计大家也明白，就是通过动态添加className来实现toast的消失，但是在怎么实现自动关闭的功能呢？\x3c\/p\x3e\n\x3chr\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22很简单，就是大家常用的setTimeout()方法，通过设置一个时间来告诉程序多少秒后给toast的div添加hidden的类名让其消失。  \n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs applescript\x22\x3e\x3ccode\x3e很简单，就是大家常用的setTimeout()方法，通过设置一个时间来告诉程序多少秒后给toast的\x3cspan class=\x22hljs-keyword\x22\x3ediv\x3c\/span\x3e添加hidden的类名让其消失。  \n\x3c\/code\x3e\x3c\/pre\x3e\n\x3chr\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22然后可能有人疑问，这样虽然实现了toast的功能，但是创建的DOM结构还一直存在，我看着不舒服，想给它删掉，该怎么实现呢？  \n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs\x22\x3e\x3ccode\x3e然后可能有人疑问，这样虽然实现了toast的功能，但是创建的DOM结构还一直存在，我看着不舒服，想给它删掉，该怎么实现呢？  \n\x3c\/code\x3e\x3c\/pre\x3e\n\x3chr\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22这时候就要用到transitionend这个事件函数了，该事件的触发时机是使用transition属性的target动画特效结束后，具体可查询[mozilla文档][2]  \n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs markdown\x22\x3e\x3ccode\x3e这时候就要用到transitionend这个事件函数了，该事件的触发时机是使用transition属性的target动画特效结束后，具体可查询[\x3cspan class=\x22hljs-string\x22\x3emozilla文档\x3c\/span\x3e][\x3cspan class=\x22hljs-symbol\x22\x3e2\x3c\/span\x3e]  \n\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader3\x22\x3e编写一个toast的vue插件\x3c\/h2\x3e\n\x3cul\x3e\x3cli\x3e\x3cp\x3etoast组件\x3c\/p\x3e\x3c\/li\x3e\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3ctempalate lang=\x26quot;pug\x26quot;\x3e\ndiv.toast(:class=\x26quot;{\x27hidden\x27: !visiable}\x26quot;)\n    i \x22{{\x22message\x22}}\x22\n\x3c\/tempalate\x3e\n\x3cscript\x3e\ndata () {\n    return {\n        message: \x27\x27,\n        visiable: true\n    }\n}\n\x3c\/script\x3e\n\x3cstyle lang=\x26quot;scss\x26quot;\x3e\n...\n\x3c\/style\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs django\x22\x3e\x3ccode\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etempalate\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3elang\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22pug\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\ndiv.toast(:class=\x22{\x27hidden\x27: !visiable}\x22)\n    i \x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e\x22{{\x22message\x22}}\x22\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etempalate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22actionscript\x22\x3e\ndata () {\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e {\n        message: \x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e,\n        visiable: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e\n    }\n}\n\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3estyle\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3elang\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22scss\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22undefined\x22\x3e\n...\n\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3estyle\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3chr\x3e\n\x3cp\x3e组件很简单，就是使用vue的数据绑定，默认显示toast内容\x3c\/p\x3e\n\x3chr\x3e\n\x3cp\x3e接下来我们就要正式写vue的插件了，请注意\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import Toast from \x27.\/Toast.vue\x27\n\nvar plugin = {}\n\n\/\/ 插件必须要有一个install方法\nplugin.install = function (Vue, options = {}) {\n\n    \/\/ \n    const ToastController = Vue.extend(Toast)\n    \/\/ 实现toast的关闭方法\n    ToastController.prototype.close = function () {\n        this.visible = false\n        this.$el.addEventListener(\x27transitionend\x27, removeDom)\n    }\n    \n    \/\/ 在Vue原型实现toast的DOM挂载、以及功能实现\n    \/\/ 用户可以在Vue实例（Vue单文件就是一个Vue实例）通过this.$toast来访问以下内容\n    Vue.prototype.$toast = (option = {}) =\x3e {\n         \/\/ toast实例挂载到刚创建的div\n         var instance = new ToastController().$mount(document.createElement(\x27div\x27))\n         let duration = option.duration || options.duration || 2500\n         \/\/ 如果用户在Vue实例中没有设置option的属性message,则直接将option的内容作为message信息进行toast内容进行显示\n         instance.message = typeof option === \x27string\x27 ? option : option.message\n         \/\/ 将toast的DOM挂载到body上\n         document.body.appendChild(instance.$el)\n         \n         \/\/ 自动关闭功能的实现\n         setTimeout(function () {\n            instance.close()\n        }, duration)\n    }\n}\n\n\/\/ 最后将以上内容导出，即可在其他地方进行使用\nexport default plugin\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e Toast \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/Toast.vue\x27\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e plugin = {}\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 插件必须要有一个install方法\x3c\/span\x3e\nplugin.install = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3eVue, options = {}\x3c\/span\x3e) \x3c\/span\x3e{\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e ToastController = Vue.extend(Toast)\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 实现toast的关闭方法\x3c\/span\x3e\n    ToastController.prototype.close = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.visible = \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$el.addEventListener(\x3cspan class=\x22hljs-string\x22\x3e\x27transitionend\x27\x3c\/span\x3e, removeDom)\n    }\n    \n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 在Vue原型实现toast的DOM挂载、以及功能实现\x3c\/span\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 用户可以在Vue实例（Vue单文件就是一个Vue实例）通过this.$toast来访问以下内容\x3c\/span\x3e\n    Vue.prototype.$toast = \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3eoption = {}\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n         \x3cspan class=\x22hljs-comment\x22\x3e\/\/ toast实例挂载到刚创建的div\x3c\/span\x3e\n         \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e instance = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e ToastController().$mount(\x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.createElement(\x3cspan class=\x22hljs-string\x22\x3e\x27div\x27\x3c\/span\x3e))\n         \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e duration = option.duration || options.duration || \x3cspan class=\x22hljs-number\x22\x3e2500\x3c\/span\x3e\n         \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 如果用户在Vue实例中没有设置option的属性message,则直接将option的内容作为message信息进行toast内容进行显示\x3c\/span\x3e\n         instance.message = \x3cspan class=\x22hljs-keyword\x22\x3etypeof\x3c\/span\x3e option === \x3cspan class=\x22hljs-string\x22\x3e\x27string\x27\x3c\/span\x3e ? option : option.message\n         \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 将toast的DOM挂载到body上\x3c\/span\x3e\n         \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.body.appendChild(instance.$el)\n         \n         \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 自动关闭功能的实现\x3c\/span\x3e\n         setTimeout(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n            instance.close()\n        }, duration)\n    }\n}\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 最后将以上内容导出，即可在其他地方进行使用\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e plugin\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e接下来，你就可以在入口文件进行使用刚刚开发的插件啦\x3cbr\x3eimport Vue from \x27vue\x27\x3cbr\x3eimport Toast from \x27..\/lib\/plugin.js\x27\x3c\/p\x3e\n\x3cp\x3eVue.use(Toast)\x3cbr\x3e就这样，不知不觉中就大功告成了，喝杯香槟庆祝吧\x3c\/p\x3e\n\x3cp\x3e以下是我的toast源码地址，内置多种主题，且支持自定义样式，以及多toast同时显示，大家可以通过\x3ccode\x3enpm install v-awesome-toast --save\x3c\/code\x3e来直接使用\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/github.com\/wxhthx\/vue-toast\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eGithub: v-awesome-toast 点击查阅\x3c\/a\x3e\x3cbr\x3e欢迎大家指正缺陷，一块研究，更希望您能点个star，鼓励下我的努力\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVO0ph?w=210\x26amp;h=209\x22 src=\x22https:\/\/static.alili.tech\/img\/bVO0ph?w=210\x26amp;h=209\x22 alt=\x22求求你了\x22 title=\x22求求你了\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>手把手走进toast,你也可以快速开发vue插件</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000009733948">https://segmentfault.com/a/1190000009733948</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/zr94k6m2h5n/" target="_blank">https://alili.tech/archive/zr94k6m2h5n/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5328xogjarn/">IndexedDB--HTML5本地存储<aside class="dates">2019-01-28</aside></a></li><li><a href="/archive/xpccu0hsqbr/">JS学习系列 01 - 编译原理和作用域<aside class="dates">2019-01-28</aside></a></li><li><a href="/archive/shv09bbtbfd/">Vue2 SSR 的优化之旅<aside class="dates">2019-01-28</aside></a></li><li><a href="/archive/5vj1ojfo6h6/">[2016年末巨献] — HTML5可交互地铁线路图（第二季：帝都进阶版）<aside class="dates">2019-01-28</aside></a></li><li><a href="/archive/m02hlm4bzh/">vue2.0开发聊天程序（三）组件的通信<aside class="dates">2019-01-28</aside></a></li><li><a href="/archive/mz5o7n90plg/">《很高兴我没有猝死》- 前端新人的 2016 年总结和感悟<aside class="dates">2019-01-28</aside></a></li><li><a href="/archive/3vhoe2mo09k/">一道颇有难度的JavaScript题<aside class="dates">2019-01-28</aside></a></li><li><a href="/archive/uj12mb7thp/">使用CANVAS实现交互性圆形马赛克效果<aside class="dates">2019-01-28</aside></a></li><li><a href="/archive/ja636h8hcxa/">写于 2016 年末<aside class="dates">2019-01-28</aside></a></li><li><a href="/archive/5uomnoq1kmi/">前端学习资源整理<aside class="dates">2019-01-28</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>