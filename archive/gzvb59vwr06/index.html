<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="[使用 Weex 和 Vue 开发原生应用] 6 使用 vue-router"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>[使用 Weex 和 Vue 开发原生应用] 6 使用 vue-router | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/gzvb59vwr06/",
				"appid": "1613049289050283", 
				"title": "[使用 Weex 和 Vue 开发原生应用] 6 使用 vue-router | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-16T02:30:08"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/hsxwccdqkrd/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/8hmdh7zujzm/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fgzvb59vwr06%2f&text=%5b%e4%bd%bf%e7%94%a8%20Weex%20%e5%92%8c%20Vue%20%e5%bc%80%e5%8f%91%e5%8e%9f%e7%94%9f%e5%ba%94%e7%94%a8%5d%206%20%e4%bd%bf%e7%94%a8%20vue-router"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fgzvb59vwr06%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fgzvb59vwr06%2f&text=%5b%e4%bd%bf%e7%94%a8%20Weex%20%e5%92%8c%20Vue%20%e5%bc%80%e5%8f%91%e5%8e%9f%e7%94%9f%e5%ba%94%e7%94%a8%5d%206%20%e4%bd%bf%e7%94%a8%20vue-router"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fgzvb59vwr06%2f&title=%5b%e4%bd%bf%e7%94%a8%20Weex%20%e5%92%8c%20Vue%20%e5%bc%80%e5%8f%91%e5%8e%9f%e7%94%9f%e5%ba%94%e7%94%a8%5d%206%20%e4%bd%bf%e7%94%a8%20vue-router"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fgzvb59vwr06%2f&is_video=false&description=%5b%e4%bd%bf%e7%94%a8%20Weex%20%e5%92%8c%20Vue%20%e5%bc%80%e5%8f%91%e5%8e%9f%e7%94%9f%e5%ba%94%e7%94%a8%5d%206%20%e4%bd%bf%e7%94%a8%20vue-router"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%5b%e4%bd%bf%e7%94%a8%20Weex%20%e5%92%8c%20Vue%20%e5%bc%80%e5%8f%91%e5%8e%9f%e7%94%9f%e5%ba%94%e7%94%a8%5d%206%20%e4%bd%bf%e7%94%a8%20vue-router&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fgzvb59vwr06%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fgzvb59vwr06%2f&title=%5b%e4%bd%bf%e7%94%a8%20Weex%20%e5%92%8c%20Vue%20%e5%bc%80%e5%8f%91%e5%8e%9f%e7%94%9f%e5%ba%94%e7%94%a8%5d%206%20%e4%bd%bf%e7%94%a8%20vue-router"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fgzvb59vwr06%2f&title=%5b%e4%bd%bf%e7%94%a8%20Weex%20%e5%92%8c%20Vue%20%e5%bc%80%e5%8f%91%e5%8e%9f%e7%94%9f%e5%ba%94%e7%94%a8%5d%206%20%e4%bd%bf%e7%94%a8%20vue-router"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fgzvb59vwr06%2f&title=%5b%e4%bd%bf%e7%94%a8%20Weex%20%e5%92%8c%20Vue%20%e5%bc%80%e5%8f%91%e5%8e%9f%e7%94%9f%e5%ba%94%e7%94%a8%5d%206%20%e4%bd%bf%e7%94%a8%20vue-router"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fgzvb59vwr06%2f&title=%5b%e4%bd%bf%e7%94%a8%20Weex%20%e5%92%8c%20Vue%20%e5%bc%80%e5%8f%91%e5%8e%9f%e7%94%9f%e5%ba%94%e7%94%a8%5d%206%20%e4%bd%bf%e7%94%a8%20vue-router"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">[使用 Weex 和 Vue 开发原生应用] 6 使用 vue-router</h1><div class="meta"><div class="postdate"><time datetime="2019-01-16" itemprop="datePublished">2019-01-16</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cblockquote\x3e\x3cp\x3e系列文章的目录在 ? \x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000008342533\x22\x3e这里\x3c\/a\x3e\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e（由于 \x3cdel\x3e我比较懒\x3c\/del\x3e 最近一段时间在忙其他事，系列文章拖了好久终于又更新了。。。）\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3e什么是 vue-router ？\x3c\/h2\x3e\n\x3cblockquote\x3e\x3cp\x3e\x3ca href=\x22http:\/\/router.vuejs.org\/zh-cn\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3evue-router 官方文档\x3c\/a\x3e\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3evue-router 是针对 Vue.js 开发的前端路由工具，可以很方便的开发单页应用。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader1\x22\x3e单页应用\x3c\/h3\x3e\n\x3cp\x3e单页应用的概念其实很早就出现了，它是指在同一个页面内包含了应用的所有功能，一个页面就是一个应用，整个应用只有一个页面，是在 Web 场景下提出的一种开发方式。单页应用的特性在文末讨论，这里先说用法。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3e怎么在 Weex 里引入 vue-router\x3c\/h2\x3e\n\x3cp\x3evue-router 是以 Vue.js 插件的形式存在的，使用前必须要引入 Vue.js。因为 WeexSDK （\x26gt;= 0.9.5）中已经包含了 Vue.js Runtime，所以不需要再引入一遍 Vue.js ，只需引入 vue-router 并注册即可：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ import Vue from \x27vue\x27\nimport VueRouter from \x27vue-router\x27\n\nVue.use(VueRouter)\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ import Vue from \x27vue\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e VueRouter \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27vue-router\x27\x3c\/span\x3e\n\nVue.use(VueRouter)\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader3\x22\x3e使用 vue-router 的例子\x3c\/h2\x3e\n\x3ch3 id=\x22articleHeader4\x22\x3e定义根视图\x3c\/h3\x3e\n\x3cp\x3e通过在模板中添加 \x3ccode\x3e\x26lt;router-view\x26gt;\x3c\/code\x3e 的方式定义路由出口，路由匹配到的组件将会替换这个标签。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3c!-- App.vue --\x3e\n\n\x3ctemplate\x3e\n  \x3crouter-view\x3e\x3c\/router-view\x3e\n\x3c\/template\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22xml hljs\x22\x3e\x3ccode class=\x22html\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\x26lt;!-- App.vue --\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3erouter-view\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3erouter-view\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在模板中也可以包含其他标签， \x3ccode\x3e\x26lt;router-view\x26gt;\x3c\/code\x3e 也可以是其他标签的子标签，和其他标签的用法是一样的；在 vue-router 的内部实现中，\x3ca href=\x22https:\/\/github.com\/vuejs\/vue-router\/blob\/v2.4.0\/src\/components\/view.js#L5\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3erouter-view 的实现\x3c\/a\x3e就是一个普通的函数式组件。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader5\x22\x3e配置路由规则\x3c\/h3\x3e\n\x3cp\x3e在向应用中注册 router 之前，需要先创建路由实例，并且配置路由规则。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ router.js\n\nimport VueRouter from \x27vue-router\x27\nimport HomeView from \x27path\/to\/HomeView.vue\x27\nimport AboutView from \x27path\/to\/AboutView.vue\x27\n\nVue.use(VueRouter)\n\nexport default new VueRouter({\n  routes: [\n    { path: \x27\/home\x27,  component: HomeView  },\n    { path: \x27\/about\x27, component: AboutView }\n  ]\n})\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ router.js\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e VueRouter \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27vue-router\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e HomeView \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27path\/to\/HomeView.vue\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e AboutView \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27path\/to\/AboutView.vue\x27\x3c\/span\x3e\n\nVue.use(VueRouter)\n\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e VueRouter({\n  \x3cspan class=\x22hljs-attr\x22\x3eroutes\x3c\/span\x3e: [\n    { \x3cspan class=\x22hljs-attr\x22\x3epath\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27\/home\x27\x3c\/span\x3e,  \x3cspan class=\x22hljs-attr\x22\x3ecomponent\x3c\/span\x3e: HomeView  },\n    { \x3cspan class=\x22hljs-attr\x22\x3epath\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27\/about\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3ecomponent\x3c\/span\x3e: AboutView }\n  ]\n})\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e上述代码中创建了 VueRouter 的实例，并且传入了 \x3ccode\x3eroutes\x3c\/code\x3e 配置，当路径是 \x3ccode\x3ehome\x3c\/code\x3e 时，页面就会跳转到 \x3ccode\x3eHomeView\x3c\/code\x3e 组件，HomeView.vue 就会渲染到 App.vue 中 \x3ccode\x3e\x26lt;router-view\x26gt;\x3c\/code\x3e 标签的位置。同理，当路径是 \x3ccode\x3eabout\x3c\/code\x3e 时，页面就会跳转到 \x3ccode\x3eAboutView\x3c\/code\x3e 组件。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader6\x22\x3e给应用注入路由功能\x3c\/h3\x3e\n\x3cp\x3e想要在应用中注入路由功能，还有给入口组件添加 router 属性，使应用和路由建立联系。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import App from \x27path\/to\/App.vue\x27\nimport router from \x27path\/to\/router.js\x27\n\nApp.el = \x27#root\x27\nApp.router = router\n\nnew Vue(App)\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e App \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27path\/to\/App.vue\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e router \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27path\/to\/router.js\x27\x3c\/span\x3e\n\nApp.el = \x3cspan class=\x22hljs-string\x22\x3e\x27#root\x27\x3c\/span\x3e\nApp.router = router\n\n\x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Vue(App)\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader7\x22\x3e注意事项\x3c\/h3\x3e\n\x3cp\x3e前边提到过，单页应用是在 Web 场景下提出的一种开发方式，它的具体实现依赖了 Web 平台的功能，如 Histroy API 和 URL Hash 等特性。然而 Weex 的运行环境不只是浏览器，通常是以移动端原生环境为主，这些特性在 Weex 中并不完全适用，参考\x3ca href=\x22http:\/\/weex-project.io\/cn\/references\/platform-difference.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e《Weex 和 Web 平台的差异》\x3c\/a\x3e。\x3c\/p\x3e\n\x3cp\x3e针对这些平台差异，有以下两点需要注意：\x3c\/p\x3e\n\x3ch4\x3e路由模式\x3c\/h4\x3e\n\x3cp\x3e在 vue-router 的配置项中，有一个 \x3ca href=\x22https:\/\/router.vuejs.org\/zh-cn\/api\/options.html#mode\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3emode\x3c\/a\x3e 参数可以用来指定 vue-router 的运行模式。\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e\x3ccode\x3ehash\x3c\/code\x3e: 使用 URL hash 值来作路由。默认模式。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ccode\x3ehistory\x3c\/code\x3e: 依赖 HTML5 History API 和服务器配置。查看 \x3ca href=\x22https:\/\/router.vuejs.org\/zh-cn\/essentials\/history-mode.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eHTML5 History 模式\x3c\/a\x3e。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ccode\x3eabstract\x3c\/code\x3e: 支持所有 JavaScript 运行环境，如 Node.js 服务器端。\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e根据平台差异可以看出，\x3cstrong\x3e在 Weex 环境中只支持使用 abstract 模式。\x3c\/strong\x3e 不过，vue-router 自身会对环境做校验，如果发现没有浏览器的 API，vue-router 会自动强制进入 abstract 模式，所以 \x3cstrong\x3e在使用 vue-router 时只要不写 mode 配置即可，默认会在浏览器环境中使用 hash 模式，在移动端原生环境中使用 abstract 模式。\x3c\/strong\x3e （当然，你也可以明确指定在所有情况下都使用 \x3ccode\x3eabstract\x3c\/code\x3e 模式）\x3c\/p\x3e\n\x3ch4\x3e编程式导航\x3c\/h4\x3e\n\x3cp\x3evue-router 支持使用 \x3ccode\x3e\x26lt;router-link\x26gt;\x3c\/code\x3e 创建导航链接，不过在其中使用了基于 DOM 事件的一些特性，这些特性在 Weex 原生环境中并不能很好的工作。所以 \x3cstrong\x3e在 Weex 中，你必须使用\x3ca href=\x22https:\/\/router.vuejs.org\/zh-cn\/essentials\/navigation.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e编程式导航\x3c\/a\x3e来编写页面跳转逻辑。\x3c\/strong\x3e 用法参考 \x3ca href=\x22http:\/\/weex-project.io\/cn\/references\/vue\/difference-of-vuex.html#\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eWeex 官方文档\x3c\/a\x3e。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader8\x22\x3e更多功能\x3c\/h3\x3e\n\x3cp\x3e除了上述最基本的特性以外，vue-router 还有很多很强大的功能，具体使用方法建议参考其\x3ca href=\x22http:\/\/router.vuejs.org\/zh-cn\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e官方文档\x3c\/a\x3e，这里不再赘述。\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/router.vuejs.org\/zh-cn\/essentials\/dynamic-matching.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e动态路由匹配\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/router.vuejs.org\/zh-cn\/essentials\/nested-routes.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e嵌套路由\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/router.vuejs.org\/zh-cn\/essentials\/navigation.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e编程式导航\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/router.vuejs.org\/zh-cn\/essentials\/redirect-and-alias.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e重定向和别名\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/router.vuejs.org\/zh-cn\/advanced\/navigation-guards.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e导航钩子\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/router.vuejs.org\/zh-cn\/advanced\/transitions.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e过渡动效\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch2 id=\x22articleHeader9\x22\x3e实际项目中的 vue-router\x3c\/h2\x3e\n\x3cp\x3e在 \x3ca href=\x22https:\/\/github.com\/weexteam\/weex-hackernews\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eweex-hackernews\x3c\/a\x3e 项目中使用了 vue-router 做路由管理。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVMlQA?w=800\x26amp;h=531\x22 src=\x22https:\/\/static.alili.tech\/img\/bVMlQA?w=800\x26amp;h=531\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader10\x22\x3e路由配置\x3c\/h3\x3e\n\x3cp\x3e其中表头的五个一级菜单（Top 、New 、Show 、Ask 、Job），就对应了五个不同的路由路径，也对应了五个列表组件。除此之外，还有列表页、评论页、用户信息页也都对应了单独的路由路径。具体配置在 \x3ca href=\x22https:\/\/github.com\/weexteam\/weex-hackernews\/blob\/v1.0\/src\/router.js#L22-L32\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3esrc\/router.js\x3c\/a\x3e 中，如下所示：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22export default new Router({\n  routes: [\n    { path: \x27\/top\x27, component: createStoriesView(\x27top\x27) },\n    { path: \x27\/new\x27, component: createStoriesView(\x27new\x27) },\n    { path: \x27\/show\x27, component: createStoriesView(\x27show\x27) },\n    { path: \x27\/ask\x27, component: createStoriesView(\x27ask\x27) },\n    { path: \x27\/job\x27, component: createStoriesView(\x27job\x27) },\n    { path: \x27\/article\/:url(.*)?\x27, component: ArticleView },\n    { path: \x27\/item\/:id(\\\\d\x2b)\x27, component: CommentView },\n    { path: \x27\/user\/:id\x27, component: UserView },\n    { path: \x27\/\x27, redirect: \x27\/top\x27 }\n  ]\n})\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Router({\n  \x3cspan class=\x22hljs-attr\x22\x3eroutes\x3c\/span\x3e: [\n    { \x3cspan class=\x22hljs-attr\x22\x3epath\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27\/top\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3ecomponent\x3c\/span\x3e: createStoriesView(\x3cspan class=\x22hljs-string\x22\x3e\x27top\x27\x3c\/span\x3e) },\n    { \x3cspan class=\x22hljs-attr\x22\x3epath\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27\/new\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3ecomponent\x3c\/span\x3e: createStoriesView(\x3cspan class=\x22hljs-string\x22\x3e\x27new\x27\x3c\/span\x3e) },\n    { \x3cspan class=\x22hljs-attr\x22\x3epath\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27\/show\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3ecomponent\x3c\/span\x3e: createStoriesView(\x3cspan class=\x22hljs-string\x22\x3e\x27show\x27\x3c\/span\x3e) },\n    { \x3cspan class=\x22hljs-attr\x22\x3epath\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27\/ask\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3ecomponent\x3c\/span\x3e: createStoriesView(\x3cspan class=\x22hljs-string\x22\x3e\x27ask\x27\x3c\/span\x3e) },\n    { \x3cspan class=\x22hljs-attr\x22\x3epath\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27\/job\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3ecomponent\x3c\/span\x3e: createStoriesView(\x3cspan class=\x22hljs-string\x22\x3e\x27job\x27\x3c\/span\x3e) },\n    { \x3cspan class=\x22hljs-attr\x22\x3epath\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27\/article\/:url(.*)?\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3ecomponent\x3c\/span\x3e: ArticleView },\n    { \x3cspan class=\x22hljs-attr\x22\x3epath\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27\/item\/:id(\\\\d\x2b)\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3ecomponent\x3c\/span\x3e: CommentView },\n    { \x3cspan class=\x22hljs-attr\x22\x3epath\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27\/user\/:id\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3ecomponent\x3c\/span\x3e: UserView },\n    { \x3cspan class=\x22hljs-attr\x22\x3epath\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27\/\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3eredirect\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27\/top\x27\x3c\/span\x3e }\n  ]\n})\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e其中 article 、item 和 user 三个配置项中用到了\x3ca href=\x22https:\/\/router.vuejs.org\/zh-cn\/essentials\/dynamic-matching.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e动态路由匹配\x3c\/a\x3e，把所有同类路由都映射到了同一个组件上，组件结构相同，但是参数是不同的（url 不同或者 id 不同）。\x3c\/p\x3e\n\x3cp\x3e在最后还配置了\x3ca href=\x22https:\/\/router.vuejs.org\/zh-cn\/essentials\/redirect-and-alias.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e路由重定向\x3c\/a\x3e，将默认根路由 \x3ccode\x3e\/\x3c\/code\x3e 重定向到了 \x3ccode\x3e\/top\x3c\/code\x3e，默认加载“最热”文章列表。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader11\x22\x3e在应用中注册路由\x3c\/h3\x3e\n\x3cp\x3e若要应用组件和路由之间建立联系，需要给入口组件注入 \x3ccode\x3erouter\x3c\/code\x3e 属性。代码在 \x3ca href=\x22https:\/\/github.com\/weexteam\/weex-hackernews\/blob\/v1.0\/src\/entry.js#L21-L26\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3esrc\/entry.js\x3c\/a\x3e 中。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22new Vue(Vue.util.extend({ router }, App))\n\nrouter.push(\x27\/\x27)\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Vue(Vue.util.extend({ router }, App))\n\nrouter.push(\x3cspan class=\x22hljs-string\x22\x3e\x27\/\x27\x3c\/span\x3e)\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e代码在创建 Vue 实例前在 App 上添加了 \x3ccode\x3erouter\x3c\/code\x3e 属性，使得应用组件中都能通过 \x3ccode\x3ethis.$router\x3c\/code\x3e 获取到路由数据。在创建实例后，手动调用 \x3ccode\x3erouter.push(\x27\/\x27)\x3c\/code\x3e 跳转到根视图。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader12\x22\x3e同步 Vuex 和 vue-router 的状态\x3c\/h3\x3e\n\x3cp\x3e使用 \x3ca href=\x22https:\/\/github.com\/vuejs\/vuex-router-sync\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3evuex-router-sync\x3c\/a\x3e 可以很方便地同步 Vuex 和 vue-router 的状态，这个步骤并不是必须的，但是可以简化代码的使用。实际代码在 \x3ca href=\x22https:\/\/github.com\/weexteam\/weex-hackernews\/blob\/v1.0\/src\/entry.js#L9-L11\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3esrc\/entry.js\x3c\/a\x3e 中，如下所示：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22sync(store, router)\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3esync(store, router)\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e代码的效果就是注册了 \x3ccode\x3estore.state.route\x3c\/code\x3e 这个变量，使得在 Vuex 的 Store 中可以获取到 \x3ccode\x3eroute\x3c\/code\x3e 对象，这在一些比较复杂的大型应用中可能会用到。\x3c\/p\x3e\n\x3cblockquote\x3e\x3cp\x3e由于在根组件中已经注入了 \x3ccode\x3erouter\x3c\/code\x3e 属性，在所有组件中也都可以通过 \x3ccode\x3ethis.$router\x3c\/code\x3e 获取到当前的路由状态。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3ch2 id=\x22articleHeader13\x22\x3eWeex 适合写单页应用吗 ？\x3c\/h2\x3e\n\x3cblockquote\x3e\x3cp\x3e\x3cstrong\x3e以下是我个人的观点，不代表任何人，也不代表 Weex。\x3c\/strong\x3e\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e不考虑技术细节，从实际应用的角度聊一下我对“单页应用”的看法。\x3c\/p\x3e\n\x3cp\x3e单页应用也有不少的优势和缺陷：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e优势：页面无需刷新；可以实现更好的过渡效果；组件复用；状态共享。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e缺陷：初次加载白屏时间长；不利于 SEO；有大量全局状态；技术方法相对复杂，有学习成本。\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e大部分特性都已经有共识，我也不再展开对比，这里着重讨论一下在 \x3cstrong\x3e移动端\x3c\/strong\x3e 和 \x3cstrong\x3eWeex 平台\x3c\/strong\x3e 中使用单页应用的情况。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader14\x22\x3e页面间状态的共享与隔离\x3c\/h3\x3e\n\x3cp\x3e单页应用运行在同一个 javascript runtime 里，也就是说页面的状态都是共享的，环境变量也是相同的，这一点其实是有很多隐患。在移动应用中，单页应用不仅耗费内存，也很容易发生内存泄露。\x3c\/p\x3e\n\x3cp\x3e所有的 Weex 页面，无论是基于 Vue 还是 Rax，都共用一个 Weex Runtime，其中的 js 引擎也只初始化一次，除非重新初始化 Weex SDK（应用重启），所有页面对环境的操作痕迹都将保留。在这种情景下，页面间状态的隔离就尤为重要，共享的全局状态很可能会成为内存泄露的元凶。\x3c\/p\x3e\n\x3cp\x3e换句话说，如果某个页面创建了一个临时的全局变量，但是在页面退出后没有清除，这个变量将一直保留在内存中；如果某个页面在全局状态上挂载了某个属性，但是页面退出后没有断开连接，这个属性也会一直保留在全局状态中。\x3c\/p\x3e\n\x3cp\x3e原生应用本身就是多页的场景，页面间状态的隔离比共享更重要一些。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader15\x22\x3e资源加载和缓存\x3c\/h3\x3e\n\x3cp\x3e单页应用要把所有页面用到资源（至少是脚本）提前打包在一起，一次性全部发到客户端，首次打开的网络耗时会比较久，容易导致长时间白屏，很难递进的加载资源，无法做到“先加载有用的”。如果有多个单页应用都需要用到某些页面或者某个组件，是很难复用的，也很难加缓存，难不成整个移动应用都写成一个大“单页”的吗？ Web 上或许可以考虑，但是原生应用里十分不建议这样做。应用都规模越大，这些缺陷就越明显。\x3c\/p\x3e\n\x3cp\x3e更何况现在 HTTP\/2 逐渐普及，有了多路复用，把资源粒度划分的细一些更有利于浏览器的加载。还有 prefetch 和 preload 这种特性可以提升资源加载的效率，Weex 也在考虑支持。浏览器也逐渐开始支持 ES6 module，可以直接通过 \x3ccode\x3e\x26lt;script type=\x22module\x22\x26gt;\x3c\/code\x3e 的方式引入 ES6 模块，代码的管理和加载可能会以 \x3cem\x3e模块\x3c\/em\x3e 为单元，而不是页面。\x3c\/p\x3e\n\x3cp\x3e从一系列技术趋势来看，现在有很多技术方案都讲究将资源细分，恨不得使用 code split 把代码细分到组件级别（“打包”是一个暂时性的让人又爱又恨的工作）。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader16\x22\x3eHistroy API 和 hash\x3c\/h3\x3e\n\x3cp\x3e单页应用在技术上基本上都是基于 Histroy API 或 hash 链接实现，即使不直接依赖，也会模拟这方面的行为（polyfill）。前边也提到过 \x3ca href=\x22http:\/\/weex-project.io\/cn\/references\/platform-difference.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eWeex 和 Web 平台有差异\x3c\/a\x3e， Histroy API 和 hash 这些都是浏览器中的概念，和 Weex 里不完全对应。\x3c\/p\x3e\n\x3cp\x3e使用 Weex 开发的是原生应用，页面栈的管理使用的也是原生的特性，没有 Histroy API 但是有 \x3ca href=\x22http:\/\/weex-project.io\/cn\/references\/modules\/navigator.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3enavigator 模块\x3c\/a\x3e 可以实现页面的“前进”和“后退”等操作。其实我觉得原生开发中 Navigator 的概念比 web 上 History API 设计的更完善一些（由于多端行为有差异，Weex 只暴露了部分通用功能），可操作性也更强。至于 hash，移动端不会轻易暴露页面 url，更不用说 hash 了。\x3c\/p\x3e\n\x3cp\x3e一句话总结： Weex 是跨平台的，Histroy API 是针对 Web 平台设计的，未必适合原生开发。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader17\x22\x3e小结\x3c\/h2\x3e\n\x3cp\x3e技术本身是客观的，有各自的适用场景。weex-hackernews 项目本身的页面也不多，多个页面之间的确会共用一些数据；而且本来这就是一个范例项目，为了展示能力和用法的，所以我用了 vue-router。在你的应用中是否应该引入 vue-router，需要结合应用自身的特性和需求具体分析。\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>[使用 Weex 和 Vue 开发原生应用] 6 使用 vue-router</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000009101411">https://segmentfault.com/a/1190000009101411</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/gzvb59vwr06/" target="_blank">https://alili.tech/archive/gzvb59vwr06/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5328xogjarn/">IndexedDB--HTML5本地存储<aside class="dates">2019-01-28</aside></a></li><li><a href="/archive/xpccu0hsqbr/">JS学习系列 01 - 编译原理和作用域<aside class="dates">2019-01-28</aside></a></li><li><a href="/archive/shv09bbtbfd/">Vue2 SSR 的优化之旅<aside class="dates">2019-01-28</aside></a></li><li><a href="/archive/5vj1ojfo6h6/">[2016年末巨献] — HTML5可交互地铁线路图（第二季：帝都进阶版）<aside class="dates">2019-01-28</aside></a></li><li><a href="/archive/m02hlm4bzh/">vue2.0开发聊天程序（三）组件的通信<aside class="dates">2019-01-28</aside></a></li><li><a href="/archive/mz5o7n90plg/">《很高兴我没有猝死》- 前端新人的 2016 年总结和感悟<aside class="dates">2019-01-28</aside></a></li><li><a href="/archive/3vhoe2mo09k/">一道颇有难度的JavaScript题<aside class="dates">2019-01-28</aside></a></li><li><a href="/archive/uj12mb7thp/">使用CANVAS实现交互性圆形马赛克效果<aside class="dates">2019-01-28</aside></a></li><li><a href="/archive/ja636h8hcxa/">写于 2016 年末<aside class="dates">2019-01-28</aside></a></li><li><a href="/archive/5uomnoq1kmi/">前端学习资源整理<aside class="dates">2019-01-28</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>