<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="OpenSSL 在 Apache 和 Dovecot 下的使用（一）"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>OpenSSL 在 Apache 和 Dovecot 下的使用（一） | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/hp2zdk34b78/",
				"appid": "1613049289050283", 
				"title": "OpenSSL 在 Apache 和 Dovecot 下的使用（一） | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-24T02:30:11"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/nv6aah9wj4e/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/k5suef4xtyp/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fhp2zdk34b78%2f&text=OpenSSL%20%e5%9c%a8%20Apache%20%e5%92%8c%20Dovecot%20%e4%b8%8b%e7%9a%84%e4%bd%bf%e7%94%a8%ef%bc%88%e4%b8%80%ef%bc%89"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fhp2zdk34b78%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fhp2zdk34b78%2f&text=OpenSSL%20%e5%9c%a8%20Apache%20%e5%92%8c%20Dovecot%20%e4%b8%8b%e7%9a%84%e4%bd%bf%e7%94%a8%ef%bc%88%e4%b8%80%ef%bc%89"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fhp2zdk34b78%2f&title=OpenSSL%20%e5%9c%a8%20Apache%20%e5%92%8c%20Dovecot%20%e4%b8%8b%e7%9a%84%e4%bd%bf%e7%94%a8%ef%bc%88%e4%b8%80%ef%bc%89"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fhp2zdk34b78%2f&is_video=false&description=OpenSSL%20%e5%9c%a8%20Apache%20%e5%92%8c%20Dovecot%20%e4%b8%8b%e7%9a%84%e4%bd%bf%e7%94%a8%ef%bc%88%e4%b8%80%ef%bc%89"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=OpenSSL%20%e5%9c%a8%20Apache%20%e5%92%8c%20Dovecot%20%e4%b8%8b%e7%9a%84%e4%bd%bf%e7%94%a8%ef%bc%88%e4%b8%80%ef%bc%89&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fhp2zdk34b78%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fhp2zdk34b78%2f&title=OpenSSL%20%e5%9c%a8%20Apache%20%e5%92%8c%20Dovecot%20%e4%b8%8b%e7%9a%84%e4%bd%bf%e7%94%a8%ef%bc%88%e4%b8%80%ef%bc%89"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fhp2zdk34b78%2f&title=OpenSSL%20%e5%9c%a8%20Apache%20%e5%92%8c%20Dovecot%20%e4%b8%8b%e7%9a%84%e4%bd%bf%e7%94%a8%ef%bc%88%e4%b8%80%ef%bc%89"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fhp2zdk34b78%2f&title=OpenSSL%20%e5%9c%a8%20Apache%20%e5%92%8c%20Dovecot%20%e4%b8%8b%e7%9a%84%e4%bd%bf%e7%94%a8%ef%bc%88%e4%b8%80%ef%bc%89"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fhp2zdk34b78%2f&title=OpenSSL%20%e5%9c%a8%20Apache%20%e5%92%8c%20Dovecot%20%e4%b8%8b%e7%9a%84%e4%bd%bf%e7%94%a8%ef%bc%88%e4%b8%80%ef%bc%89"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">OpenSSL 在 Apache 和 Dovecot 下的使用（一）</h1><div class="meta"><div class="postdate"><time datetime="2019-01-24" itemprop="datePublished">2019-01-24</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n            \x3ch1\x3e\x3ca href=\x22#openssl-在-apache-和-dovecot-下的使用一\x22\x3e\x3c\/a\x3eOpenSSL 在 Apache 和 Dovecot 下的使用（一）\x3c\/h1\x3e\n\x3cblockquote\x3e\n\x3cp\x3e在这有两部分的系列中，Carla Schroder 会向你展示如何创建自己的 OpenSSL 证书以及如何配置 Apache 和 Dovecot 来使用它们。\x3c\/p\x3e\n\x3c\/blockquote\x3e\n\x3cp\x3e这么长时间之后，我的读者们，这里是我给你们承诺的在 Apache 中使用 OpenSSL 的方法，下周你会看到在 Dovecot 中使用 SSL。 在这个分为两部分的系列中，我们将学习如何创建自己的 OpenSSL 证书，以及如何配置 Apache 和 Dovecot 来使用它们。\x3c\/p\x3e\n\x3cp\x3e这些例子基于这些教程：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3ca href=\x22https:\/\/www.linux.com\/learn\/apache-ubuntu-linux-beginners\x22\x3e给初学者看的在 Ubuntu Linux 上使用 Apache\x3c\/a\x3e\x3c\/li\x3e\n\x3cli\x3e\x3ca href=\x22https:\/\/www.linux.com\/learn\/apache-ubuntu-linux-beginners-part-2\x22\x3e给初学者看的在 Ubuntu Linux 上使用 Apache：第 2 部分\x3c\/a\x3e\x3c\/li\x3e\n\x3cli\x3e\x3ca href=\x22https:\/\/www.linux.com\/learn\/apache-centos-linux-beginners\x22\x3e给初学者看的在 CentOS Linux 上使用 Apache\x3c\/a\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch3\x3e\x3ca href=\x22#创建你的证书\x22\x3e\x3c\/a\x3e创建你的证书\x3c\/h3\x3e\n\x3cp\x3eDebian\/Ubuntu\/Mint 会在 \x3ccode\x3e\/etc\/ssl\x3c\/code\x3e 中存储私钥和证书的符号链接。系统自带的证书保存在 \x3ccode\x3e\/usr\/share\/ca-certificates\x3c\/code\x3e 中。你安装或创建的证书在 \x3ccode\x3e\/usr\/local\/share\/ca-certificates\/\x3c\/code\x3e 中。\x3c\/p\x3e\n\x3cp\x3e这个例子是对 Debian 而言。创建私钥和公用证书，将证书转换为正确的格式，并将其符号链接到正确的目录：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs delphi\x22\x3e$ sudo openssl req -x509 -days \x3cspan class=\x22hljs-number\x22\x3e365\x3c\/span\x3e -nodes -newkey rsa:\x3cspan class=\x22hljs-number\x22\x3e2048\x3c\/span\x3e \\\n   -keyout \/etc\/ssl\/\x3cspan class=\x22hljs-keyword\x22\x3eprivate\x3c\/span\x3e\/test-com.key -\x3cspan class=\x22hljs-keyword\x22\x3eout\x3c\/span\x3e \\\n   \/usr\/\x3cspan class=\x22hljs-keyword\x22\x3elocal\x3c\/span\x3e\/share\/ca-certificates\/test-com.crt\nGenerating a \x3cspan class=\x22hljs-number\x22\x3e2048\x3c\/span\x3e bit RSA \x3cspan class=\x22hljs-keyword\x22\x3eprivate\x3c\/span\x3e key\n.......\x2b\x2b\x2b\n......................................\x2b\x2b\x2b\nwriting new \x3cspan class=\x22hljs-keyword\x22\x3eprivate\x3c\/span\x3e key \x3cspan class=\x22hljs-keyword\x22\x3eto\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27\/etc\/ssl\/private\/test-com.key\x27\x3c\/span\x3e\n-----\nYou are about \x3cspan class=\x22hljs-keyword\x22\x3eto\x3c\/span\x3e be asked \x3cspan class=\x22hljs-keyword\x22\x3eto\x3c\/span\x3e enter information that will \nbe incorporated into your certificate request.\nWhat you are about \x3cspan class=\x22hljs-keyword\x22\x3eto\x3c\/span\x3e enter \x3cspan class=\x22hljs-keyword\x22\x3eis\x3c\/span\x3e what \x3cspan class=\x22hljs-keyword\x22\x3eis\x3c\/span\x3e called a Distinguished \n\x3cspan class=\x22hljs-keyword\x22\x3eName\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eor\x3c\/span\x3e a DN. There are quite a few fields but you can leave some blank\n\x3cspan class=\x22hljs-keyword\x22\x3eFor\x3c\/span\x3e some fields there will be a \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e value,\n\x3cspan class=\x22hljs-keyword\x22\x3eIf\x3c\/span\x3e you enter \x3cspan class=\x22hljs-string\x22\x3e\x27.\x27\x3c\/span\x3e, the field will be left blank.\n-----\nCountry \x3cspan class=\x22hljs-keyword\x22\x3eName\x3c\/span\x3e (\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e letter code) [AU]:US\nState \x3cspan class=\x22hljs-keyword\x22\x3eor\x3c\/span\x3e Province \x3cspan class=\x22hljs-keyword\x22\x3eName\x3c\/span\x3e (full \x3cspan class=\x22hljs-keyword\x22\x3ename\x3c\/span\x3e) [Some-State]:WA\nLocality \x3cspan class=\x22hljs-keyword\x22\x3eName\x3c\/span\x3e (eg, city) []:Seattle\nOrganization \x3cspan class=\x22hljs-keyword\x22\x3eName\x3c\/span\x3e (eg, company) [Internet Widgits Pty Ltd]:Alrac Writing Sweatshop\nOrganizational \x3cspan class=\x22hljs-keyword\x22\x3eUnit\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eName\x3c\/span\x3e (eg, section) []:home dungeon\nCommon \x3cspan class=\x22hljs-keyword\x22\x3eName\x3c\/span\x3e (e.g. server FQDN \x3cspan class=\x22hljs-keyword\x22\x3eor\x3c\/span\x3e YOUR \x3cspan class=\x22hljs-keyword\x22\x3ename\x3c\/span\x3e) []:www.test.com\nEmail Address []:admin@test.com\n\n$ sudo update-ca-certificates\nUpdating certificates \x3cspan class=\x22hljs-keyword\x22\x3ein\x3c\/span\x3e \/etc\/ssl\/certs...\n\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e added, \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e removed; done.\nRunning hooks \x3cspan class=\x22hljs-keyword\x22\x3ein\x3c\/span\x3e \/etc\/ca-certificates\/update.d...\n\nAdding debian:test-com.pem\ndone.\ndone.\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3eCentOS\/Fedora 使用不同的文件结构，并不使用 \x3ccode\x3eupdate-ca-certificates\x3c\/code\x3e，使用这个命令：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs groovy\x22\x3e$ sudo openssl req -x509 -days \x3cspan class=\x22hljs-number\x22\x3e365\x3c\/span\x3e -nodes -newkey \x3cspan class=\x22hljs-string\x22\x3ersa:\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e2048\x3c\/span\x3e \\\n   -keyout \x3cspan class=\x22hljs-regexp\x22\x3e\/etc\/\x3c\/span\x3ehttpd\x3cspan class=\x22hljs-regexp\x22\x3e\/ssl\/\x3c\/span\x3etest-com.key -out \\\n   \x3cspan class=\x22hljs-regexp\x22\x3e\/etc\/\x3c\/span\x3ehttpd\x3cspan class=\x22hljs-regexp\x22\x3e\/ssl\/\x3c\/span\x3etest-com.crt\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e最重要的条目是 \x3ccode\x3eCommon Name\x3c\/code\x3e，它必须与你的完全限定域名（FQDN）完全匹配。此外其它信息都是任意的。\x3ccode\x3e-nodes\x3c\/code\x3e 用于创建一个无密码的证书，这是 Apache 所必需的。\x3ccode\x3e-days\x3c\/code\x3e 用于定义过期日期。更新证书是一个麻烦的事情，但这样应该能够额外提供一些安全保障。参见 \x3ca href=\x22https:\/\/community.letsencrypt.org\/t\/pros-and-cons-of-90-day-certificate-lifetimes\/4621\x22\x3e90 天证书有效期的利弊\x3c\/a\x3e中的讨论。\x3c\/p\x3e\n\x3ch3\x3e\x3ca href=\x22#配置-apache\x22\x3e\x3c\/a\x3e配置 Apache\x3c\/h3\x3e\n\x3cp\x3e现在配置 Apache 以使用你的新证书。如果你遵循\x3ca href=\x22https:\/\/www.linux.com\/learn\/apache-ubuntu-linux-beginners-part-2\x22\x3e给初学者看的在 Ubuntu Linux 上使用 Apache：第 2 部分\x3c\/a\x3e，你所要做的就是修改虚拟主机配置中的 \x3ccode\x3eSSLCertificateFile\x3c\/code\x3e 和 \x3ccode\x3eSSLCertificateKeyFile\x3c\/code\x3e，以指向你的新私钥和公共证书。来自该教程中的 \x3ccode\x3etest.com\x3c\/code\x3e 示例现在看起来像这样：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs awk\x22\x3eSSLCertificateFile \x3cspan class=\x22hljs-regexp\x22\x3e\/etc\/\x3c\/span\x3essl\x3cspan class=\x22hljs-regexp\x22\x3e\/certs\/\x3c\/span\x3etest-com.pem\nSSLCertificateKeyFile \x3cspan class=\x22hljs-regexp\x22\x3e\/etc\/\x3c\/span\x3essl\x3cspan class=\x22hljs-regexp\x22\x3e\/private\/\x3c\/span\x3etest-com.key\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3eCentOS 用户，请参阅在 CentOS wiki 中的\x3ca href=\x22https:\/\/wiki.centos.org\/HowTos\/Https\x22\x3e在 CentOS 上设置 SSL 加密的 Web 服务器\x3c\/a\x3e一文。过程是类似的，wiki 会告诉如何处理 SELinux。\x3c\/p\x3e\n\x3ch3\x3e\x3ca href=\x22#测试-apache-ssl\x22\x3e\x3c\/a\x3e测试 Apache SSL\x3c\/h3\x3e\n\x3cp\x3e一个简单的方法是用你的网络浏览器访问 \x3ca href=\x22https:\/\/yoursite.com%EF%BC%8C%E7%9C%8B%E7%9C%8B%E5%AE%83%E6%98%AF%E5%90%A6%E5%8F%AF%E4%BB%A5%E6%AD%A3%E5%B8%B8%E5%B7%A5%E4%BD%9C%E3%80%82%E5%9C%A8%E7%AC%AC%E4%B8%80%E6%AC%A1%E8%BF%99%E6%A0%B7%E5%81%9A%E6%97%B6%EF%BC%8C%E4%BD%A0%E4%BC%9A%E5%9C%A8%E4%BD%A0%E8%BF%87%E5%BA%A6%E4%BF%9D%E6%8A%A4%E7%9A%84\x22\x3ehttps:\/\/yoursite.com，看看它是否可以正常工作。在第一次这样做时，你会在你过度保护的\x3c\/a\x3e web 浏览器中看到可怕的警告说网站是不安全的，因为它使用的是自签名证书。请忽略你这个敏感的浏览器，并单击屏幕创建永久性例外。 如果你遵循在\x3ca href=\x22https:\/\/www.linux.com\/learn\/apache-ubuntu-linux-beginners-part-2\x22\x3e给初学者看的在 Ubuntu Linux 上使用 Apache：第 2 部分\x3c\/a\x3e上的示例虚拟主机配置，那么即使你的网站访问者尝试使用纯 HTTP，你的网站的所有流量都将强制通过 HTTPS。\x3c\/p\x3e\n\x3cp\x3e一个很好测试方法是使用 OpenSSL。是的，有一个漂亮的命令来测试这些东西。试下这个：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs routeros\x22\x3e$ openssl s_client -connect www.test.com:443\nCONNECTED(00000003)\n\x3cspan class=\x22hljs-attribute\x22\x3edepth\x3c\/span\x3e=0 C = US, ST = WA, L = Seattle, O = Alrac Writing Sweatshop, \nOU = home dungeon, CN = www.test.com, emailAddress = admin@test.com\nverify return:1\n---\nCertificate chain\n 0 s:\/\x3cspan class=\x22hljs-attribute\x22\x3eC\x3c\/span\x3e=US\/ST=WA\/L=Seattle\/O=Alrac Writing Sweatshop\/\x3cspan class=\x22hljs-attribute\x22\x3eOU\x3c\/span\x3e=home \n     dungeon\/\x3cspan class=\x22hljs-attribute\x22\x3eCN\x3c\/span\x3e=www.test.com\/emailAddress=admin@test.com\n   i:\/\x3cspan class=\x22hljs-attribute\x22\x3eC\x3c\/span\x3e=US\/ST=WA\/L=Seattle\/O=Alrac Writing Sweatshop\/\x3cspan class=\x22hljs-attribute\x22\x3eOU\x3c\/span\x3e=home \n     dungeon\/\x3cspan class=\x22hljs-attribute\x22\x3eCN\x3c\/span\x3e=www.test.com\/emailAddress=admin@test.com\n---\x3cspan class=\x22hljs-built_in\x22\x3e\nServer \x3c\/span\x3ecertificate\n-----BEGIN CERTIFICATE-----\n[\x3cspan class=\x22hljs-built_in\x22\x3e..\x3c\/span\x3e.]\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e这里输出了大量的信息。这里有很多关于 \x3ccode\x3eopenssl s_client\x3c\/code\x3e 的有趣信息; 现在足够我们知道我们的 web 服务器是否使用了正确的 SSL 证书。\x3c\/p\x3e\n\x3ch3\x3e\x3ca href=\x22#创建一个证书签名请求\x22\x3e\x3c\/a\x3e创建一个证书签名请求\x3c\/h3\x3e\n\x3cp\x3e如果你决定使用第三方证书颁发机构（CA），那么就必须创建证书签名请求（CSR）。你将它发送给你的新 CA，他们将签署并将其发送给您。他们可能对创建你的 CSR 有自己的要求; 这是如何创建一个新的私钥和 CSR 的典型示例：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs stylus\x22\x3e$ openssl req -newkey rsa:\x3cspan class=\x22hljs-number\x22\x3e2048\x3c\/span\x3e -nodes \\\n   -keyout yourdomain\x3cspan class=\x22hljs-selector-class\x22\x3e.key\x3c\/span\x3e -out yourdomain\x3cspan class=\x22hljs-selector-class\x22\x3e.csr\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e你也可以从一个已经存在的 key 中创建一个 CSR：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs maxima\x22\x3e$ openssl req  -\x3cspan class=\x22hljs-built_in\x22\x3ekey\x3c\/span\x3e yourdomain.\x3cspan class=\x22hljs-built_in\x22\x3ekey\x3c\/span\x3e \\\n   -\x3cspan class=\x22hljs-built_in\x22\x3enew\x3c\/span\x3e -out \x3cspan class=\x22hljs-built_in\x22\x3edomain\x3c\/span\x3e.csr\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e今天就是这样了。下周我们将\x3ca href=\x22https:\/\/www.linux.com\/learn\/intro-to-linux\/openssl-apache-and-dovecot-part-2\x22\x3e学习如何正确地在 Dovecot 中设置 OpenSSL\x3c\/a\x3e。\x3c\/p\x3e\n\x3ch3\x3e\x3ca href=\x22#额外的教程\x22\x3e\x3c\/a\x3e额外的教程\x3c\/h3\x3e\n\x3cul\x3e\n\x3cli\x3e\x3ca href=\x22https:\/\/www.linux.com\/learn\/quieting-scary-web-browser-ssl-alerts\x22\x3e消灭让人害怕的 web 浏览器 SSL 警告\x3c\/a\x3e\x3c\/li\x3e\n\x3cli\x3e\x3ca href=\x22https:\/\/www.linux.com\/learn\/how-set-secure-remote-networking-openvpn-linux-part-1\x22\x3e如何在 Linux 上使用 OpenVPN 设置安全远程网络：第一部分\x3c\/a\x3e\x3c\/li\x3e\n\x3cli\x3e\x3ca href=\x22https:\/\/www.linux.com\/learn\/how-set-secure-remote-networking-openvpn-linux-part-2\x22\x3e如何在 Linux 上使用 OpenVPN 设置安全远程网络：第一部分\x3c\/a\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e提高你的系统管理职业生涯吧！查看Linux基金会的\x3ca href=\x22https:\/\/training.linuxfoundation.org\/linux-courses\/system-administration-training\/essentials-of-system-administration\x22\x3e系统管理的要点\x3c\/a\x3e课程。\x3c\/p\x3e\n\x3chr\x3e\n\x3cp\x3evia: \x3ca href=\x22https:\/\/www.linux.com\/learn\/sysadmin\/openssl-apache-and-dovecot\x22\x3ehttps:\/\/www.linux.com\/learn\/sysadmin\/openssl-apache-and-dovecot\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e作者：\x3ca href=\x22https:\/\/www.linux.com\/users\/cschroder\x22\x3eCARLA SCHRODER\x3c\/a\x3e 译者：\x3ca href=\x22https:\/\/github.com\/geekpi\x22\x3egeekpi\x3c\/a\x3e 校对：\x3ca href=\x22https:\/\/github.com\/wxy\x22\x3ewxy\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e本文由 \x3ca href=\x22https:\/\/github.com\/LCTT\/TranslateProject\x22\x3eLCTT\x3c\/a\x3e 原创编译，\x3ca href=\x22https:\/\/linux.cn\/\x22\x3eLinux中国\x3c\/a\x3e 荣誉推出\x3c\/p\x3e\n\n          \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>OpenSSL 在 Apache 和 Dovecot 下的使用（一）</p><h2 id="原文链接">原文链接</h2><p><a href="https://www.zcfy.cc/article/openssl-for-apache-and-dovecot-part-1">https://www.zcfy.cc/article/openssl-for-apache-and-dovecot-part-1</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/hp2zdk34b78/" target="_blank">https://alili.tech/archive/hp2zdk34b78/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/t61hviqrk8g/">1-vuejs2.0实战：仿豆瓣app项目，创建自定义组件tabbar<aside class="dates">2019-01-26</aside></a></li><li><a href="/archive/zsxxn0n7jj/">2-vuejs2.0实战：仿豆瓣app项目，创建组件header,tabbar路由跳转<aside class="dates">2019-01-26</aside></a></li><li><a href="/archive/4ns5cwxsi05/">40 行代码内实现一个 React.js<aside class="dates">2019-01-26</aside></a></li><li><a href="/archive/imbao5um82/">50行代码搞定无限滑动幻灯片<aside class="dates">2019-01-26</aside></a></li><li><a href="/archive/kfss2f33qsh/">CSS效果篇--CSS3实现5种预载动画效果<aside class="dates">2019-01-26</aside></a></li><li><a href="/archive/4tsylfrtz8w/">ES6—类的实现原理<aside class="dates">2019-01-26</aside></a></li><li><a href="/archive/mzd8glfuhd/">H5实例教学--从AnimateCC到CreateJS入门<aside class="dates">2019-01-26</aside></a></li><li><a href="/archive/xhjgf527wvr/">H5实例教学--微信内嵌视频1（案例浅析）<aside class="dates">2019-01-26</aside></a></li><li><a href="/archive/0hqst6af5tx/">HTML&#43;CSS&#43;JAVASCRIPT 高仿低配网页版网易云音乐播放器<aside class="dates">2019-01-26</aside></a></li><li><a href="/archive/14vf08gpmnw/">HTTP验证大法(Basic Auth,Session, JWT, Oauth, Openid)<aside class="dates">2019-01-26</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>