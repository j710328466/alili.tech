<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="JavaScript专题之类型判断(上)"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>JavaScript专题之类型判断(上) | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/9y65h18bwyn/",
				"appid": "1613049289050283", 
				"title": "JavaScript专题之类型判断(上) | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-11T02:30:07"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/7dqldu9id15/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/ldz90nxuwg/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2f9y65h18bwyn%2f&text=JavaScript%e4%b8%93%e9%a2%98%e4%b9%8b%e7%b1%bb%e5%9e%8b%e5%88%a4%e6%96%ad%28%e4%b8%8a%29"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2f9y65h18bwyn%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2f9y65h18bwyn%2f&text=JavaScript%e4%b8%93%e9%a2%98%e4%b9%8b%e7%b1%bb%e5%9e%8b%e5%88%a4%e6%96%ad%28%e4%b8%8a%29"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2f9y65h18bwyn%2f&title=JavaScript%e4%b8%93%e9%a2%98%e4%b9%8b%e7%b1%bb%e5%9e%8b%e5%88%a4%e6%96%ad%28%e4%b8%8a%29"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2f9y65h18bwyn%2f&is_video=false&description=JavaScript%e4%b8%93%e9%a2%98%e4%b9%8b%e7%b1%bb%e5%9e%8b%e5%88%a4%e6%96%ad%28%e4%b8%8a%29"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=JavaScript%e4%b8%93%e9%a2%98%e4%b9%8b%e7%b1%bb%e5%9e%8b%e5%88%a4%e6%96%ad%28%e4%b8%8a%29&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2f9y65h18bwyn%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2f9y65h18bwyn%2f&title=JavaScript%e4%b8%93%e9%a2%98%e4%b9%8b%e7%b1%bb%e5%9e%8b%e5%88%a4%e6%96%ad%28%e4%b8%8a%29"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f9y65h18bwyn%2f&title=JavaScript%e4%b8%93%e9%a2%98%e4%b9%8b%e7%b1%bb%e5%9e%8b%e5%88%a4%e6%96%ad%28%e4%b8%8a%29"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f9y65h18bwyn%2f&title=JavaScript%e4%b8%93%e9%a2%98%e4%b9%8b%e7%b1%bb%e5%9e%8b%e5%88%a4%e6%96%ad%28%e4%b8%8a%29"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f9y65h18bwyn%2f&title=JavaScript%e4%b8%93%e9%a2%98%e4%b9%8b%e7%b1%bb%e5%9e%8b%e5%88%a4%e6%96%ad%28%e4%b8%8a%29"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">JavaScript专题之类型判断(上)</h1><div class="meta"><div class="postdate"><time datetime="2019-01-11" itemprop="datePublished">2019-01-11</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cblockquote\x3e\x3cp\x3eJavaScript专题系列第四篇，讲解类型判断的各种方法，并且跟着 jQuery 写一个 type 函数。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3e前言\x3c\/h2\x3e\n\x3cp\x3e类型判断在 web 开发中有非常广泛的应用，简单的有判断数字还是字符串，进阶一点的有判断数组还是对象，再进阶一点的有判断日期、正则、错误类型，再再进阶一点还有比如判断 plainObject、空对象、Window 对象等等。\x3c\/p\x3e\n\x3cp\x3e以上都会讲，今天是上半场。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3etypeof\x3c\/h2\x3e\n\x3cp\x3e我们最最常用的莫过于 typeof，注意，尽管我们会看到诸如：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22console.log(typeof(\x27yayu\x27)) \/\/ string\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-keyword\x22\x3etypeof\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27yayu\x27\x3c\/span\x3e)) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ string\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e的写法，但是 typeof 可是一个正宗的运算符，就跟加减乘除一样！这就能解释为什么下面这种写法也是可行的：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22console.log(typeof \x27yayu\x27) \/\/ string\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-keyword\x22\x3etypeof\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27yayu\x27\x3c\/span\x3e) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ string\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e引用《JavaScript权威指南》中对 typeof 的介绍：\x3c\/p\x3e\n\x3cblockquote\x3e\x3cp\x3etypeof 是一元操作符，放在其单个操作数的前面，操作数可以是任意类型。返回值为表示操作数类型的一个字符串。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e那我们都知道，在 ES6 前，JavaScript 共六种数据类型，分别是：\x3c\/p\x3e\n\x3cp\x3eUndefined、Null、Boolean、Number、String、Object \x3c\/p\x3e\n\x3cp\x3e然而当我们使用 typeof 对这些数据类型的值进行操作的时候，返回的结果却不是一一对应，分别是：\x3c\/p\x3e\n\x3cp\x3eundefined、object、boolean、number、string、object \x3c\/p\x3e\n\x3cp\x3e注意以上都是小写的字符串。Null 和 Object 类型都返回了 object 字符串。\x3c\/p\x3e\n\x3cp\x3e尽管不能一一对应，但是 typeof 却能检测出函数类型：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function a() {}\n\nconsole.log(typeof a); \/\/ function\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ea\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{}\n\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-keyword\x22\x3etypeof\x3c\/span\x3e a); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ function\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e所以 typeof 能检测出六种类型的值，但是，除此之外 Object 下还有很多细分的类型呐，如 Array、Function、Date、RegExp、Error 等。\x3c\/p\x3e\n\x3cp\x3e如果用 typeof 去检测这些类型，举个例子：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var date = new Date();\nvar error = new Error();\nconsole.log(typeof date); \/\/ object\nconsole.log(typeof error); \/\/ object\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e date = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eDate\x3c\/span\x3e();\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e error = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eError\x3c\/span\x3e();\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-keyword\x22\x3etypeof\x3c\/span\x3e date); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ object\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-keyword\x22\x3etypeof\x3c\/span\x3e error); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ object\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e返回的都是 object 呐，这可怎么区分~ 所以有没有更好的方法呢？\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3eObejct.prototype.toString\x3c\/h2\x3e\n\x3cp\x3e是的，当然有！这就是 Object.prototype.toString！\x3c\/p\x3e\n\x3cp\x3e那 Object.protototype.toString 究竟是一个什么样的方法呢？\x3c\/p\x3e\n\x3cp\x3e为了更加细致的讲解这个函数，让我先献上 ES5 规范地址：\x3ca href=\x22https:\/\/es5.github.io\/#x15.2.4.2\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/es5.github.io\/#x15.2.4.2\x3c\/a\x3e。\x3c\/p\x3e\n\x3cp\x3e在第 15.2.4.2 节讲的就是 Object.prototype.toString()，为了不误导大家，我先奉上英文版：\x3c\/p\x3e\n\x3cblockquote\x3e\n\x3cp\x3eWhen the toString method is called, the following steps are taken:\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\x3cp\x3eIf the \x3cstrong\x3ethis\x3c\/strong\x3e value is \x3cstrong\x3eundefined\x3c\/strong\x3e, return \x22\x3cstrong\x3e[object Undefined]\x3c\/strong\x3e\x22.\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eIf the \x3cstrong\x3ethis\x3c\/strong\x3e value is \x3cstrong\x3enull\x3c\/strong\x3e, return \x22\x3cstrong\x3e[object Null]\x3c\/strong\x3e\x22.\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eLet \x3cem\x3eO\x3c\/em\x3e be the result of calling ToObject passing the \x3cstrong\x3ethis\x3c\/strong\x3e value as the argument.\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eLet \x3cem\x3eclass\x3c\/em\x3e be the value of the [[Class]] internal property of \x3cem\x3eO\x3c\/em\x3e.\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eReturn the String value that is the result of concatenating the three Strings \x22\x3cstrong\x3e[object\x3c\/strong\x3e \x22, \x3cem\x3eclass\x3c\/em\x3e, and \x22\x3cstrong\x3e]\x3c\/strong\x3e\x22.\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3c\/blockquote\x3e\n\x3cp\x3e凡是规范上加粗或者斜体的，在这里我也加粗或者斜体了，就是要让大家感受原汁原味的规范！\x3c\/p\x3e\n\x3cp\x3e如果没有看懂，就不妨看看我理解的：\x3c\/p\x3e\n\x3cp\x3e当 toString 方法被调用的时候，下面的步骤会被执行：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\x3cp\x3e如果 this 值是 undefined，就返回 [object Undefined]\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e如果 this 的值是 null，就返回 [object Null]\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e让 O 成为 ToObject(this) 的结果\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e让 class 成为 O 的内部属性 [[Class]] 的值\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e最后返回由 \x22[object \x22 和 class 和 \x22]\x22 三个部分组成的字符串\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e通过规范，我们至少知道了调用 Object.prototype.toString 会返回一个由 \x22[object \x22 和 class 和 \x22]\x22 组成的字符串，而 class 是要判断的对象的内部属性。\x3c\/p\x3e\n\x3cp\x3e让我们写个 demo:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22console.log(Object.prototype.toString.call(undefined)) \/\/ [object Undefined]\nconsole.log(Object.prototype.toString.call(null)) \/\/ [object Null]\n\nvar date = new Date();\nconsole.log(Object.prototype.toString.call(date)) \/\/ [object Date]\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-built_in\x22\x3eObject\x3c\/span\x3e.prototype.toString.call(\x3cspan class=\x22hljs-literal\x22\x3eundefined\x3c\/span\x3e)) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ [object Undefined]\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-built_in\x22\x3eObject\x3c\/span\x3e.prototype.toString.call(\x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e)) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ [object Null]\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e date = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eDate\x3c\/span\x3e();\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-built_in\x22\x3eObject\x3c\/span\x3e.prototype.toString.call(date)) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ [object Date]\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e由此我们可以看到这个 class 值就是识别对象类型的关键！\x3c\/p\x3e\n\x3cp\x3e正是因为这种特性，我们可以用 Object.prototype.toString 方法识别出更多类型！\x3c\/p\x3e\n\x3cp\x3e那到底能识别多少种类型呢？\x3c\/p\x3e\n\x3cp\x3e至少 12 种！\x3c\/p\x3e\n\x3cp\x3e你咋知道的？\x3c\/p\x3e\n\x3cp\x3e我数的！\x3c\/p\x3e\n\x3cp\x3e……\x3c\/p\x3e\n\x3cp\x3e让我们看个 demo:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 以下是11种：\nvar number = 1;          \/\/ [object Number]\nvar string = \x27123\x27;      \/\/ [object String]\nvar boolean = true;      \/\/ [object Boolean]\nvar und = undefined;     \/\/ [object Undefined]\nvar nul = null;          \/\/ [object Null]\nvar obj = {a: 1}         \/\/ [object Object]\nvar array = [1, 2, 3];   \/\/ [object Array]\nvar date = new Date();   \/\/ [object Date]\nvar error = new Error(); \/\/ [object Error]\nvar reg = \/a\/g;          \/\/ [object RegExp]\nvar func = function a(){}; \/\/ [object Function]\n\nfunction checkType() {\n    for (var i = 0; i \x3c arguments.length; i\x2b\x2b) {\n        console.log(Object.prototype.toString.call(arguments[i]))\n    }\n}\n\ncheckType(number, string, boolean, und, nul, obj, array, date, error, reg, func)\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 以下是11种：\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e number = \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;          \x3cspan class=\x22hljs-comment\x22\x3e\/\/ [object Number]\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e string = \x3cspan class=\x22hljs-string\x22\x3e\x27123\x27\x3c\/span\x3e;      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ [object String]\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e boolean = \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e;      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ [object Boolean]\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e und = \x3cspan class=\x22hljs-literal\x22\x3eundefined\x3c\/span\x3e;     \x3cspan class=\x22hljs-comment\x22\x3e\/\/ [object Undefined]\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e nul = \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e;          \x3cspan class=\x22hljs-comment\x22\x3e\/\/ [object Null]\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e obj = {\x3cspan class=\x22hljs-attr\x22\x3ea\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e}         \x3cspan class=\x22hljs-comment\x22\x3e\/\/ [object Object]\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e array = [\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e];   \x3cspan class=\x22hljs-comment\x22\x3e\/\/ [object Array]\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e date = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eDate\x3c\/span\x3e();   \x3cspan class=\x22hljs-comment\x22\x3e\/\/ [object Date]\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e error = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eError\x3c\/span\x3e(); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ [object Error]\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e reg = \x3cspan class=\x22hljs-regexp\x22\x3e\/a\/g\x3c\/span\x3e;          \x3cspan class=\x22hljs-comment\x22\x3e\/\/ [object RegExp]\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e func = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ea\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{}; \x3cspan class=\x22hljs-comment\x22\x3e\/\/ [object Function]\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3echeckType\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; i \x26lt; \x3cspan class=\x22hljs-built_in\x22\x3earguments\x3c\/span\x3e.length; i\x2b\x2b) {\n        \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-built_in\x22\x3eObject\x3c\/span\x3e.prototype.toString.call(\x3cspan class=\x22hljs-built_in\x22\x3earguments\x3c\/span\x3e[i]))\n    }\n}\n\ncheckType(number, string, boolean, und, nul, obj, array, date, error, reg, func)\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e除了以上 11 种之外，还有：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22console.log(Object.prototype.toString.call(Math)); \/\/ [object Math]\nconsole.log(Object.prototype.toString.call(JSON)); \/\/ [object JSON]\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-built_in\x22\x3eObject\x3c\/span\x3e.prototype.toString.call(\x3cspan class=\x22hljs-built_in\x22\x3eMath\x3c\/span\x3e)); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ [object Math]\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-built_in\x22\x3eObject\x3c\/span\x3e.prototype.toString.call(\x3cspan class=\x22hljs-built_in\x22\x3eJSON\x3c\/span\x3e)); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ [object JSON]\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e除了以上 13 种之外，还有：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function a() {\n    console.log(Object.prototype.toString.call(arguments)); \/\/ [object Arguments]\n}\na();\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ea\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-built_in\x22\x3eObject\x3c\/span\x3e.prototype.toString.call(\x3cspan class=\x22hljs-built_in\x22\x3earguments\x3c\/span\x3e)); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ [object Arguments]\x3c\/span\x3e\n}\na();\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e所以我们可以识别至少 14 种类型，当然我们也可以算出来，[[class]] 属性至少有 12 个。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader3\x22\x3etype API\x3c\/h2\x3e\n\x3cp\x3e既然有了 Object.prototype.toString 这个神器！那就让我们写个 type 函数帮助我们以后识别各种类型的值吧！\x3c\/p\x3e\n\x3cp\x3e我的设想：\x3c\/p\x3e\n\x3cp\x3e写一个 type 函数能检测各种类型的值，如果是基本类型，就使用 typeof，引用类型就使用 toString。此外鉴于 typeof 的结果是小写，我也希望所有的结果都是小写。\x3c\/p\x3e\n\x3cp\x3e考虑到实际情况下并不会检测 Math 和 JSON，所以去掉这两个类型的检测。\x3c\/p\x3e\n\x3cp\x3e我们来写一版代码：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 第一版\nvar class2type = {};\n\n\/\/ 生成class2type映射\n\x26quot;Boolean Number String Function Array Date RegExp Object Error Null Undefined\x26quot;.split(\x26quot; \x26quot;).map(function(item, index) {\n    class2type[\x26quot;[object \x26quot; \x2b item \x2b \x26quot;]\x26quot;] = item.toLowerCase();\n})\n\nfunction type(obj) {\n    return typeof obj === \x26quot;object\x26quot; || typeof obj === \x26quot;function\x26quot; ?\n        class2type[Object.prototype.toString.call(obj)] || \x26quot;object\x26quot; :\n        typeof obj;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 第一版\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e class2type = {};\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 生成class2type映射\x3c\/span\x3e\n\x3cspan class=\x22hljs-string\x22\x3e\x22Boolean Number String Function Array Date RegExp Object Error Null Undefined\x22\x3c\/span\x3e.split(\x3cspan class=\x22hljs-string\x22\x3e\x22 \x22\x3c\/span\x3e).map(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eitem, index\x3c\/span\x3e) \x3c\/span\x3e{\n    class2type[\x3cspan class=\x22hljs-string\x22\x3e\x22[object \x22\x3c\/span\x3e \x2b item \x2b \x3cspan class=\x22hljs-string\x22\x3e\x22]\x22\x3c\/span\x3e] = item.toLowerCase();\n})\n\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3etype\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eobj\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3etypeof\x3c\/span\x3e obj === \x3cspan class=\x22hljs-string\x22\x3e\x22object\x22\x3c\/span\x3e || \x3cspan class=\x22hljs-keyword\x22\x3etypeof\x3c\/span\x3e obj === \x3cspan class=\x22hljs-string\x22\x3e\x22function\x22\x3c\/span\x3e ?\n        class2type[\x3cspan class=\x22hljs-built_in\x22\x3eObject\x3c\/span\x3e.prototype.toString.call(obj)] || \x3cspan class=\x22hljs-string\x22\x3e\x22object\x22\x3c\/span\x3e :\n        \x3cspan class=\x22hljs-keyword\x22\x3etypeof\x3c\/span\x3e obj;\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e嗯，看起来很完美的样子~~ 但是注意，在 IE6 中，null 和 undefined 会被 Object.prototype.toString 识别成 [object Object]！\x3c\/p\x3e\n\x3cp\x3e我去，竟然还有这个兼容性！有什么简单的方法可以解决吗？那我们再改写一版，绝对让你惊艳！\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 第二版\nvar class2type = {};\n\n\/\/ 生成class2type映射\n\x26quot;Boolean Number String Function Array Date RegExp Object Error\x26quot;.split(\x26quot; \x26quot;).map(function(item, index) {\n    class2type[\x26quot;[object \x26quot; \x2b item \x2b \x26quot;]\x26quot;] = item.toLowerCase();\n})\n\nfunction type(obj) {\n    \/\/ 一箭双雕\n    if (obj == null) {\n        return obj \x2b \x26quot;\x26quot;;\n    }\n    return typeof obj === \x26quot;object\x26quot; || typeof obj === \x26quot;function\x26quot; ?\n        class2type[Object.prototype.toString.call(obj)] || \x26quot;object\x26quot; :\n        typeof obj;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 第二版\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e class2type = {};\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 生成class2type映射\x3c\/span\x3e\n\x3cspan class=\x22hljs-string\x22\x3e\x22Boolean Number String Function Array Date RegExp Object Error\x22\x3c\/span\x3e.split(\x3cspan class=\x22hljs-string\x22\x3e\x22 \x22\x3c\/span\x3e).map(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eitem, index\x3c\/span\x3e) \x3c\/span\x3e{\n    class2type[\x3cspan class=\x22hljs-string\x22\x3e\x22[object \x22\x3c\/span\x3e \x2b item \x2b \x3cspan class=\x22hljs-string\x22\x3e\x22]\x22\x3c\/span\x3e] = item.toLowerCase();\n})\n\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3etype\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eobj\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 一箭双雕\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (obj == \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e) {\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e obj \x2b \x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e;\n    }\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3etypeof\x3c\/span\x3e obj === \x3cspan class=\x22hljs-string\x22\x3e\x22object\x22\x3c\/span\x3e || \x3cspan class=\x22hljs-keyword\x22\x3etypeof\x3c\/span\x3e obj === \x3cspan class=\x22hljs-string\x22\x3e\x22function\x22\x3c\/span\x3e ?\n        class2type[\x3cspan class=\x22hljs-built_in\x22\x3eObject\x3c\/span\x3e.prototype.toString.call(obj)] || \x3cspan class=\x22hljs-string\x22\x3e\x22object\x22\x3c\/span\x3e :\n        \x3cspan class=\x22hljs-keyword\x22\x3etypeof\x3c\/span\x3e obj;\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader4\x22\x3eisFunction\x3c\/h2\x3e\n\x3cp\x3e有了 type 函数后，我们可以对常用的判断直接封装，比如 isFunction:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function isFunction(obj) {\n    return type(obj) === \x26quot;function\x26quot;;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eisFunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eobj\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e type(obj) === \x3cspan class=\x22hljs-string\x22\x3e\x22function\x22\x3c\/span\x3e;\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader5\x22\x3e数组\x3c\/h2\x3e\n\x3cp\x3ejQuery 判断数组类型，旧版本是通过判断 Array.isArray 方法是否存在，如果存在就使用该方法，不存在就使用 type 函数。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var isArray = Array.isArray || function( obj ) {\n    return type(obj) === \x26quot;array\x26quot;;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e isArray = \x3cspan class=\x22hljs-built_in\x22\x3eArray\x3c\/span\x3e.isArray || \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e obj \x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e type(obj) === \x3cspan class=\x22hljs-string\x22\x3e\x22array\x22\x3c\/span\x3e;\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e但是在 jQuery v3.0 中已经完全采用了 Array.isArray。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader6\x22\x3e结语\x3c\/h2\x3e\n\x3cp\x3e到此，类型判断的上篇就结束了，我们已经可以判断日期、正则、错误类型啦，但是还有更复杂的判断比如 plainObject、空对象、Window对象、类数组对象等，路漫漫其修远兮，吾将上下而求索。\x3c\/p\x3e\n\x3cp\x3e哦， 对了，这个 type 函数抄的 jQuery，\x3ca href=\x22https:\/\/github.com\/jquery\/jquery\/blob\/ac9e3016645078e1e42120822cfb2076151c8cbe\/src\/core.js#L269\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e点击查看 type 源码\x3c\/a\x3e。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader7\x22\x3e专题系列\x3c\/h2\x3e\n\x3cp\x3eJavaScript专题系列目录地址：\x3ca href=\x22https:\/\/github.com\/mqyqingfeng\/Blog\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/github.com\/mqyqingfeng\/Blog\x3c\/a\x3e。\x3c\/p\x3e\n\x3cp\x3eJavaScript专题系列预计写二十篇左右，主要研究日常开发中一些功能点的实现，比如防抖、节流、去重、类型判断、拷贝、最值、扁平、柯里、递归、乱序、排序等，特点是研(chao)究(xi) underscore 和 jQuery 的实现方式。\x3c\/p\x3e\n\x3cp\x3e如果有错误或者不严谨的地方，请务必给予指正，十分感谢。如果喜欢或者有所启发，欢迎 star，对作者也是一种鼓励。\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>JavaScript专题之类型判断(上)</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000009943534">https://segmentfault.com/a/1190000009943534</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/9y65h18bwyn/" target="_blank">https://alili.tech/archive/9y65h18bwyn/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5x6tenwjeux/">ES6中的异步编程：Generators函数&#43;Promise:最强大的异步处理方式<aside class="dates">2019-01-31</aside></a></li><li><a href="/archive/nvtmua2a1hd/">GreenSock (TweenMax) 极简入门指南<aside class="dates">2019-01-31</aside></a></li><li><a href="/archive/7kt5s47oysx/">HTML5 中 canvas 的使用总结<aside class="dates">2019-01-31</aside></a></li><li><a href="/archive/41pgo3a2iyp/">JavaScript 开发者所需要知道的 V8（一）：V8 In NodeJS<aside class="dates">2019-01-31</aside></a></li><li><a href="/archive/krb1zm7x38j/">JavaScript 时间与日期处理实战:你肯定被坑过<aside class="dates">2019-01-31</aside></a></li><li><a href="/archive/yh2lq30d0x/">JavaScript中的各种宽高属性<aside class="dates">2019-01-31</aside></a></li><li><a href="/archive/eydwczesyv/">Muse UI — 基于 Vue2.0 的 Material Design UI 库<aside class="dates">2019-01-31</aside></a></li><li><a href="/archive/y62oejm8cr/">Nodejs基础：路径处理模块path总结<aside class="dates">2019-01-31</aside></a></li><li><a href="/archive/06cwh88ankmd/">PhantomJS &amp; NodeJS 在京东网站前端监控平台的最佳实践<aside class="dates">2019-01-31</aside></a></li><li><a href="/archive/z4ymvs0jz2h/">Promise 的链式调用与中止<aside class="dates">2019-01-31</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>