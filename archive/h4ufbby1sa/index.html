<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="[使用 Weex 和 Vue 开发原生应用] 5 使用 Vuex"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>[使用 Weex 和 Vue 开发原生应用] 5 使用 Vuex | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/h4ufbby1sa/",
				"appid": "1613049289050283", 
				"title": "[使用 Weex 和 Vue 开发原生应用] 5 使用 Vuex | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-25T02:30:23"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/jjn3on1xi2m/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/2pfrcbidnxp/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fh4ufbby1sa%2f&text=%5b%e4%bd%bf%e7%94%a8%20Weex%20%e5%92%8c%20Vue%20%e5%bc%80%e5%8f%91%e5%8e%9f%e7%94%9f%e5%ba%94%e7%94%a8%5d%205%20%e4%bd%bf%e7%94%a8%20Vuex"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fh4ufbby1sa%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fh4ufbby1sa%2f&text=%5b%e4%bd%bf%e7%94%a8%20Weex%20%e5%92%8c%20Vue%20%e5%bc%80%e5%8f%91%e5%8e%9f%e7%94%9f%e5%ba%94%e7%94%a8%5d%205%20%e4%bd%bf%e7%94%a8%20Vuex"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fh4ufbby1sa%2f&title=%5b%e4%bd%bf%e7%94%a8%20Weex%20%e5%92%8c%20Vue%20%e5%bc%80%e5%8f%91%e5%8e%9f%e7%94%9f%e5%ba%94%e7%94%a8%5d%205%20%e4%bd%bf%e7%94%a8%20Vuex"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fh4ufbby1sa%2f&is_video=false&description=%5b%e4%bd%bf%e7%94%a8%20Weex%20%e5%92%8c%20Vue%20%e5%bc%80%e5%8f%91%e5%8e%9f%e7%94%9f%e5%ba%94%e7%94%a8%5d%205%20%e4%bd%bf%e7%94%a8%20Vuex"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%5b%e4%bd%bf%e7%94%a8%20Weex%20%e5%92%8c%20Vue%20%e5%bc%80%e5%8f%91%e5%8e%9f%e7%94%9f%e5%ba%94%e7%94%a8%5d%205%20%e4%bd%bf%e7%94%a8%20Vuex&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fh4ufbby1sa%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fh4ufbby1sa%2f&title=%5b%e4%bd%bf%e7%94%a8%20Weex%20%e5%92%8c%20Vue%20%e5%bc%80%e5%8f%91%e5%8e%9f%e7%94%9f%e5%ba%94%e7%94%a8%5d%205%20%e4%bd%bf%e7%94%a8%20Vuex"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fh4ufbby1sa%2f&title=%5b%e4%bd%bf%e7%94%a8%20Weex%20%e5%92%8c%20Vue%20%e5%bc%80%e5%8f%91%e5%8e%9f%e7%94%9f%e5%ba%94%e7%94%a8%5d%205%20%e4%bd%bf%e7%94%a8%20Vuex"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fh4ufbby1sa%2f&title=%5b%e4%bd%bf%e7%94%a8%20Weex%20%e5%92%8c%20Vue%20%e5%bc%80%e5%8f%91%e5%8e%9f%e7%94%9f%e5%ba%94%e7%94%a8%5d%205%20%e4%bd%bf%e7%94%a8%20Vuex"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fh4ufbby1sa%2f&title=%5b%e4%bd%bf%e7%94%a8%20Weex%20%e5%92%8c%20Vue%20%e5%bc%80%e5%8f%91%e5%8e%9f%e7%94%9f%e5%ba%94%e7%94%a8%5d%205%20%e4%bd%bf%e7%94%a8%20Vuex"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">[使用 Weex 和 Vue 开发原生应用] 5 使用 Vuex</h1><div class="meta"><div class="postdate"><time datetime="2019-01-25" itemprop="datePublished">2019-01-25</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cblockquote\x3e\x3cp\x3e系列文章的目录在 ? \x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000008342533\x22\x3e这里\x3c\/a\x3e\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3e什么是 Vuex ？\x3c\/h2\x3e\n\x3cblockquote\x3e\x3cp\x3e\x3ca href=\x22https:\/\/vuex.vuejs.org\/zh-cn\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eVuex 官方文档\x3c\/a\x3e\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3eVuex 是一个专为 Vue.js 应用程序开发的 \x3cstrong\x3e状态管理模式\x3c\/strong\x3e。它采用集中式存储管理应用的所有组件的状态，并以相应的规则保证状态以一种可预测的方式发生变化。\x3c\/p\x3e\n\x3cp\x3eVuex 的核心工作是状态管理，主要包含了 \x3ccode\x3eState\x3c\/code\x3e, \x3ccode\x3eView\x3c\/code\x3e \x3ccode\x3eActions\x3c\/code\x3e 这三部分，组成了一个简单的“单项数据流”，避免了管理多状态造成的数据不一致问题。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22https:\/\/vuex.vuejs.org\/zh-cn\/images\/flow.png\x22 src=\x22https:\/\/static.alili.techhttps:\/\/vuex.vuejs.org\/zh-cn\/images\/flow.png\x22 alt=\x22Data Flow\x22 title=\x22Data Flow\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3eVuex 是专门为 Vue.js 设计的状态管理库，贴合 Vue 本身的数据更新特性，能够利用 Vue.js 的细粒度数据响应机制来进行高效的状态更新。而且可以是以 插件（plugin）的形式提供，安装完成之后可以很方便的在 VueComponent 实例中获取到全局状态。模块之间的关系和操作如下图所示：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22https:\/\/vuex.vuejs.org\/zh-cn\/images\/vuex.png\x22 src=\x22https:\/\/static.alili.techhttps:\/\/vuex.vuejs.org\/zh-cn\/images\/vuex.png\x22 alt=\x22Vuex Structure\x22 title=\x22Vuex Structure\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e\x3ccode\x3eState\x3c\/code\x3e: 应用的\x3ca href=\x22https:\/\/vuex.vuejs.org\/zh-cn\/state.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e单一状态树\x3c\/a\x3e。通常一个应用里只保存同一份状态（组件仍然可以保有局部状态），为的是便于多个组件之间的状态同步。状态的更新将会触发指定组件的重新渲染。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ccode\x3eAction\x3c\/code\x3e: 描述组件\x3ca href=\x22https:\/\/vuex.vuejs.org\/zh-cn\/actions.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e触发的操作\x3c\/a\x3e。它可以通过 \x3ccode\x3ecommit\x3c\/code\x3e 产生 \x3ccode\x3emutation\x3c\/code\x3e，是对逻辑的封装，组件只需要派发 Action 而不用关心数据到底是如何更新的。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ccode\x3eMutations\x3c\/code\x3e: 描述\x3ca href=\x22https:\/\/vuex.vuejs.org\/zh-cn\/mutations.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e状态应该如何更新\x3c\/a\x3e。只有提交 \x3ccode\x3emutation\x3c\/code\x3e 才可以更新 Store 中的状态，它是对数据操作的封装，定义了如何更新状态数据。\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cblockquote\x3e\x3cp\x3e以上只是对 Vuex 的概述，想要了解详细的原理和用法，还是得看\x3ca href=\x22https:\/\/vuex.vuejs.org\/zh-cn\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e官方文档\x3c\/a\x3e。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e怎么在 Weex 里用 Vuex\x3c\/h2\x3e\n\x3cp\x3eVuex 是个状态管理的库，用的都是 javascript 本身的语法特性，是与平台无关的，所以它可以完全正常的用在 Weex 里。\x3c\/p\x3e\n\x3cp\x3e不过因为 Vue.js 框架代码已经集成在 WeexSDK （0.9.5 以上）中，所以你不需要再引入一遍 Vue 。另外因为 Vuex \x3ca href=\x22https:\/\/github.com\/vuejs\/vuex\/blob\/4e1e9b230e7c93885c69bc3edf789069df010e36\/src\/store.js#L426-L429\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e在浏览器环境下会自动注册\x3c\/a\x3e，只需要在非 Web 环境下注册 Vuex 插件即可，重复注册的话会抛出警告的。引入 Vuex 的代码如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ import Vue from \x27vue\x27\nimport Vuex from \x27vuex\x27\n\n\/\/ Vuex is auto installed on the web\nif (WXEnvironment.platform !== \x27Web\x27) {\n  Vue.use(Vuex)\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ import Vue from \x27vue\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e Vuex \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27vuex\x27\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Vuex is auto installed on the web\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (WXEnvironment.platform !== \x3cspan class=\x22hljs-string\x22\x3e\x27Web\x27\x3c\/span\x3e) {\n  Vue.use(Vuex)\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e注册成功之后，\x3cstrong\x3e所有 Vuex 的特性都能在 Weex 里使用！\x3c\/strong\x3e 具体用法以\x3ca href=\x22https:\/\/vuex.vuejs.org\/zh-cn\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e官方文档\x3c\/a\x3e为准。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3e使用 Vuex 的例子\x3c\/h2\x3e\n\x3ch3 id=\x22articleHeader3\x22\x3e创建 Store\x3c\/h3\x3e\n\x3cp\x3e首先要创建全局唯一的 Store 对象，包含了唯一的状态树和一些操作。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const store = new Vuex.Store({\n  state: {\n    count: 0\n  },\n\n  mutations: {\n    increment (state) {\n      state.count\x2b\x2b\n    }\n  }\n})\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e store = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Vuex.Store({\n  \x3cspan class=\x22hljs-attr\x22\x3estate\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-attr\x22\x3ecount\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e\n  },\n\n  \x3cspan class=\x22hljs-attr\x22\x3emutations\x3c\/span\x3e: {\n    increment (state) {\n      state.count\x2b\x2b\n    }\n  }\n})\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e除了 \x3ccode\x3estate\x3c\/code\x3e 和 \x3ccode\x3emutations\x3c\/code\x3e 以外，还可以传入 \x3ccode\x3eactions\x3c\/code\x3e 、\x3ccode\x3egetters\x3c\/code\x3e 、\x3ccode\x3emodules\x3c\/code\x3e 这些属性的关系和上边图中一一对应。参考其 \x3ca href=\x22https:\/\/vuex.vuejs.org\/zh-cn\/api.html#vuexstore-\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eAPI 文档\x3c\/a\x3e了解更详细的用法。在 \x3ca href=\x22https:\/\/github.com\/weexteam\/weex-hackernews\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eweex-hackernews\x3c\/a\x3e 项目的 \x3ca href=\x22https:\/\/github.com\/weexteam\/weex-hackernews\/blob\/master\/src\/store\/index.js\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3esrc\/store\/index.js\x3c\/a\x3e 中也有一个更复杂的例子。\x3c\/p\x3e\n\x3cp\x3e然后在创建实例的时候传入 \x3ccode\x3estore\x3c\/code\x3e 对象，这样 Store 就和组件建立了联系，每个组件都可以通过 \x3ccode\x3ethis.$store\x3c\/code\x3e 的方式获取到 Store 中的状态和操作。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import App from \x27path\/to\/App.vue\x27\nimport store from \x27path\/to\/store.js\x27\n\nApp.el = \x27#root\x27\nApp.store = store\n\nnew Vue(App)\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e App \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27path\/to\/App.vue\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e store \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27path\/to\/store.js\x27\x3c\/span\x3e\n\nApp.el = \x3cspan class=\x22hljs-string\x22\x3e\x27#root\x27\x3c\/span\x3e\nApp.store = store\n\n\x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Vue(App)\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader4\x22\x3e添加 Actions 和 Mutations\x3c\/h3\x3e\n\x3cp\x3e光有数据是不行的，还得定义 \x3cem\x3e触发数据修改的行为\x3c\/em\x3e（Actions） 和 \x3cem\x3e对数据的操作\x3c\/em\x3e（Mutations）。以 weex-hackernews 里的加载用户数据为例，可以简化成下边的代码：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 引入网络操作的接口\nimport { fetchUser } from \x27.\/fetch\x27\n\nconst store = new Vuex.Store({\n  state: {\n    users: {},\n  },\n\n  actions: {\n    FETCH_USER ({ commit }, { id }) {\n      \/\/ 获取新的用户数据，然后提交给 mutation\n      return fetchUser(id).then(user =\x3e commit(\x27SET_USER\x27, { user }))\n    }\n  },\n\n  mutations: {\n    SET_USER (state, { user }) {\n      \/\/ 修改 users 中的数据，并且触发界面更新\n      Vue.set(state.users, user.id, user)\n    }\n  }\n})\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 引入网络操作的接口\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { fetchUser } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/fetch\x27\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e store = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Vuex.Store({\n  \x3cspan class=\x22hljs-attr\x22\x3estate\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-attr\x22\x3eusers\x3c\/span\x3e: {},\n  },\n\n  \x3cspan class=\x22hljs-attr\x22\x3eactions\x3c\/span\x3e: {\n    FETCH_USER ({ commit }, { id }) {\n      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 获取新的用户数据，然后提交给 mutation\x3c\/span\x3e\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e fetchUser(id).then(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3euser\x3c\/span\x3e =\x26gt;\x3c\/span\x3e commit(\x3cspan class=\x22hljs-string\x22\x3e\x27SET_USER\x27\x3c\/span\x3e, { user }))\n    }\n  },\n\n  \x3cspan class=\x22hljs-attr\x22\x3emutations\x3c\/span\x3e: {\n    SET_USER (state, { user }) {\n      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 修改 users 中的数据，并且触发界面更新\x3c\/span\x3e\n      Vue.set(state.users, user.id, user)\n    }\n  }\n})\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在上边的代码中，\x3ccode\x3estate\x3c\/code\x3e 里有一个 \x3ccode\x3euser\x3c\/code\x3e 对象，所有需要用户数据的地方都将从这个变量中获取，所有对用户数据的修改实际上也都是改的这个变量。这是全局唯一状态的意义。\x3c\/p\x3e\n\x3cp\x3e然后代码里定义了 \x3ccode\x3eFETCH_USER\x3c\/code\x3e 的 action，和 \x3ccode\x3eSET_USER\x3c\/code\x3e 的 mutation ，注意两者的差别。真正修改 \x3ccode\x3euser\x3c\/code\x3e 数据的是 SET_USER 这个 mutation，也只有 mutation 能修改 state 中的数据。FETCH_USER 负责获取新数据然后派发 mutation，它调用了 \x3ccode\x3efetchUser\x3c\/code\x3e 获取用户数据，然后通过把这个新数据“提交”给 SET_USER 这个 mutation；然后在 mutation 里执行数据更新的操作，\x3ccode\x3eVue.set\x3c\/code\x3e 这个方法会触发更新 \x3ccode\x3estate.users\x3c\/code\x3e 里绑定的界面元素。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader5\x22\x3e使用 Getters\x3c\/h3\x3e\n\x3cblockquote\x3e\x3cp\x3e\x3ca href=\x22https:\/\/vuex.vuejs.org\/zh-cn\/getters.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eGetters 官方文档\x3c\/a\x3e\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3eGetters 类似于 Vue 组件里的 \x3ccode\x3ecomputed\x3c\/code\x3e 属性，可以根据现有的基础状态做运算，然后返回一个新的值。把取值过程写成 Getter 是一种惰性求值，也减少了状态同步的负担。\x3c\/p\x3e\n\x3cp\x3e举个例子，假如你想渲染一个列表中的一组数据，又想渲染这组数据的总和，如果再加一条“数据总和”的属性的话，在列表更新后还得手动更新“数据总和”这条属性，比较麻烦也容易出错。这种情况下就很适合写成一个 Getter。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const store = new Vuex.Store({\n  state: {\n    lists: [\n      { count: 4 },\n      { count: 8 },\n      { count: 3 },\n      { count: 9 }\n    ],\n  },\n\n  getters: {\n    summary ({ lists }) {\n      return lists.reduce((sum, curr) =\x3e sum \x2b curr.count, 0)\n    }\n  }\n})\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e store = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Vuex.Store({\n  \x3cspan class=\x22hljs-attr\x22\x3estate\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-attr\x22\x3elists\x3c\/span\x3e: [\n      { \x3cspan class=\x22hljs-attr\x22\x3ecount\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e },\n      { \x3cspan class=\x22hljs-attr\x22\x3ecount\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e8\x3c\/span\x3e },\n      { \x3cspan class=\x22hljs-attr\x22\x3ecount\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e },\n      { \x3cspan class=\x22hljs-attr\x22\x3ecount\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e9\x3c\/span\x3e }\n    ],\n  },\n\n  \x3cspan class=\x22hljs-attr\x22\x3egetters\x3c\/span\x3e: {\n    summary ({ lists }) {\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e lists.reduce(\x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3esum, curr\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e sum \x2b curr.count, \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e)\n    }\n  }\n})\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e上边代码中的 \x3ccode\x3esummary\x3c\/code\x3e 就是一个对 \x3ccode\x3elists\x3c\/code\x3e 数组求和的 Getter。在实际使用中，组件里可以通过 \x3ccode\x3ethis.$store.state.lists\x3c\/code\x3e 获取 \x3ccode\x3elists\x3c\/code\x3e 列表数据，可以通过 \x3ccode\x3ethis.$store.getters.summary\x3c\/code\x3e 获取数据总和，更新列表的时候数据总和也会自动更新。\x3c\/p\x3e\n\x3ch4\x3e在项目里的实际应用场景\x3c\/h4\x3e\n\x3cp\x3e在 weex-hackernews 的项目的 \x3ca href=\x22https:\/\/github.com\/weexteam\/weex-hackernews\/blob\/v1.0\/src\/store\/index.js#L35-L48\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3esrc\/store\/index.js\x3c\/a\x3e 文件里定义了 \x3ccode\x3eactiveIds\x3c\/code\x3e 的 Getter，用来获取当前首屏 feed 列表中需要展示的数据 ID。然后还定义了 \x3ccode\x3eactiveItems\x3c\/code\x3e，在其中有调用了 \x3ccode\x3eactiveIds\x3c\/code\x3e，会根据活跃的 ID 获取相应的数据对象。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22{\n  \/\/...\n\n  getters: {\n    \/\/ ids of the items that should be currently displayed based on\n    \/\/ current list type and current pagination\n    activeIds (state) {\n      const { activeType, lists, counts } = state\n      return activeType ? lists[activeType].slice(0, counts[activeType]) : []\n    },\n\n    \/\/ items that should be currently displayed.\n    \/\/ this Array may not be fully fetched.\n    activeItems (state, getters) {\n      return getters.activeIds.map(id =\x3e state.items[id]).filter(_ =\x3e _)\n    }\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e{\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/...\x3c\/span\x3e\n\n  getters: {\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ ids of the items that should be currently displayed based on\x3c\/span\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ current list type and current pagination\x3c\/span\x3e\n    activeIds (state) {\n      \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e { activeType, lists, counts } = state\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e activeType ? lists[activeType].slice(\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e, counts[activeType]) : []\n    },\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ items that should be currently displayed.\x3c\/span\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ this Array may not be fully fetched.\x3c\/span\x3e\n    activeItems (state, getters) {\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e getters.activeIds.map(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3eid\x3c\/span\x3e =\x26gt;\x3c\/span\x3e state.items[id]).filter(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e_\x3c\/span\x3e =\x26gt;\x3c\/span\x3e _)\n    }\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e然后在 \x3ca href=\x22https:\/\/github.com\/weexteam\/weex-hackernews\/blob\/v1.0\/src\/views\/StoriesView.vue#L35-L37\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3esrc\/views\/StoriesView.vue\x3c\/a\x3e 这个文件里定义了一个 \x3ccode\x3ecomputed\x3c\/code\x3e 属性，从 Store 中获取列表需要展示的数据。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22{\n  \/\/...\n\n  computed: {\n    stories () {\n      return this.$store.getters.activeItems\n    }\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e{\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/...\x3c\/span\x3e\n\n  computed: {\n    stories () {\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$store.getters.activeItems\n    }\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在 \x3ca href=\x22https:\/\/github.com\/weexteam\/weex-hackernews\/blob\/v1.0\/src\/views\/StoriesView.vue#L5-L7\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eStoriesView.vue\x3c\/a\x3e 的模板中根据 \x3ccode\x3estories\x3c\/code\x3e 这个数据循环创建 \x3ccode\x3e\x26lt;story\x26gt;\x3c\/code\x3e 组件。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3clist\x3e\n  \x3ccell v-for=\x26quot;story in stories\x26quot; :key=\x26quot;story.id\x26quot;\x3e\n    \x3cstory :story=\x26quot;story\x26quot;\x3e\x3c\/story\x3e\n  \x3c\/cell\x3e\n\x3c\/list\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22xml hljs\x22\x3e\x3ccode class=\x22html\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3elist\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ecell\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ev-for\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22story in stories\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3e:key\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22story.id\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3estory\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3e:story\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22story\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3estory\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ecell\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3elist\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader6\x22\x3e最佳实践 ？\x3c\/h2\x3e\n\x3cp\x3e\x3cstrong\x3e以下都是个人观点。\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3eVuex 衍生自 \x3ca href=\x22https:\/\/facebook.github.io\/flux\/docs\/overview.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eFlux\x3c\/a\x3e 架构，用来管理应用的状态，强调单向数据流和全局唯一状态。对于一些数据状态复杂，而且又自上而下实现了组件化的应用里，能发挥很大作用。状态的更新大概能简化为 \x3ccode\x3enextState = f(state, action)\x3c\/code\x3e，有一种函数式的感觉，可以节约逻辑。\x3c\/p\x3e\n\x3cp\x3e虽然 Vuex 与其他技术没有耦合关系，但是通常都是用在单页应用（SPA）里，还经常搭配着 vue-router 使用。不过我在\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000008366358\x22\x3e《【使用 Weex 和 Vue 开发原生应用】 2 编写独立页面》\x3c\/a\x3e 这篇文章里说过，Weex 的实例在 Web 上是和“浏览器页签”的概念相对应的，通常一个 Weex 实例就是一个“页面”，也就是说，Weex 的设计是个“多页应用”，是多实例的。在 Weex 中使用 Vuex，它的作用域是实例级别的，不同页面（实例）之间是不能通过 Vuex 共享状态的。\x3c\/p\x3e\n\x3cp\x3eWeex 毕竟渲染的是原生界面，虽然语法上贴近 Web，但是在一些基本概念上和 Native 更近一些。“单页应用”、“单向数据流”这些概念主要是在前端里比较流行，Weex 只是一个 SDK，在开发原生应用的时候，页面跳转策略这类问题，我觉得还是应该以客户端自身的架构设计为主。\x3c\/p\x3e\n\x3cblockquote\x3e\x3cp\x3eweex-hackernews 这个项目是为了验证 Vuex 和 vue-router 接入的可能性，并不一定是最佳实践。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e我觉得既然 Weex 在原生端是多实例的，就未必适合写单页应用。即使像 Vuex 这种相对独立的状态管理的库，在 “不同页面是不同的 Weex 实例” 这种前提下，就需要根据 App 自身的技术特性，\x3cbr\x3e再考虑一下应不应该使用。\x3c\/p\x3e\n\x3cp\x3e关于单页应用，会在\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000009101411\x22 target=\x22_blank\x22\x3e《使用 vue-router》\x3c\/a\x3e里有更多讨论。\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>[使用 Weex 和 Vue 开发原生应用] 5 使用 Vuex</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000008520677">https://segmentfault.com/a/1190000008520677</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/h4ufbby1sa/" target="_blank">https://alili.tech/archive/h4ufbby1sa/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/t42iv2yle7e/">2016-我的前端之路:工具化与工程化<aside class="dates">2019-01-29</aside></a></li><li><a href="/archive/xlhryjzdso/">2016年总结--成长<aside class="dates">2019-01-29</aside></a></li><li><a href="/archive/4wvjfeus9ur/">2016年末总结，我的前端之路<aside class="dates">2019-01-29</aside></a></li><li><a href="/archive/w7062tmcw3/">3D 视差效果<aside class="dates">2019-01-29</aside></a></li><li><a href="/archive/5jt1iw1t77b/">AlloyTouch实战--60行代码搞定QQ看点资料卡<aside class="dates">2019-01-29</aside></a></li><li><a href="/archive/kquf0fxkw2j/">ES6，你不得不学！<aside class="dates">2019-01-29</aside></a></li><li><a href="/archive/r5b6g4133jh/">Emmet-前端开发神器<aside class="dates">2019-01-29</aside></a></li><li><a href="/archive/5dbaikv4emi/">FreeCodeCamp中级算法题答案<aside class="dates">2019-01-29</aside></a></li><li><a href="/archive/iuyeljg6lm/">JSONP是什么<aside class="dates">2019-01-29</aside></a></li><li><a href="/archive/23ftsgrtzzc/">JS中的观察者模式(发布订阅)<aside class="dates">2019-01-29</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>