<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="利用 webpack 处理开发与线上环境静态资源切换问题"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>利用 webpack 处理开发与线上环境静态资源切换问题 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/u3ldvzk86w/",
				"appid": "1613049289050283", 
				"title": "利用 webpack 处理开发与线上环境静态资源切换问题 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-02-02T02:30:10"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/7aq5zsq5evu/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/sqax56bolg/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fu3ldvzk86w%2f&text=%e5%88%a9%e7%94%a8%20webpack%20%e5%a4%84%e7%90%86%e5%bc%80%e5%8f%91%e4%b8%8e%e7%ba%bf%e4%b8%8a%e7%8e%af%e5%a2%83%e9%9d%99%e6%80%81%e8%b5%84%e6%ba%90%e5%88%87%e6%8d%a2%e9%97%ae%e9%a2%98"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fu3ldvzk86w%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fu3ldvzk86w%2f&text=%e5%88%a9%e7%94%a8%20webpack%20%e5%a4%84%e7%90%86%e5%bc%80%e5%8f%91%e4%b8%8e%e7%ba%bf%e4%b8%8a%e7%8e%af%e5%a2%83%e9%9d%99%e6%80%81%e8%b5%84%e6%ba%90%e5%88%87%e6%8d%a2%e9%97%ae%e9%a2%98"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fu3ldvzk86w%2f&title=%e5%88%a9%e7%94%a8%20webpack%20%e5%a4%84%e7%90%86%e5%bc%80%e5%8f%91%e4%b8%8e%e7%ba%bf%e4%b8%8a%e7%8e%af%e5%a2%83%e9%9d%99%e6%80%81%e8%b5%84%e6%ba%90%e5%88%87%e6%8d%a2%e9%97%ae%e9%a2%98"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fu3ldvzk86w%2f&is_video=false&description=%e5%88%a9%e7%94%a8%20webpack%20%e5%a4%84%e7%90%86%e5%bc%80%e5%8f%91%e4%b8%8e%e7%ba%bf%e4%b8%8a%e7%8e%af%e5%a2%83%e9%9d%99%e6%80%81%e8%b5%84%e6%ba%90%e5%88%87%e6%8d%a2%e9%97%ae%e9%a2%98"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e5%88%a9%e7%94%a8%20webpack%20%e5%a4%84%e7%90%86%e5%bc%80%e5%8f%91%e4%b8%8e%e7%ba%bf%e4%b8%8a%e7%8e%af%e5%a2%83%e9%9d%99%e6%80%81%e8%b5%84%e6%ba%90%e5%88%87%e6%8d%a2%e9%97%ae%e9%a2%98&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fu3ldvzk86w%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fu3ldvzk86w%2f&title=%e5%88%a9%e7%94%a8%20webpack%20%e5%a4%84%e7%90%86%e5%bc%80%e5%8f%91%e4%b8%8e%e7%ba%bf%e4%b8%8a%e7%8e%af%e5%a2%83%e9%9d%99%e6%80%81%e8%b5%84%e6%ba%90%e5%88%87%e6%8d%a2%e9%97%ae%e9%a2%98"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fu3ldvzk86w%2f&title=%e5%88%a9%e7%94%a8%20webpack%20%e5%a4%84%e7%90%86%e5%bc%80%e5%8f%91%e4%b8%8e%e7%ba%bf%e4%b8%8a%e7%8e%af%e5%a2%83%e9%9d%99%e6%80%81%e8%b5%84%e6%ba%90%e5%88%87%e6%8d%a2%e9%97%ae%e9%a2%98"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fu3ldvzk86w%2f&title=%e5%88%a9%e7%94%a8%20webpack%20%e5%a4%84%e7%90%86%e5%bc%80%e5%8f%91%e4%b8%8e%e7%ba%bf%e4%b8%8a%e7%8e%af%e5%a2%83%e9%9d%99%e6%80%81%e8%b5%84%e6%ba%90%e5%88%87%e6%8d%a2%e9%97%ae%e9%a2%98"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fu3ldvzk86w%2f&title=%e5%88%a9%e7%94%a8%20webpack%20%e5%a4%84%e7%90%86%e5%bc%80%e5%8f%91%e4%b8%8e%e7%ba%bf%e4%b8%8a%e7%8e%af%e5%a2%83%e9%9d%99%e6%80%81%e8%b5%84%e6%ba%90%e5%88%87%e6%8d%a2%e9%97%ae%e9%a2%98"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">利用 webpack 处理开发与线上环境静态资源切换问题</h1><div class="meta"><div class="postdate"><time datetime="2019-02-02" itemprop="datePublished">2019-02-02</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch3 id=\x22articleHeader0\x22\x3e前言\x3c\/h3\x3e\n\x3cp\x3ewebpack，作为一个处理模块加载、资源依赖管理、构建化的工具，已经逐渐成为了前端工程化领域的新贵。其创造性的把每个静态资源归为一个 module（模块）并能被其强大的 loader 所加载的这种方式，成功的开辟了前端工程界的另一大生态。基于其官网文档的完善度较高，这篇文章就不对 webpack 的主要内容做过多的介绍，而是回归到本文的主题，即通过介绍几款 webpack 相关的插件，来解决一个常见的工程问题：如何做到静态资源路径可以在不同的环境下自动切换。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader1\x22\x3e问题说明\x3c\/h3\x3e\n\x3cp\x3e这到底是个怎样的问题？设想一下，在使用 webpack 打包编译之后，它会生成一个 js 文件，随后我们需要在 html 或者模板文件里指定这个文件的路径确保其被正确的引入，\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cscript type=\x26quot;javascript\x26quot; src=\x26quot;app.js\x26quot;\x3e\x3c\/script\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xml\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22javascript\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22app.js\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22undefined\x22\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e对于开发环境下的单入口文件（稍后会介绍 webpack 打包到多个入口的解决方案 ）,这个标签内的引入文件路径完全可以写死，而且在 webpack-dev-server 热替换机制的帮助下，我们也无须通过对打包生成的文件添加 hash 值来处理因浏览器缓存的缘故引起的引用不到最新资源。\x3c\/p\x3e\n\x3cp\x3e但在产品模式下，我们非常有必要在 webpack 的 output 属性里的 filename 里配置一个 \x3cem\x3echunkhash\x3c\/em\x3e 来变向的为静态资源注入版本号，如下，\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22output: {\n filename: [name].[chunkhash].js,\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs css\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-selector-tag\x22\x3eoutput\x3c\/span\x3e: {\n \x3cspan class=\x22hljs-attribute\x22\x3efilename\x3c\/span\x3e: [name].[chunkhash].js,\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e以便上线之后页面可以引入版本更新后的代码。\x3cem\x3echunkhash\x3c\/em\x3e 是一个基于文件内容，通过摘要算法（如md5）生成的一个被称之为\x3ccode\x3e文件指纹\x3c\/code\x3e的序号，即只有当文件内容发生改变的时候，这个值才会相应更改。\x3c\/p\x3e\n\x3cblockquote\x3e\x3cp\x3e通过给静态资源注入 hash 值来作为版本号的好处主要有两个：\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3col\x3e\n\x3cli\x3e\x3cp\x3e实现 \x3cem\x3e\x3ca href=\x22http:\/\/webpack.github.io\/docs\/long-term-caching.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3elong term caching\x3c\/a\x3e\x3c\/em\x3e 策略。当发布新版本时，我们只需要更新更改了的资源。这比起将新版资源存放在例如\x3ccode\x3e\/v1.3\/xx.js\x3c\/code\x3e这种带版本号的路径或文件夹下的部署方式会显得更科学一点：减少手动配置版本号的额外操作、已经缓存过且缓存尚未过期的浏览器只需请求更新过的资源，确保未变更过的资源可以依旧从缓存内读取。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e实现\x3cem\x3e\x3ca href=\x22https:\/\/github.com\/fouber\/blog\/issues\/6\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e非覆盖式发布\x3c\/a\x3e\x3c\/em\x3e策略。\x3ca href=\x22https:\/\/www.zhihu.com\/people\/fouber\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e张云龙\x3c\/a\x3e老师的原文中提到的这种平滑的版本升级方式更加完美的解决了静态资源部署至CDN出现的问题。\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e这个时候我们再来看下线上的 script 引入,\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cscript type=\x26quot;javascript\x26quot; src=\x26quot;http:\/\/xxx.cdn.com\/app.82076244596568c8c929.js\n\x26quot;\x3e\x3c\/script\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xml\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22javascript\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22http:\/\/xxx.cdn.com\/app.82076244596568c8c929.js\n\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22undefined\x22\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3eFine, 也许你会说我可以手动 copy\/paste 这个版本号当你需要从开发切到产品环境，额额，单个入口文件这么处理虽是可以，但想象下当有多个入口文件的时候。。。（感觉我的左手大拇指肌腱炎又要犯了。。），这么经典的问题webpack早已准备好了它的解决方案。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader2\x22\x3e从 webpack 的编译数据里获取开发与生产的资源路径对应关系\x3c\/h3\x3e\n\x3cp\x3e这一部分的工作可以说是解决这个问题的一个核心环节，即我们需要通过 webpack 来生成类似如下一张对应关系图：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22{\n    \x27app.js\x27: \x27http:\/\/xxx.cdn.com\/app.82076244596568c8c929.js\x27\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs rust\x22\x3e\x3ccode\x3e{\n    \x3cspan class=\x22hljs-symbol\x22\x3e\x27app\x3c\/span\x3e.js\x27: \x3cspan class=\x22hljs-symbol\x22\x3e\x27http\x3c\/span\x3e:\x3cspan class=\x22hljs-comment\x22\x3e\/\/xxx.cdn.com\/app.82076244596568c8c929.js\x27\x3c\/span\x3e\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e像在 webpack 的 plugin 属性里配置如下，我们就可以通过返回 webpack 的编译数据里获取到带有 chunkhash 的文件信息：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ webpack.config.js\nmodule.exports = {\n  ...\n  plugins: [\n    function() {\n      this.plugin(\x26quot;done\x26quot;, function(stats) {\n        require(\x26quot;fs\x26quot;).writeFileSync(\n          path.join(__dirname, \x26quot;..\x26quot;, \x26quot;stats.json\x26quot;),\n          JSON.stringify(stats.toJson()));\n      });\n    }\n  ]\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ webpack.config.js\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.exports = {\n  ...\n  plugins: [\n    \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n      \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.plugin(\x3cspan class=\x22hljs-string\x22\x3e\x22done\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3estats\x3c\/span\x3e) \x3c\/span\x3e{\n        \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x22fs\x22\x3c\/span\x3e).writeFileSync(\n          path.join(__dirname, \x3cspan class=\x22hljs-string\x22\x3e\x22..\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22stats.json\x22\x3c\/span\x3e),\n          \x3cspan class=\x22hljs-built_in\x22\x3eJSON\x3c\/span\x3e.stringify(stats.toJson()));\n      });\n    }\n  ]\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e将 \x3ccode\x3estats.json\x3c\/code\x3e require 到项目中，通过读取 \x3ccode\x3epublicPath\x3c\/code\x3e、 \x3ccode\x3eassetsByChunkName\x3c\/code\x3e 属性，可以得到开发与线上环境资源路径的对应关系。\x3c\/p\x3e\n\x3cp\x3ewebpack 官方也推荐了几个有同样效果，我个人觉得更好用的插件：\x3ca href=\x22https:\/\/github.com\/kossnocorp\/assets-webpack-plugin\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eassets-webpack-plugin\x3c\/a\x3e 或者 \x3ca href=\x22https:\/\/github.com\/danethurber\/webpack-manifest-plugin\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ewebpack-manifest-plugin\x3c\/a\x3e 来生成出一个 JSON 对应关系文件。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader3\x22\x3e切换资源路径\x3c\/h3\x3e\n\x3cp\x3e接下来的工作基本上就是如何利用这个对应关系来切换对应环境下的路径。这个还要取决于你的页面是否会涉及到服务端的渲染。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e服务端渲染资源路径\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e以 node 作为服务端语言，handlebars（或者ejs）为模板语言为例，我们通过编写模板语言的 helper 来读取由 \x3ccode\x3eassets-webpack-plugin\x3c\/code\x3e 生成的 stats.json，在不同的环境下实现路径切换：\x3c\/p\x3e\n\x3cp\x3estats.json -- webpack 跑开发配置\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22{\n    \x26quot;app\x26quot;: {\n        \x26quot;js\x26quot;: \x26quot;app.js\x26quot;\n    }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs json\x22\x3e\x3ccode\x3e{\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22app\x22\x3c\/span\x3e: {\n        \x3cspan class=\x22hljs-attr\x22\x3e\x22js\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22app.js\x22\x3c\/span\x3e\n    }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3estats.json -- webpack 跑生产配置\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22{\n    \x26quot;app\x26quot;: {\n        \x26quot;js\x26quot;: \x26quot;http:\/\/xxx.cdn.com\/app.82076244596568c8c929.js\x26quot;\n    }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs json\x22\x3e\x3ccode\x3e{\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22app\x22\x3c\/span\x3e: {\n        \x3cspan class=\x22hljs-attr\x22\x3e\x22js\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22http:\/\/xxx.cdn.com\/app.82076244596568c8c929.js\x22\x3c\/span\x3e\n    }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3eexample.handlebars\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cscript type=\x26quot;text\/javascript\x26quot; src=\x26quot;\x22{{\x22app.js\x22}}\x22\x26quot;\x3e\x3c\/script\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs django\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22text\/javascript\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e\x22{{\x22app.js\x22}}\x22\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x3cspan class=\x22hljs-string\x22\x3e\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22undefined\x22\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e后台通过 require \x3ccode\x3estats.json\x3c\/code\x3e 数据并传入到模板即可实现根据环境动态渲染资源路径。\x3c\/p\x3e\n\x3cp\x3e如果你的后台是使用 Rails 来搭建的话，那么这篇\x3ca href=\x22http:\/\/clarkdave.net\/2015\/01\/how-to-use-webpack-with-rails\/#including-precompiled-assets-in-views\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e文章\x3c\/a\x3e更详细的介绍了处理这种情况下处理资源切换的问题\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e前端渲染页面模板\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e如果你的项目不依赖任何后端渲染，那么 \x3ccode\x3ehtml-webpack-plugin\x3c\/code\x3e 这款插件可以为你动态生成一个带有 css、js 等资源路径的 html 文件。\x3c\/p\x3e\n\x3cp\x3e\x3ccode\x3ehtml-webpack-plugin\x3c\/code\x3e 具体的用法可以点击\x3ca href=\x22https:\/\/github.com\/ampedandwired\/html-webpack-plugin\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e这里\x3c\/a\x3e，其中 \x3ccode\x3einject\x3c\/code\x3e 这个属性可以让你将 script 标签插入到 dom 的指定位置。为了能够更大权限的将 webpack 编译过的资源可以插入到 html 文件的任意位置，我们可以在 \x3ccode\x3eHtmlWebpackPlugin\x3c\/code\x3e 里指定的 template 文件里写入如下代码：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22  \x3c% for (var css in htmlWebpackPlugin.files.css) { %\x3e\n  \x3clink href=\x26quot;\x3c%= htmlWebpackPlugin.files.css[css] %\x3e\x26quot; rel=\x26quot;stylesheet\x26quot;\x3e\n  \x3c% } %\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs erb\x22\x3e\x3ccode\x3e\x3cspan class=\x22xml\x22\x3e  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3e%\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22ruby\x22\x3e \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (var css \x3cspan class=\x22hljs-keyword\x22\x3ein\x3c\/span\x3e htmlWebpackPlugin.files.css) { \x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e%\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3elink\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ehref\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22\x26lt;%=\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22ruby\x22\x3e htmlWebpackPlugin.files.css[css] \x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x3cspan class=\x22hljs-string\x22\x3e%\x26gt;\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3erel\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22stylesheet\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3e%\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22ruby\x22\x3e } \x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e%\x26gt;\x3c\/span\x3e\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3c% for (var chunk in htmlWebpackPlugin.files.chunks) { %\x3e\n\x3cscript src=\x26quot;\x3c%= htmlWebpackPlugin.files.chunks[chunk].entry %\x3e\x26quot;\x3e\x3c\/script\x3e\n\x3c% } %\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs erb\x22\x3e\x3ccode\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3e%\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22ruby\x22\x3e \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (var chunk \x3cspan class=\x22hljs-keyword\x22\x3ein\x3c\/span\x3e htmlWebpackPlugin.files.chunks) { \x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e%\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22\x26lt;%=\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22ruby\x22\x3e htmlWebpackPlugin.files.chunks[chunk].entry \x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x3cspan class=\x22hljs-string\x22\x3e%\x26gt;\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22undefined\x22\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3e%\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22ruby\x22\x3e } \x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e%\x26gt;\x3c\/span\x3e\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e就可以同样实现静态资源的切换，所以对于前端渲染模板的这种情况，我们无须再生成一个 json 文件，对于使用诸如 react、vue 这种框架，仅使用这个插件也是极好的。\x3c\/p\x3e\n\x3cp\x3e\x3ccode\x3ehtmlWebpackPlugin\x3c\/code\x3e 具体还有哪些属性可以配置，可以参考下这个 \x3ca href=\x22https:\/\/github.com\/jaketrent\/html-webpack-template\/blob\/86f285d5c790a6c15263f5cc50fd666d51f974fd\/index.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3edefault template\x3c\/a\x3e 查看完整例子\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>利用 webpack 处理开发与线上环境静态资源切换问题</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000007178900">https://segmentfault.com/a/1190000007178900</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/u3ldvzk86w/" target="_blank">https://alili.tech/archive/u3ldvzk86w/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/dc9tmbt89lc/">CSS3 巧妙实现聊天气泡<aside class="dates">2019-02-02</aside></a></li><li><a href="/archive/awfhylei7vr/">Element 一套优雅的 Vue 2 组件库是如何开发的<aside class="dates">2019-02-02</aside></a></li><li><a href="/archive/5n6e7oj31zb/">Ionic2入坑基础教程和安装指南<aside class="dates">2019-02-02</aside></a></li><li><a href="/archive/k9uktrr2ck/">JavaScript arguments 对象全面介绍<aside class="dates">2019-02-02</aside></a></li><li><a href="/archive/d31ygsiurr7/">JavaScript 版俄罗斯方块——重构<aside class="dates">2019-02-02</aside></a></li><li><a href="/archive/f1goxj498pc/">JavaScript中this绑定详解<aside class="dates">2019-02-02</aside></a></li><li><a href="/archive/fpk9tyls8sb/">Markcook2.0，使用Vue2.0和Vuex2.0进行完全重构升级<aside class="dates">2019-02-02</aside></a></li><li><a href="/archive/rnj4z8l02t/">N3-components - 强劲的 Vue UI组件库<aside class="dates">2019-02-02</aside></a></li><li><a href="/archive/7njdijhy2um/">Node.js &#43; React Native 毕设：农业物联网监测系统的开发手记<aside class="dates">2019-02-02</aside></a></li><li><a href="/archive/f8zzbybr4tl/">Redux、Flux、Vuex<aside class="dates">2019-02-02</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>