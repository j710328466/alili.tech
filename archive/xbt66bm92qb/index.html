<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="如何写出漂亮的React组件"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>如何写出漂亮的React组件 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/xbt66bm92qb/",
				"appid": "1613049289050283", 
				"title": "如何写出漂亮的React组件 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-31T02:31:16"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/kn2zepyakc/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/j2dh54xky1l/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fxbt66bm92qb%2f&text=%e5%a6%82%e4%bd%95%e5%86%99%e5%87%ba%e6%bc%82%e4%ba%ae%e7%9a%84React%e7%bb%84%e4%bb%b6"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fxbt66bm92qb%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fxbt66bm92qb%2f&text=%e5%a6%82%e4%bd%95%e5%86%99%e5%87%ba%e6%bc%82%e4%ba%ae%e7%9a%84React%e7%bb%84%e4%bb%b6"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fxbt66bm92qb%2f&title=%e5%a6%82%e4%bd%95%e5%86%99%e5%87%ba%e6%bc%82%e4%ba%ae%e7%9a%84React%e7%bb%84%e4%bb%b6"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fxbt66bm92qb%2f&is_video=false&description=%e5%a6%82%e4%bd%95%e5%86%99%e5%87%ba%e6%bc%82%e4%ba%ae%e7%9a%84React%e7%bb%84%e4%bb%b6"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e5%a6%82%e4%bd%95%e5%86%99%e5%87%ba%e6%bc%82%e4%ba%ae%e7%9a%84React%e7%bb%84%e4%bb%b6&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fxbt66bm92qb%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fxbt66bm92qb%2f&title=%e5%a6%82%e4%bd%95%e5%86%99%e5%87%ba%e6%bc%82%e4%ba%ae%e7%9a%84React%e7%bb%84%e4%bb%b6"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fxbt66bm92qb%2f&title=%e5%a6%82%e4%bd%95%e5%86%99%e5%87%ba%e6%bc%82%e4%ba%ae%e7%9a%84React%e7%bb%84%e4%bb%b6"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fxbt66bm92qb%2f&title=%e5%a6%82%e4%bd%95%e5%86%99%e5%87%ba%e6%bc%82%e4%ba%ae%e7%9a%84React%e7%bb%84%e4%bb%b6"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fxbt66bm92qb%2f&title=%e5%a6%82%e4%bd%95%e5%86%99%e5%87%ba%e6%bc%82%e4%ba%ae%e7%9a%84React%e7%bb%84%e4%bb%b6"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">如何写出漂亮的React组件</h1><div class="meta"><div class="postdate"><time datetime="2019-01-31" itemprop="datePublished">2019-01-31</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cblockquote\x3e\x3cp\x3e本文翻译自\x3ca href=\x22https:\/\/medium.com\/walmartlabs\/make-your-react-components-pretty-a1ae4ec0f56e#.l5nmgl2dv\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eMake-Your-React-Components-Pretty\x3c\/a\x3e。欢迎转载，注明出处。\x3cbr\x3e本文从属于笔者的\x3ca href=\x22https:\/\/github.com\/wxyyxc1992\/Web-Frontend-Introduction-And-Best-Practices\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eWeb前端入门与最佳实践\x3c\/a\x3e 中的\x3ca href=\x22https:\/\/github.com\/wxyyxc1992\/Web-Frontend-Introduction-And-Best-Practices\/blob\/master\/Framework\/View\/React\/README.md\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eReact入门与最佳实践\x3c\/a\x3e系列，同类型文章还包括\x3ca href=\x22https:\/\/github.com\/wxyyxc1992\/Web-Develop-Introduction-And-Best-Practices\/blob\/master\/Frontend\/Framework\/View\/React\/BestPractices\/StyleGuide\/React-CodingStyle.md\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eReact 代码风格约定\x3c\/a\x3e。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000007553888?w=2000\x26amp;h=1183\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000007553888?w=2000\x26amp;h=1183\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e在\x3ca href=\x22http:\/\/www.walmartlabs.com\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eWalmart Labs\x3c\/a\x3e的产品开发中，我们进行了大量的Code Review工作，这也保证了我有机会从很多优秀的工程师的代码中学习他们的代码风格与样式。在这篇博文里我会分享出我最欣赏的五种组件模式与代码片。不过我首先还是要谈谈为什么我们需要执着于提高代码的阅读体验。就好像你有很多种方式去装扮一只猫，如果你把你的爱猫装扮成了如下这样子:\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000007553889?w=500\x26amp;h=348\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000007553889?w=500\x26amp;h=348\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e你或许可以认为萝卜青菜各有所爱，但是代码本身是应当保证其可读性，特别是在一个团队中，你的代码是注定要被其他人阅读的。电脑是不会在意这些的，不管你朝它们扔过去什么，它们都会老老实实的解释，但是你的队友们可不会这样，他们会把丑陋的代码扔回到你的脸上。而所谓的Pretty Components，应该包含如下的特性:\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e即使没有任何注释的情况下也易于理解\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e比乱麻般的代码有更好的性能表现\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e更易于进行Bug追溯\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e简洁明了，一句顶一万句\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000007553890?w=1432\x26amp;h=398\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000007553890?w=1432\x26amp;h=398\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader0\x22\x3eSFC:Stateless Functional Component\x3c\/h1\x3e\n\x3cp\x3e我觉得我们在开发中经常忽略掉的一个模式就是所谓的Stateless Functional Component，不过这是我个人最爱的React组件优化模式，没有之一。我喜爱这种模式不仅仅因为它们能够减少大量的模板代码，而且因为它们能够有效地提高组件的性能表现。总而言之，SFC能够让你的应用跑的更快，长的更帅。\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000007553891?w=600\x26amp;h=286\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000007553891?w=600\x26amp;h=286\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e直观来看，SFC就是指那些仅有一个渲染函数的组件，不过这简单的改变就可以避免很多的无意义的检测与内存分配。下面我们来看一个实践的例子来看下SFC的具体作用，譬如:\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000007553892?w=939\x26amp;h=105\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000007553892?w=939\x26amp;h=105\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3cbr\x3e如果我们用正统的React组件的写法，可以得出如下代码:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22export default class RelatedSearch extends React.Component {\n  constructor(props) {\n    super(props);\n    this._handleClick = this._handleClick.bind(this);\n  }\n  _handleClick(suggestedUrl, event) {\n    event.preventDefault();\n    this.props.onClick(suggestedUrl);\n  }\n  render() {\n    return (\n      \x3csection className=\x26quot;related-search-container\x26quot;\x3e\n        \x3ch1 className=\x26quot;related-search-title\x26quot;\x3eRelated Searches:\x3c\/h1\x3e\n        \x3cLayout x-small={2} small={3} medium={4} padded={true}\x3e\n          {this.props.relatedQueries.map((query, index) =\x3e\n            \x3cLink\n              className=\x26quot;related-search-link\x26quot;\n              onClick={(event) =\x3e\n                this._handleClick(query.searchQuery, event)}\n              key={index}\x3e\n              {query.searchText}\n            \x3c\/Link\x3e\n          )}\n        \x3c\/Layout\x3e\n      \x3c\/section\x3e\n    );\n  }\n}\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e \x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eRelatedSearch\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eextends\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eReact\x3c\/span\x3e.\x3cspan class=\x22hljs-title\x22\x3eComponent\x3c\/span\x3e \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3econstructor\x3c\/span\x3e(props) {\n    \x3cspan class=\x22hljs-keyword\x22\x3esuper\x3c\/span\x3e(props);\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e._handleClick = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e._handleClick.bind(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e);\n  }\n  _handleClick(suggestedUrl, event) {\n    event.preventDefault();\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.props.onClick(suggestedUrl);\n  }\n  render() {\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e (\n      \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3esection\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclassName\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22related-search-container\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eh1\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclassName\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22related-search-title\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3eRelated Searches:\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eh1\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eLayout\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ex-small\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{2}\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esmall\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{3}\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3emedium\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{4}\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3epadded\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{true}\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n          {this.props.relatedQueries.map((query, index) =\x26gt;\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eLink\x3c\/span\x3e\n              \x3cspan class=\x22hljs-attr\x22\x3eclassName\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22related-search-link\x22\x3c\/span\x3e\n              \x3cspan class=\x22hljs-attr\x22\x3eonClick\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{(event)\x3c\/span\x3e =\x26gt;\x3c\/span\x3e\n                this._handleClick(query.searchQuery, event)}\n              key={index}\x26gt;\n              {query.searchText}\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eLink\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n          )}\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eLayout\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n      \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3esection\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n    );\n  }\n}\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e而使用SFC模式的话，大概可以省下29%的代码:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const _handleClick(suggestedUrl, onClick, event) =\x3e {\n  event.preventDefault();\n  onClick(suggestedUrl);\n};\nconst RelatedSearch = ({ relatedQueries, onClick }) =\x3e\n  \x3csection className=\x26quot;related-search-container\x26quot;\x3e\n    \x3ch1 className=\x26quot;related-search-title\x26quot;\x3eRelated Searches:\x3c\/h1\x3e\n    \x3cLayout x-small={2} small={3} medium={4} padded={true}\x3e\n      {relatedQueries.map((query, index) =\x3e\n        \x3cLink\n          className=\x26quot;related-search-link\x26quot;\n          onClick={(event) =\x3e\n            _handleClick(query.searchQuery, onClick, event)}\n          key={index}\x3e\n          {query.searchText}\n        \x3c\/Link\x3e\n      )}\n    \x3c\/Layout\x3e\n  \x3c\/section\x3e\nexport default RelatedSearch;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xml\x22\x3e\x3ccode\x3econst _handleClick(suggestedUrl, onClick, event) =\x26gt; {\n  event.preventDefault();\n  onClick(suggestedUrl);\n};\nconst RelatedSearch = ({ relatedQueries, onClick }) =\x26gt;\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3esection\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclassName\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22related-search-container\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eh1\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclassName\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22related-search-title\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3eRelated Searches:\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eh1\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eLayout\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ex-small\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{2}\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esmall\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{3}\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3emedium\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{4}\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3epadded\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{true}\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n      {relatedQueries.map((query, index) =\x26gt;\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eLink\x3c\/span\x3e\n          \x3cspan class=\x22hljs-attr\x22\x3eclassName\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22related-search-link\x22\x3c\/span\x3e\n          \x3cspan class=\x22hljs-attr\x22\x3eonClick\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{(event)\x3c\/span\x3e =\x26gt;\x3c\/span\x3e\n            _handleClick(query.searchQuery, onClick, event)}\n          key={index}\x26gt;\n          {query.searchText}\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eLink\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n      )}\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eLayout\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3esection\x3c\/span\x3e\x26gt;\x3c\/span\x3e\nexport default RelatedSearch;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e代码量的减少主要来源两个方面:\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e没有构造函数（5行）\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e以Arrow Function的方式替代Render语句（4行）\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e实际上，SFC最迷人的地方不仅仅是其代码量的减少，还有就是对于可读性的提高。SFC模式本身就是所谓\x3ca href=\x22https:\/\/medium.com\/@dan_abramov\/smart-and-dumb-components-7ca2f9a7c7d0#.5sgngec83\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e纯组件\x3c\/a\x3e的一种最佳实践范式，而移除了构造函数并且将\x3ccode\x3e_handleClick()\x3c\/code\x3e这个点击事件回调函数提取出组件外，可以使JSX代码变得更加纯粹。另一个不错的地方就是SFC以Arrow Function的方式来定义了输入的Props变量，即以\x3ca href=\x22https:\/\/developer.mozilla.org\/en-US\/docs\/Web\/JavaScript\/Reference\/Operators\/Destructuring_assignment#Object_destructuring\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eObject Destructring\x3c\/a\x3e语法来声明组件所依赖的Props:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const RelatedSearch = ({ relatedQueries, onClick }) =\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs coffeescript\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3econst RelatedSearch = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e({ relatedQueries, onClick })\x3c\/span\x3e =\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这样不仅能够使组件的Props更加清晰明确，还能够避免冗余的\x3ccode\x3ethis.props\x3c\/code\x3e表达式，从而使代码的可读性更好。\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000007553893?w=500\x26amp;h=531\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000007553893?w=500\x26amp;h=531\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3cbr\x3e最后，我还想要强调下虽然我很推崇SFC，不过也不能滥用它。最合适使用SFC的地方就是之前你用纯组件的地方。在Walmart Labs中，我们使用Redux来管理应用的状态，也就意味着我们绝大部分的组件都是纯组件，也就给了SFC广阔的应用空间。一般来说，有以下特征的组件式绝对不适合使用SFC的:\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e需要自定义整个组件的生命周期管理\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e需要使用到refs\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch1 id=\x22articleHeader1\x22\x3eConditional Components\x3c\/h1\x3e\n\x3cp\x3eJSX本身不支持if表达式，不过我们可以使用逻辑表达式的方式来避免将代码切分到不同的子模块中，大概是如下样子:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22render() {\n  \x3cdiv class=\x26quot;search-results-container\x26quot;\x3e\n    {this.props.isGrid\n      ? \x3cSearchResultsGrid \/\x3e\n      : \x3cSearchResultsList \/\x3e}\n  \x3c\/div\x3e\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3erender() {\n  \x26lt;div \x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22search-results-container\x22\x3c\/span\x3e\x26gt;\n    {\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.props.isGrid\n      ? \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eSearchResultsGrid\x3c\/span\x3e \/\x26gt;\x3c\/span\x3e\n      : \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eSearchResultsList\x3c\/span\x3e \/\x26gt;\x3c\/span\x3e}\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这种表达式在二选一渲染的时候很有效果，不过对于选择性渲染一个的情况很不友好，譬如如下的情况:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22render() {\n  \x3cdiv class=\x26quot;search-results-list\x26quot;\x3e\n    {this.props.isSoftSort\n      ? \x3cSoftSortBanner \/\x3e\n      : null\n    }\n  \x3c\/div\x3e\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3erender() {\n  \x26lt;div \x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22search-results-list\x22\x3c\/span\x3e\x26gt;\n    {\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.props.isSoftSort\n      ? \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eSoftSortBanner\x3c\/span\x3e \/\x26gt;\x3c\/span\x3e\n      : null\n    }\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这样子确实能起作用，不过看上去感觉怪怪的。我们可以选用另一种更加语义化与友好的方式来实现这个功能，即使用逻辑与表达式然后返回组件:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22render() {\n  \x3cdiv class=\x26quot;search-results-list\x26quot;\x3e\n    {!!this.props.isSoftSort \x26amp;\x26amp; \x3cSoftSortBanner \/\x3e}\n  \x3c\/div\x3e\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-title\x22\x3erender\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e\x3c\/span\x3e {\n  \x26lt;\x3cspan class=\x22hljs-selector-tag\x22\x3ediv\x3c\/span\x3e class=\x3cspan class=\x22hljs-string\x22\x3e\x22search-results-list\x22\x3c\/span\x3e\x26gt;\n    {!!this\x3cspan class=\x22hljs-selector-class\x22\x3e.props\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.isSoftSort\x3c\/span\x3e \x26amp;\x26amp; \x26lt;SoftSortBanner \/\x26gt;}\n  \x26lt;\/div\x26gt;\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e不过这一点也是见仁见智，每个人按照自己的喜好来就行了。\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader2\x22\x3eArrow Syntax In React And Redux\x3c\/h1\x3e\n\x3cp\x3eES2015里包含了不少可口的语法糖，我最爱的就是那个\x3ca href=\x22https:\/\/developer.mozilla.org\/en-US\/docs\/Web\/JavaScript\/Reference\/Functions\/Arrow_functions\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eArrow Notation\x3c\/a\x3e。这个特性在编写组件时很有作用：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const SoftSort = ({ hardSortUrl, sortByName, onClick }) =\x3e {\n  return (\n    \x3cdiv className=\x26quot;SearchInfoMessage\x26quot;\x3e\n      Showing results sorted by both Relevance and {sortByName}.\n      \x3cLink\n        href={`?${hardSortUrl}`}\n        onClick={(ev) =\x3e onClick(ev, hardSortUrl)}\x3e\n        Sort results by {sortByName} only\n      \x3c\/Link\x3e\n    \x3c\/div\x3e\n  );\n};\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e SoftSort = \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3e{ hardSortUrl, sortByName, onClick }\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e (\n    \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclassName\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22SearchInfoMessage\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n      Showing results sorted by both Relevance and {sortByName}.\n      \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eLink\x3c\/span\x3e\n        \x3cspan class=\x22hljs-attr\x22\x3ehref\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{\x3c\/span\x3e`?${\x3cspan class=\x22hljs-attr\x22\x3ehardSortUrl\x3c\/span\x3e}`}\n        \x3cspan class=\x22hljs-attr\x22\x3eonClick\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{(ev)\x3c\/span\x3e =\x26gt;\x3c\/span\x3e onClick(ev, hardSortUrl)}\x26gt;\n        Sort results by {sortByName} only\n      \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eLink\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n  );\n};\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e该函数的功能就是返回JSX对象，我们也可以忽略return语句:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const SoftSort = ({ hardSortUrl, sortByName, onClick }) =\x3e\n  \x3cdiv className=\x26quot;SearchInfoMessage\x26quot;\x3e\n    Showing results sorted by both Relevance and {sortByName}.\n    \x3cLink\n      href={`?${hardSortUrl}`}\n      onClick={(ev) =\x3e onClick(ev, hardSortUrl)}\x3e\n      Sort results by {sortByName} only\n    \x3c\/Link\x3e\n  \x3c\/div\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs dust\x22\x3e\x3ccode\x3e\x3cspan class=\x22xml\x22\x3econst SoftSort = (\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e{ hardSortUrl, sortByName, onClick }\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e) =\x26gt;\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclassName\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22SearchInfoMessage\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    Showing results sorted by both Relevance and \x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e{sortByName}\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e.\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eLink\x3c\/span\x3e\n      \x3cspan class=\x22hljs-attr\x22\x3ehref\x3c\/span\x3e=\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e{`?${hardSortUrl}\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e`}\n      \x3cspan class=\x22hljs-attr\x22\x3eonClick\x3c\/span\x3e=\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e{(ev) =\x26gt; onClick(ev, hardSortUrl)}\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26gt;\x3c\/span\x3e\n      Sort results by \x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e{sortByName}\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e only\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eLink\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e代码行数又少了不少咯！\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000007553894?w=623\x26amp;h=336\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000007553894?w=623\x26amp;h=336\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3cbr\x3e另一块我觉得非常适用Arrow Function的地方就是Redux的mapStateToProps函数:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const mapStateToProps = ({isLoading}) =\x3e {\n  return ({\n    loading: isLoading,\n  });\n};\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs coffeescript\x22\x3e\x3ccode\x3econst mapStateToProps = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e({isLoading})\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e ({\n    loading: isLoading,\n  });\n};\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e需要注意的是，如果你返回的是Object，你需要包裹在大括号内:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const mapStateToProps = ({isLoading}) =\x3e ({\n  loading: isLoading\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs coffeescript\x22\x3e\x3ccode\x3econst mapStateToProps = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e({isLoading})\x3c\/span\x3e =\x26gt;\x3c\/span\x3e ({\n  loading: isLoading\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e使用Arrow Function优化的核心点在于其能够通过专注于函数的重要部分而提升代码的整体可读性，并且避免过多的模板代码带来的噪音。\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader3\x22\x3e合理使用Object Destructing与Spread Attributes\x3c\/h1\x3e\n\x3cp\x3e大的组件往往受困于\x3ccode\x3ethis.props\x3c\/code\x3e过长的窘境，典型的如下所示:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22render() {\n  return (\n    \x3cProductPrice\n      hidePriceFulfillmentDisplay=\n       {this.props.hidePriceFulfillmentDisplay}\n      primaryOffer={this.props.primaryOffer}\n      productType={this.props.productType}\n      productPageUrl={this.props.productPageUrl}\n      inventory={this.props.inventory}\n      submapType={this.props.submapType}\n      ppu={this.props.ppu}\n      isLoggedIn={this.props.isLoggedIn}\n      gridView={this.props.isGridView}\n    \/\x3e\n  );\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs kotlin\x22\x3e\x3ccode\x3erender() {\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e (\n    \x26lt;ProductPrice\n      hidePriceFulfillmentDisplay=\n       {\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.props.hidePriceFulfillmentDisplay}\n      primaryOffer={\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.props.primaryOffer}\n      productType={\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.props.productType}\n      productPageUrl={\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.props.productPageUrl}\n      inventory={\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.props.inventory}\n      submapType={\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.props.submapType}\n      ppu={\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.props.ppu}\n      isLoggedIn={\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.props.isLoggedIn}\n      gridView={\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.props.isGridView}\n    \/\x26gt;\n  );\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这么多的Props估计看着都头疼，如果我们要将这些Props继续传入下一层，大概就要变成下面这个样子了:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22render() {\n  const {\n    hidePriceFulfillmentDisplay,\n    primaryOffer,\n    productType,\n    productPageUrl,\n    inventory,\n    submapType,\n    ppu,\n    isLoggedIn,\n    gridView\n  } = this.props;\n  return (\n    \x3cProductPrice\n      hidePriceFulfillmentDisplay={hidePriceFulfillmentDisplay}\n      primaryOffer={primaryOffer}\n      productType={productType}\n      productPageUrl={productPageUrl}\n      inventory={inventory}\n      submapType={submapType}\n      ppu={ppu}\n      isLoggedIn={isLoggedIn}\n      gridView={isGridView}\n    \/\x3e\n  );\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3erender() {\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e {\n    hidePriceFulfillmentDisplay,\n    primaryOffer,\n    productType,\n    productPageUrl,\n    inventory,\n    submapType,\n    ppu,\n    isLoggedIn,\n    gridView\n  } = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.props;\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e (\n    \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eProductPrice\x3c\/span\x3e\n      \x3cspan class=\x22hljs-attr\x22\x3ehidePriceFulfillmentDisplay\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{hidePriceFulfillmentDisplay}\x3c\/span\x3e\n      \x3cspan class=\x22hljs-attr\x22\x3eprimaryOffer\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{primaryOffer}\x3c\/span\x3e\n      \x3cspan class=\x22hljs-attr\x22\x3eproductType\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{productType}\x3c\/span\x3e\n      \x3cspan class=\x22hljs-attr\x22\x3eproductPageUrl\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{productPageUrl}\x3c\/span\x3e\n      \x3cspan class=\x22hljs-attr\x22\x3einventory\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{inventory}\x3c\/span\x3e\n      \x3cspan class=\x22hljs-attr\x22\x3esubmapType\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{submapType}\x3c\/span\x3e\n      \x3cspan class=\x22hljs-attr\x22\x3eppu\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{ppu}\x3c\/span\x3e\n      \x3cspan class=\x22hljs-attr\x22\x3eisLoggedIn\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{isLoggedIn}\x3c\/span\x3e\n      \x3cspan class=\x22hljs-attr\x22\x3egridView\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{isGridView}\x3c\/span\x3e\n    \/\x26gt;\x3c\/span\x3e\n  );\n}\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e暂时不考虑unKnown Props，我们可以使用解构赋值来实现这个功能:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22render() {\n  const props = this.props;\n  return \x3cProductPrice {...props} \/\x3e\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3erender() {\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e props = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.props;\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eProductPrice\x3c\/span\x3e {\x3cspan class=\x22hljs-attr\x22\x3e...props\x3c\/span\x3e} \/\x26gt;\x3c\/span\x3e\n}\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch1 id=\x22articleHeader4\x22\x3eMethod Definition Shorthand\x3c\/h1\x3e\n\x3cp\x3e最后这个方法不一定多有用，不过还是能让你的代码变得更加漂亮。如果你希望在Object中添加函数，你可以使用\x3ca href=\x22https:\/\/developer.mozilla.org\/en-US\/docs\/Web\/JavaScript\/Reference\/Functions\/Method_definitions\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eES2015 Method Definition Shorthand\x3c\/a\x3e来代替传统的ES5的表达式，譬如:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22Link.defaultProps = {\n  onClick(event) {\n    event.preventDefault();\n    Logger.log(event);\n  }\n};\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs mel\x22\x3e\x3ccode\x3eLink.defaultProps = {\n  onClick(\x3cspan class=\x22hljs-keyword\x22\x3eevent\x3c\/span\x3e) {\n    \x3cspan class=\x22hljs-keyword\x22\x3eevent\x3c\/span\x3e.preventDefault();\n    Logger.\x3cspan class=\x22hljs-keyword\x22\x3elog\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3eevent\x3c\/span\x3e);\n  }\n};\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e如果你想设置一个默认的空方法，也可以利用这种方式:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22ProductRating.defaultProps = {\n  onStarsClick() {}\n};\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs pf\x22\x3e\x3ccode\x3eProductRating.\x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3eProps = {\n  \x3cspan class=\x22hljs-keyword\x22\x3eon\x3c\/span\x3eStarsClick() {}\n};\x3c\/code\x3e\x3c\/pre\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>如何写出漂亮的React组件</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000007553885">https://segmentfault.com/a/1190000007553885</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/xbt66bm92qb/" target="_blank">https://alili.tech/archive/xbt66bm92qb/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/dc9tmbt89lc/">CSS3 巧妙实现聊天气泡<aside class="dates">2019-02-02</aside></a></li><li><a href="/archive/awfhylei7vr/">Element 一套优雅的 Vue 2 组件库是如何开发的<aside class="dates">2019-02-02</aside></a></li><li><a href="/archive/5n6e7oj31zb/">Ionic2入坑基础教程和安装指南<aside class="dates">2019-02-02</aside></a></li><li><a href="/archive/k9uktrr2ck/">JavaScript arguments 对象全面介绍<aside class="dates">2019-02-02</aside></a></li><li><a href="/archive/d31ygsiurr7/">JavaScript 版俄罗斯方块——重构<aside class="dates">2019-02-02</aside></a></li><li><a href="/archive/f1goxj498pc/">JavaScript中this绑定详解<aside class="dates">2019-02-02</aside></a></li><li><a href="/archive/fpk9tyls8sb/">Markcook2.0，使用Vue2.0和Vuex2.0进行完全重构升级<aside class="dates">2019-02-02</aside></a></li><li><a href="/archive/rnj4z8l02t/">N3-components - 强劲的 Vue UI组件库<aside class="dates">2019-02-02</aside></a></li><li><a href="/archive/7njdijhy2um/">Node.js &#43; React Native 毕设：农业物联网监测系统的开发手记<aside class="dates">2019-02-02</aside></a></li><li><a href="/archive/f8zzbybr4tl/">Redux、Flux、Vuex<aside class="dates">2019-02-02</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>