<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="在 CentOS 上使用 FirewallD 配置防火墙"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>在 CentOS 上使用 FirewallD 配置防火墙 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/prhx5t56o6/",
				"appid": "1613049289050283", 
				"title": "在 CentOS 上使用 FirewallD 配置防火墙 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-23T02:30:08"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/rkzvw8iilz/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/sctve1vc9s/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fprhx5t56o6%2f&text=%e5%9c%a8%20CentOS%20%e4%b8%8a%e4%bd%bf%e7%94%a8%20FirewallD%20%e9%85%8d%e7%bd%ae%e9%98%b2%e7%81%ab%e5%a2%99"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fprhx5t56o6%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fprhx5t56o6%2f&text=%e5%9c%a8%20CentOS%20%e4%b8%8a%e4%bd%bf%e7%94%a8%20FirewallD%20%e9%85%8d%e7%bd%ae%e9%98%b2%e7%81%ab%e5%a2%99"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fprhx5t56o6%2f&title=%e5%9c%a8%20CentOS%20%e4%b8%8a%e4%bd%bf%e7%94%a8%20FirewallD%20%e9%85%8d%e7%bd%ae%e9%98%b2%e7%81%ab%e5%a2%99"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fprhx5t56o6%2f&is_video=false&description=%e5%9c%a8%20CentOS%20%e4%b8%8a%e4%bd%bf%e7%94%a8%20FirewallD%20%e9%85%8d%e7%bd%ae%e9%98%b2%e7%81%ab%e5%a2%99"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e5%9c%a8%20CentOS%20%e4%b8%8a%e4%bd%bf%e7%94%a8%20FirewallD%20%e9%85%8d%e7%bd%ae%e9%98%b2%e7%81%ab%e5%a2%99&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fprhx5t56o6%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fprhx5t56o6%2f&title=%e5%9c%a8%20CentOS%20%e4%b8%8a%e4%bd%bf%e7%94%a8%20FirewallD%20%e9%85%8d%e7%bd%ae%e9%98%b2%e7%81%ab%e5%a2%99"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fprhx5t56o6%2f&title=%e5%9c%a8%20CentOS%20%e4%b8%8a%e4%bd%bf%e7%94%a8%20FirewallD%20%e9%85%8d%e7%bd%ae%e9%98%b2%e7%81%ab%e5%a2%99"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fprhx5t56o6%2f&title=%e5%9c%a8%20CentOS%20%e4%b8%8a%e4%bd%bf%e7%94%a8%20FirewallD%20%e9%85%8d%e7%bd%ae%e9%98%b2%e7%81%ab%e5%a2%99"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fprhx5t56o6%2f&title=%e5%9c%a8%20CentOS%20%e4%b8%8a%e4%bd%bf%e7%94%a8%20FirewallD%20%e9%85%8d%e7%bd%ae%e9%98%b2%e7%81%ab%e5%a2%99"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">在 CentOS 上使用 FirewallD 配置防火墙</h1><div class="meta"><div class="postdate"><time datetime="2019-01-23" itemprop="datePublished">2019-01-23</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n            \x3ch1\x3e\x3ca href=\x22#centos-7-上的-firewalld-简明指南\x22\x3e\x3c\/a\x3eCentOS 7 上的 FirewallD 简明指南\x3c\/h1\x3e\n\x3cp\x3eFirewallD 是 CentOS 7 服务器上默认可用的防火墙管理工具。基本上，它是 iptables 的封装，有图形配置工具 firewall-config 和命令行工具 \x3ccode\x3efirewall-cmd\x3c\/code\x3e。使用 iptables 服务，每次改动都要求刷新旧规则，并且从 \x3ccode\x3e\/etc\/sysconfig\/iptables\x3c\/code\x3e 读取新规则，然而 firewalld 只应用改动了的不同部分。\x3c\/p\x3e\n\x3ch3\x3e\x3ca href=\x22#firewalld-的区域zone\x22\x3e\x3c\/a\x3eFirewallD 的区域（zone）\x3c\/h3\x3e\n\x3cp\x3eFirewallD 使用服务（service） 和区域（zone）来代替 iptables 的规则（rule）和链（chain）。\x3c\/p\x3e\n\x3cp\x3e默认情况下，有以下的区域（zone）可用：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cstrong\x3edrop\x3c\/strong\x3e – 丢弃所有传入的网络数据包并且无回应，只有传出网络连接可用。\x3c\/li\x3e\n\x3cli\x3e\x3cstrong\x3eblock\x3c\/strong\x3e — 拒绝所有传入网络数据包并回应一条主机禁止的 ICMP 消息，只有传出网络连接可用。\x3c\/li\x3e\n\x3cli\x3e\x3cstrong\x3epublic\x3c\/strong\x3e — 只接受被选择的传入网络连接，用于公共区域。\x3c\/li\x3e\n\x3cli\x3e\x3cstrong\x3eexternal\x3c\/strong\x3e — 用于启用了地址伪装的外部网络，只接受选定的传入网络连接。\x3c\/li\x3e\n\x3cli\x3e\x3cstrong\x3edmz\x3c\/strong\x3e — DMZ 隔离区，外部受限地访问内部网络，只接受选定的传入网络连接。\x3c\/li\x3e\n\x3cli\x3e\x3cstrong\x3ework\x3c\/strong\x3e — 对于处在你工作区域内的计算机，只接受被选择的传入网络连接。\x3c\/li\x3e\n\x3cli\x3e\x3cstrong\x3ehome\x3c\/strong\x3e — 对于处在你家庭区域内的计算机，只接受被选择的传入网络连接。\x3c\/li\x3e\n\x3cli\x3e\x3cstrong\x3einternal\x3c\/strong\x3e — 对于处在你内部网络的计算机，只接受被选择的传入网络连接。\x3c\/li\x3e\n\x3cli\x3e\x3cstrong\x3etrusted\x3c\/strong\x3e — 所有网络连接都接受。\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e要列出所有可用的区域，运行：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs vala\x22\x3e\x3cspan class=\x22hljs-meta\x22\x3e# firewall-cmd --get-zones\x3c\/span\x3e\nwork drop \x3cspan class=\x22hljs-keyword\x22\x3einternal\x3c\/span\x3e external trusted home dmz \x3cspan class=\x22hljs-keyword\x22\x3epublic\x3c\/span\x3e block\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e列出默认的区域 ：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs kotlin\x22\x3e# firewall-cmd --\x3cspan class=\x22hljs-keyword\x22\x3eget\x3c\/span\x3e-\x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e-zone\n\x3cspan class=\x22hljs-keyword\x22\x3epublic\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e改变默认的区域 ：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs shell\x22\x3e\x3cspan class=\x22hljs-meta\x22\x3e#\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e firewall-cmd --\x3cspan class=\x22hljs-built_in\x22\x3eset\x3c\/span\x3e-default-zone=dmz\x3c\/span\x3e\n\x3cspan class=\x22hljs-meta\x22\x3e#\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e firewall-cmd --get-default-zone\x3c\/span\x3e\ndmz\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3ch3\x3e\x3ca href=\x22#firewalld-服务\x22\x3e\x3c\/a\x3eFirewallD 服务\x3c\/h3\x3e\n\x3cp\x3eFirewallD 服务使用 XML 配置文件，记录了 firewalld 服务信息。\x3c\/p\x3e\n\x3cp\x3e列出所有可用的服务：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs routeros\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e# firewall-cmd --get-services\x3c\/span\x3e\namanda-client amanda-k5-client bacula bacula-client ceph ceph-mon dhcp dhcpv6 dhcpv6-client\x3cspan class=\x22hljs-built_in\x22\x3e dns \x3c\/span\x3edocker-registry dropbox-lansync freeipa-ldap freeipa-ldaps freeipa-replication ftp high-availability http https imap imaps ipp ipp-client\x3cspan class=\x22hljs-built_in\x22\x3e ipsec \x3c\/span\x3eiscsi-target kadmin kerberos kpasswd ldap ldaps libvirt libvirt-tls mdns mosh mountd ms-wbt mysql nfs\x3cspan class=\x22hljs-built_in\x22\x3e ntp \x3c\/span\x3eopenvpn pmcd pmproxy pmwebapi pmwebapis pop3 pop3s postgresql privoxy proxy-dhcp ptp pulseaudio puppetmaster\x3cspan class=\x22hljs-built_in\x22\x3e radius \x3c\/span\x3erpc-bind rsyncd samba samba-client sane smtp smtps\x3cspan class=\x22hljs-built_in\x22\x3e snmp \x3c\/span\x3esnmptrap squid ssh synergy syslog syslog-tls telnet tftp tftp-client tinc tor-socks transmission-client vdsm vnc-server wbem-https xmpp-bosh xmpp-client xmpp-local xmpp-server\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3eXML 配置文件存储在 \x3ccode\x3e\/usr\/lib\/firewalld\/services\/\x3c\/code\x3e 和 \x3ccode\x3e\/etc\/firewalld\/services\/\x3c\/code\x3e 目录下。\x3c\/p\x3e\n\x3ch3\x3e\x3ca href=\x22#用-firewalld-配置你的防火墙\x22\x3e\x3c\/a\x3e用 FirewallD 配置你的防火墙\x3c\/h3\x3e\n\x3cp\x3e作为一个例子，假设你正在运行一个 web 服务器，SSH 服务端口为 7022 ，以及邮件服务，你可以利用 FirewallD 这样配置你的服务器:\x3c\/p\x3e\n\x3cp\x3e首先设置默认区为 dmz。\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs shell\x22\x3e\x3cspan class=\x22hljs-meta\x22\x3e#\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e firewall-cmd --\x3cspan class=\x22hljs-built_in\x22\x3eset\x3c\/span\x3e-default-zone=dmz\x3c\/span\x3e\n\x3cspan class=\x22hljs-meta\x22\x3e#\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e firewall-cmd --get-default-zone\x3c\/span\x3e\ndmz\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e为 dmz 区添加持久性的 HTTP 和 HTTPS 规则：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs brainfuck\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e#\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3efirewall\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3ecmd\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3ezone=dmz\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3eadd\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3eservice=http\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3epermanent\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e#\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3efirewall\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3ecmd\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3ezone=dmz\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3eadd\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3eservice=https\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3epermanent\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e开启端口 25 (SMTP) 和端口 465 (SMTPS) ：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs routeros\x22\x3efirewall-cmd \x3cspan class=\x22hljs-attribute\x22\x3e--zone\x3c\/span\x3e=dmz \x3cspan class=\x22hljs-attribute\x22\x3e--add-service\x3c\/span\x3e=smtp --permanent\nfirewall-cmd \x3cspan class=\x22hljs-attribute\x22\x3e--zone\x3c\/span\x3e=dmz \x3cspan class=\x22hljs-attribute\x22\x3e--add-service\x3c\/span\x3e=smtps --permanent\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e开启 IMAP、IMAPS、POP3 和 POP3S 端口：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs routeros\x22\x3efirewall-cmd \x3cspan class=\x22hljs-attribute\x22\x3e--zone\x3c\/span\x3e=dmz \x3cspan class=\x22hljs-attribute\x22\x3e--add-service\x3c\/span\x3e=imap --permanent\nfirewall-cmd \x3cspan class=\x22hljs-attribute\x22\x3e--zone\x3c\/span\x3e=dmz \x3cspan class=\x22hljs-attribute\x22\x3e--add-service\x3c\/span\x3e=imaps --permanent\nfirewall-cmd \x3cspan class=\x22hljs-attribute\x22\x3e--zone\x3c\/span\x3e=dmz \x3cspan class=\x22hljs-attribute\x22\x3e--add-service\x3c\/span\x3e=pop3 --permanent\nfirewall-cmd \x3cspan class=\x22hljs-attribute\x22\x3e--zone\x3c\/span\x3e=dmz \x3cspan class=\x22hljs-attribute\x22\x3e--add-service\x3c\/span\x3e=pop3s --permanent\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e因为将 SSH 端口改到了 7022，所以要移除 ssh 服务（端口 22），开启端口 7022：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs dockerfile\x22\x3efirewall-\x3cspan class=\x22hljs-keyword\x22\x3ecmd\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e --remove-service=ssh --permanent\n\x3c\/span\x3efirewall-\x3cspan class=\x22hljs-keyword\x22\x3ecmd\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e --add-port=7022\/tcp --permanent\n\x3c\/span\x3e\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e要应用这些更改，我们需要重新加载防火墙：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs dockerfile\x22\x3efirewall-\x3cspan class=\x22hljs-keyword\x22\x3ecmd\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e --reload\n\x3c\/span\x3e\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e最后可以列出这些规则：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs yaml\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e# firewall-cmd –list-all\x3c\/span\x3e\n\x3cspan class=\x22hljs-string\x22\x3edmz\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3etarget:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3edefault\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3eicmp-block-inversion:\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3eno\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3einterfaces:\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3esources:\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3eservices:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3ehttp\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3ehttps\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3eimap\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3eimaps\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3epop3\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3epop3s\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3esmtp\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3esmtps\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3eports:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e7022\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e\/tcp\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3eprotocols:\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3emasquerade:\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3eno\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3eforward-ports:\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3esourceports:\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3eicmp-blocks:\x3c\/span\x3e\n\x3cspan class=\x22hljs-string\x22\x3erich\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3erules:\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3chr\x3e\n\x3cp\x3ePS. 如果你喜欢这篇文章，请在下面留下一个回复。谢谢。\x3c\/p\x3e\n\x3chr\x3e\n\x3cp\x3evia: \x3ca href=\x22https:\/\/www.rosehosting.com\/blog\/set-up-and-configure-a-firewall-with-firewalld-on-centos-7\/\x22\x3ehttps:\/\/www.rosehosting.com\/blog\/set-up-and-configure-a-firewall-with-firewalld-on-centos-7\/\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e译者简介：\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22http:\/\/locez.com\x22\x3eLocez\x3c\/a\x3e 是一个喜欢技术，喜欢折腾的 Linuxer，靠着对 Linux 的兴趣自学了很多 Linux 相关的知识，并且志在于为 Linux 在中国普及出一份力。\x3c\/p\x3e\n\x3cp\x3e作者：\x3ca href=\x22https:\/\/www.rosehosting.com\/blog\/set-up-and-configure-a-firewall-with-firewalld-on-centos-7\/\x22\x3erosehosting.com\x3c\/a\x3e 译者：\x3ca href=\x22https:\/\/github.com\/locez\x22\x3eLocez\x3c\/a\x3e 校对：\x3ca href=\x22https:\/\/github.com\/jasminepeng\x22\x3ejasminepeng\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e本文由 \x3ca href=\x22https:\/\/github.com\/LCTT\/TranslateProject\x22\x3eLCTT\x3c\/a\x3e 原创编译，\x3ca href=\x22https:\/\/linux.cn\/\x22\x3eLinux中国\x3c\/a\x3e 荣誉推出\x3c\/p\x3e\n\n          \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>在 CentOS 上使用 FirewallD 配置防火墙</p><h2 id="原文链接">原文链接</h2><p><a href="https://www.zcfy.cc/article/set-up-and-configure-a-firewall-with-firewalld-on-centos-7">https://www.zcfy.cc/article/set-up-and-configure-a-firewall-with-firewalld-on-centos-7</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/prhx5t56o6/" target="_blank">https://alili.tech/archive/prhx5t56o6/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/z09muaar7j/">2年前端应该会哪些技能<aside class="dates">2019-02-01</aside></a></li><li><a href="/archive/ke982v6qrfg/">CSS 性能优化笔记<aside class="dates">2019-02-01</aside></a></li><li><a href="/archive/if1i2hs28ah/">H5打造3d场景不完全攻略（二）: Amazing CSS3D<aside class="dates">2019-02-01</aside></a></li><li><a href="/archive/s4apghsr7o/">JS原生一步步实现前端路由和单页面应用<aside class="dates">2019-02-01</aside></a></li><li><a href="/archive/hjgkntbgqek/">JavaScript 中对大量数据的多重过滤<aside class="dates">2019-02-01</aside></a></li><li><a href="/archive/h1hfvr2a2nj/">JavaScript 中的错误处理机制<aside class="dates">2019-02-01</aside></a></li><li><a href="/archive/a0ukpm125gm/">JavaScript 数组分组的实现<aside class="dates">2019-02-01</aside></a></li><li><a href="/archive/fwosouhbhmj/">JavaScript 类型转换深度学习<aside class="dates">2019-02-01</aside></a></li><li><a href="/archive/z193p9xv2p/">JavaScript设计模式之发布-订阅模式（观察者模式）-Part1<aside class="dates">2019-02-01</aside></a></li><li><a href="/archive/6i7sr0vgkxm/">Javascript中的时间<aside class="dates">2019-02-01</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>