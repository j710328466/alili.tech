<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="JavaScript中的递归"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>JavaScript中的递归 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/feqdcys3ubv/",
				"appid": "1613049289050283", 
				"title": "JavaScript中的递归 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-11T02:30:08"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/fufjyalfifv/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/2xw87tktubt/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2ffeqdcys3ubv%2f&text=JavaScript%e4%b8%ad%e7%9a%84%e9%80%92%e5%bd%92"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2ffeqdcys3ubv%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2ffeqdcys3ubv%2f&text=JavaScript%e4%b8%ad%e7%9a%84%e9%80%92%e5%bd%92"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2ffeqdcys3ubv%2f&title=JavaScript%e4%b8%ad%e7%9a%84%e9%80%92%e5%bd%92"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2ffeqdcys3ubv%2f&is_video=false&description=JavaScript%e4%b8%ad%e7%9a%84%e9%80%92%e5%bd%92"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=JavaScript%e4%b8%ad%e7%9a%84%e9%80%92%e5%bd%92&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2ffeqdcys3ubv%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2ffeqdcys3ubv%2f&title=JavaScript%e4%b8%ad%e7%9a%84%e9%80%92%e5%bd%92"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2ffeqdcys3ubv%2f&title=JavaScript%e4%b8%ad%e7%9a%84%e9%80%92%e5%bd%92"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2ffeqdcys3ubv%2f&title=JavaScript%e4%b8%ad%e7%9a%84%e9%80%92%e5%bd%92"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2ffeqdcys3ubv%2f&title=JavaScript%e4%b8%ad%e7%9a%84%e9%80%92%e5%bd%92"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">JavaScript中的递归</h1><div class="meta"><div class="postdate"><time datetime="2019-01-11" itemprop="datePublished">2019-01-11</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e\x3cstrong\x3e译者按:\x3c\/strong\x3e 程序员应该知道递归，但是你真的知道是怎么回事么？\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e原文: \x3ca href=\x22http:\/\/lucasfcosta.com\/2017\/05\/08\/All-About-Recursion-PTC-TCO-and-STC-in-JavaScript.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eAll About Recursion, PTC, TCO and STC in JavaScript\x3c\/a\x3e\n\x3c\/li\x3e\n\x3cli\x3e译者: \x3ca href=\x22https:\/\/fundebug.com\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eFundebug\x3c\/a\x3e\n\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e\x3cstrong\x3e为了保证可读性，本文采用意译而非直译。\x3c\/strong\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader0\x22\x3e递归简介\x3c\/h3\x3e\n\x3cblockquote\x3e一个过程或函数在其定义或说明中有直接或间接调用自身的一种方法，它通常把一个大型复杂的问题层层转化为一个与原问题相似的规模较小的问题来求解，递归策略只需少量的程序就可描述出解题过程所需要的多次重复计算，大大地减少了程序的代码量。\x3c\/blockquote\x3e\n\x3cp\x3e我们来举个例子，我们可以用4的阶乘乘以4来定义5的阶乘，3的阶乘乘以4来定义4的阶乘，以此类推。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22factorial(5) = factorial(4) * 5\nfactorial(5) = factorial(3) * 4 * 5\nfactorial(5) = factorial(2) * 3 * 4 * 5\nfactorial(5) = factorial(1) * 2 * 3 * 4 * 5\nfactorial(5) = factorial(0) * 1 * 2 * 3 * 4 * 5\nfactorial(5) = 1 * 1 * 2 * 3 * 4 * 5\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3efactorial(\x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e) = factorial(\x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e) * \x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e\nfactorial(\x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e) = factorial(\x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e) * \x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e * \x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e\nfactorial(\x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e) = factorial(\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e) * \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e * \x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e * \x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e\nfactorial(\x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e) = factorial(\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e) * \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e * \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e * \x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e * \x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e\nfactorial(\x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e) = factorial(\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e) * \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e * \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e * \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e * \x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e * \x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e\nfactorial(\x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e) = \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e * \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e * \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e * \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e * \x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e * \x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e用Haskell的Pattern matching 可以很直观的定义factorial函数:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22factorial n = factorial (n-1)  * n\nfactorial 0 = 1\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22haskell hljs\x22\x3e\x3ccode class=\x22haskell\x22\x3e\x3cspan class=\x22hljs-title\x22\x3efactorial\x3c\/span\x3e n = factorial (n\x3cspan class=\x22hljs-number\x22\x3e-1\x3c\/span\x3e)  * n\n\x3cspan class=\x22hljs-title\x22\x3efactorial\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e = \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在递归的例子中，从第一个调用\x3ccode\x3efactorial(5)\x3c\/code\x3e开始，一直递归调用\x3ccode\x3efactorial\x3c\/code\x3e函数自身直到参数的值为0。下面是一个形象的图例：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000009857475?w=1096\x26amp;h=1040\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000009857475?w=1096\x26amp;h=1040\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader1\x22\x3e递归的调用栈\x3c\/h3\x3e\n\x3cp\x3e为了理解调用栈，我们回到\x3ccode\x3efactorial\x3c\/code\x3e函数的例子。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function factorial(n) {\n    if (n === 0) {\n        return 1\n    }\n\n    return n * factorial(n - 1)\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3efactorial\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3en\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (n === \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e) {\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e\n    }\n\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e n * factorial(n - \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e)\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e如果我们传入参数3，将会递归调用\x3ccode\x3efactorial(2)\x3c\/code\x3e、\x3ccode\x3efactorial(1)\x3c\/code\x3e和\x3ccode\x3efactorial(0)\x3c\/code\x3e，因此会额外再调用\x3ccode\x3efactorial\x3c\/code\x3e三次。\x3c\/p\x3e\n\x3cp\x3e每次函数调用都会压入调用栈，整个调用栈如下:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22factorial(0) \/\/ 0的阶乘为1 \nfactorial(1) \/\/ 该调用依赖factorial(0)\nfactorial(2) \/\/ 该调用依赖factorial(1)\nfactorial(3) \/\/ 该掉用依赖factorial(2)\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3efactorial(\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 0的阶乘为1 \x3c\/span\x3e\nfactorial(\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 该调用依赖factorial(0)\x3c\/span\x3e\nfactorial(\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 该调用依赖factorial(1)\x3c\/span\x3e\nfactorial(\x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 该掉用依赖factorial(2)\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e现在我们修改代码，插入\x3ccode\x3econsole.trace()\x3c\/code\x3e来查看每一次当前的调用栈的状态：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function factorial(n) {\n    console.trace()\n    if (n === 0) {\n        return 1\n    }\n\n    return n * factorial(n - 1)\n}\n\nfactorial(3)\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3efactorial\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3en\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.trace()\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (n === \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e) {\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e\n    }\n\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e n * factorial(n - \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e)\n}\n\nfactorial(\x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e)\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e接下来我们看看调用栈是怎样的。\x3cbr\x3e第一个：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22Trace\n    at factorial (repl:2:9)\n    at repl:1:1 \/\/ 请忽略以下底层实现细节代码\n    at realRunInThisContextScript (vm.js:22:35)\n    at sigintHandlersWrap (vm.js:98:12)\n    at ContextifyScript.Script.runInThisContext (vm.js:24:12)\n    at REPLServer.defaultEval (repl.js:313:29)\n    at bound (domain.js:280:14)\n    at REPLServer.runBound [as eval] (domain.js:293:12)\n    at REPLServer.onLine (repl.js:513:10)\n    at emitOne (events.js:101:20)\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3eTrace\n    at factorial (repl:\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e9\x3c\/span\x3e)\n    at repl:\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 请忽略以下底层实现细节代码\x3c\/span\x3e\n    at realRunInThisContextScript (vm.js:\x3cspan class=\x22hljs-number\x22\x3e22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e35\x3c\/span\x3e)\n    at sigintHandlersWrap (vm.js:\x3cspan class=\x22hljs-number\x22\x3e98\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e12\x3c\/span\x3e)\n    at ContextifyScript.Script.runInThisContext (vm.js:\x3cspan class=\x22hljs-number\x22\x3e24\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e12\x3c\/span\x3e)\n    at REPLServer.defaultEval (repl.js:\x3cspan class=\x22hljs-number\x22\x3e313\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e29\x3c\/span\x3e)\n    at bound (domain.js:\x3cspan class=\x22hljs-number\x22\x3e280\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e14\x3c\/span\x3e)\n    at REPLServer.runBound [\x3cspan class=\x22hljs-keyword\x22\x3eas\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eeval\x3c\/span\x3e] (domain.js:\x3cspan class=\x22hljs-number\x22\x3e293\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e12\x3c\/span\x3e)\n    at REPLServer.onLine (repl.js:\x3cspan class=\x22hljs-number\x22\x3e513\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3e)\n    at emitOne (events.js:\x3cspan class=\x22hljs-number\x22\x3e101\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e20\x3c\/span\x3e)\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e你会发现，该调用栈包含一个对\x3ccode\x3efactorial\x3c\/code\x3e函数的调用，这里是\x3ccode\x3efactorial(3)\x3c\/code\x3e。接下来就更加有趣了，我们来看第二次打印出来的调用栈：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22Trace\n    at factorial (repl:2:9)\n    at factorial (repl:7:12)\n    at repl:1:1 \/\/ 请忽略以下底层实现细节代码\n    at realRunInThisContextScript (vm.js:22:35)\n    at sigintHandlersWrap (vm.js:98:12)\n    at ContextifyScript.Script.runInThisContext (vm.js:24:12)\n    at REPLServer.defaultEval (repl.js:313:29)\n    at bound (domain.js:280:14)\n    at REPLServer.runBound [as eval] (domain.js:293:12)\n    at REPLServer.onLine (repl.js:513:10)\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3eTrace\n    at factorial (repl:\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e9\x3c\/span\x3e)\n    at factorial (repl:\x3cspan class=\x22hljs-number\x22\x3e7\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e12\x3c\/span\x3e)\n    at repl:\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 请忽略以下底层实现细节代码\x3c\/span\x3e\n    at realRunInThisContextScript (vm.js:\x3cspan class=\x22hljs-number\x22\x3e22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e35\x3c\/span\x3e)\n    at sigintHandlersWrap (vm.js:\x3cspan class=\x22hljs-number\x22\x3e98\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e12\x3c\/span\x3e)\n    at ContextifyScript.Script.runInThisContext (vm.js:\x3cspan class=\x22hljs-number\x22\x3e24\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e12\x3c\/span\x3e)\n    at REPLServer.defaultEval (repl.js:\x3cspan class=\x22hljs-number\x22\x3e313\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e29\x3c\/span\x3e)\n    at bound (domain.js:\x3cspan class=\x22hljs-number\x22\x3e280\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e14\x3c\/span\x3e)\n    at REPLServer.runBound [\x3cspan class=\x22hljs-keyword\x22\x3eas\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eeval\x3c\/span\x3e] (domain.js:\x3cspan class=\x22hljs-number\x22\x3e293\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e12\x3c\/span\x3e)\n    at REPLServer.onLine (repl.js:\x3cspan class=\x22hljs-number\x22\x3e513\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3e)\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e现在我们有两个对\x3ccode\x3efactorial\x3c\/code\x3e函数的调用。\x3c\/p\x3e\n\x3cp\x3e第三次：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22Trace\n    at factorial (repl:2:9)\n    at factorial (repl:7:12)\n    at factorial (repl:7:12)\n    at repl:1:1\n    at realRunInThisContextScript (vm.js:22:35)\n    at sigintHandlersWrap (vm.js:98:12)\n    at ContextifyScript.Script.runInThisContext (vm.js:24:12)\n    at REPLServer.defaultEval (repl.js:313:29)\n    at bound (domain.js:280:14)\n    at REPLServer.runBound [as eval] (domain.js:293:12)\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3eTrace\n    at factorial (repl:\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e9\x3c\/span\x3e)\n    at factorial (repl:\x3cspan class=\x22hljs-number\x22\x3e7\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e12\x3c\/span\x3e)\n    at factorial (repl:\x3cspan class=\x22hljs-number\x22\x3e7\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e12\x3c\/span\x3e)\n    at repl:\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e\n    at realRunInThisContextScript (vm.js:\x3cspan class=\x22hljs-number\x22\x3e22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e35\x3c\/span\x3e)\n    at sigintHandlersWrap (vm.js:\x3cspan class=\x22hljs-number\x22\x3e98\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e12\x3c\/span\x3e)\n    at ContextifyScript.Script.runInThisContext (vm.js:\x3cspan class=\x22hljs-number\x22\x3e24\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e12\x3c\/span\x3e)\n    at REPLServer.defaultEval (repl.js:\x3cspan class=\x22hljs-number\x22\x3e313\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e29\x3c\/span\x3e)\n    at bound (domain.js:\x3cspan class=\x22hljs-number\x22\x3e280\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e14\x3c\/span\x3e)\n    at REPLServer.runBound [\x3cspan class=\x22hljs-keyword\x22\x3eas\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eeval\x3c\/span\x3e] (domain.js:\x3cspan class=\x22hljs-number\x22\x3e293\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e12\x3c\/span\x3e)\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e第四次：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22Trace\n    at factorial (repl:2:9)\n    at factorial (repl:7:12)\n    at factorial (repl:7:12)\n    at factorial (repl:7:12)\n    at repl:1:1\n    at realRunInThisContextScript (vm.js:22:35)\n    at sigintHandlersWrap (vm.js:98:12)\n    at ContextifyScript.Script.runInThisContext (vm.js:24:12)\n    at REPLServer.defaultEval (repl.js:313:29)\n    at bound (domain.js:280:14)\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3eTrace\n    at factorial (repl:\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e9\x3c\/span\x3e)\n    at factorial (repl:\x3cspan class=\x22hljs-number\x22\x3e7\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e12\x3c\/span\x3e)\n    at factorial (repl:\x3cspan class=\x22hljs-number\x22\x3e7\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e12\x3c\/span\x3e)\n    at factorial (repl:\x3cspan class=\x22hljs-number\x22\x3e7\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e12\x3c\/span\x3e)\n    at repl:\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e\n    at realRunInThisContextScript (vm.js:\x3cspan class=\x22hljs-number\x22\x3e22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e35\x3c\/span\x3e)\n    at sigintHandlersWrap (vm.js:\x3cspan class=\x22hljs-number\x22\x3e98\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e12\x3c\/span\x3e)\n    at ContextifyScript.Script.runInThisContext (vm.js:\x3cspan class=\x22hljs-number\x22\x3e24\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e12\x3c\/span\x3e)\n    at REPLServer.defaultEval (repl.js:\x3cspan class=\x22hljs-number\x22\x3e313\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e29\x3c\/span\x3e)\n    at bound (domain.js:\x3cspan class=\x22hljs-number\x22\x3e280\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e14\x3c\/span\x3e)\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e设想，如果传入的参数值特别大，那么这个调用栈将会非常之大，最终可能超出调用栈的缓存大小而崩溃导致程序执行失败。那么如何解决这个问题呢？使用尾递归。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader2\x22\x3e尾递归\x3c\/h3\x3e\n\x3cp\x3e尾递归是一种递归的写法，可以避免不断的将函数压栈最终导致堆栈溢出。通过设置一个累加参数，并且每一次都将当前的值累加上去，然后递归调用。    \x3c\/p\x3e\n\x3cp\x3e我们来看如何改写之前定义\x3ccode\x3efactorial\x3c\/code\x3e函数为尾递归：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function factorial(n, total = 1) {\n    if (n === 0) {\n        return total\n    }\n\n    return factorial(n - 1, n * total)\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3efactorial\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3en, total = \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (n === \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e) {\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e total\n    }\n\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e factorial(n - \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, n * total)\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3ccode\x3efactorial(3)\x3c\/code\x3e的执行步骤如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22factorial(3, 1) \nfactorial(2, 3) \nfactorial(1, 6) \nfactorial(0, 6) \x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3efactorial(\x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e) \nfactorial(\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e) \nfactorial(\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e6\x3c\/span\x3e) \nfactorial(\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e6\x3c\/span\x3e) \x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e调用栈不再需要多次对\x3ccode\x3efactorial\x3c\/code\x3e进行压栈处理，因为每一个递归调用都不在依赖于上一个递归调用的值。因此，空间的复杂度为o(1)而不是0(n)。\x3c\/p\x3e\n\x3cp\x3e接下来，通过\x3ccode\x3econsole.trace()\x3c\/code\x3e函数将调用栈打印出来。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function factorial(n, total = 1) {\n    console.trace()\n    if (n === 0) {\n        return total\n    }\n\n    return factorial(n - 1, n * total)\n}\n\nfactorial(3)\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3efactorial\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3en, total = \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.trace()\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (n === \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e) {\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e total\n    }\n\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e factorial(n - \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, n * total)\n}\n\nfactorial(\x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e)\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e很惊讶的发现，依然有很多压栈!\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ ...\n\/\/ 下面是最后两次对factorial的调用\nTrace\n    at factorial (repl:2:9) \/\/ 3次压栈\n    at factorial (repl:7:8)\n    at factorial (repl:7:8)\n    at repl:1:1 \/\/ 请忽略以下底层实现细节代码\n    at realRunInThisContextScript (vm.js:22:35)\n    at sigintHandlersWrap (vm.js:98:12)\n    at ContextifyScript.Script.runInThisContext (vm.js:24:12)\n    at REPLServer.defaultEval (repl.js:313:29)\n    at bound (domain.js:280:14)\n    at REPLServer.runBound [as eval] (domain.js:293:12)\nTrace\n    at factorial (repl:2:9) \/\/ 最后第一调用再次压栈\n    at factorial (repl:7:8)\n    at factorial (repl:7:8)\n    at factorial (repl:7:8)\n    at repl:1:1 \/\/ 请忽略以下底层实现细节代码\n    at realRunInThisContextScript (vm.js:22:35)\n    at sigintHandlersWrap (vm.js:98:12)\n    at ContextifyScript.Script.runInThisContext (vm.js:24:12)\n    at REPLServer.defaultEval (repl.js:313:29)\n    at bound (domain.js:280:14)\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ ...\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 下面是最后两次对factorial的调用\x3c\/span\x3e\nTrace\n    at factorial (repl:\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e9\x3c\/span\x3e) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 3次压栈\x3c\/span\x3e\n    at factorial (repl:\x3cspan class=\x22hljs-number\x22\x3e7\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e8\x3c\/span\x3e)\n    at factorial (repl:\x3cspan class=\x22hljs-number\x22\x3e7\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e8\x3c\/span\x3e)\n    at repl:\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 请忽略以下底层实现细节代码\x3c\/span\x3e\n    at realRunInThisContextScript (vm.js:\x3cspan class=\x22hljs-number\x22\x3e22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e35\x3c\/span\x3e)\n    at sigintHandlersWrap (vm.js:\x3cspan class=\x22hljs-number\x22\x3e98\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e12\x3c\/span\x3e)\n    at ContextifyScript.Script.runInThisContext (vm.js:\x3cspan class=\x22hljs-number\x22\x3e24\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e12\x3c\/span\x3e)\n    at REPLServer.defaultEval (repl.js:\x3cspan class=\x22hljs-number\x22\x3e313\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e29\x3c\/span\x3e)\n    at bound (domain.js:\x3cspan class=\x22hljs-number\x22\x3e280\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e14\x3c\/span\x3e)\n    at REPLServer.runBound [\x3cspan class=\x22hljs-keyword\x22\x3eas\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eeval\x3c\/span\x3e] (domain.js:\x3cspan class=\x22hljs-number\x22\x3e293\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e12\x3c\/span\x3e)\nTrace\n    at factorial (repl:\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e9\x3c\/span\x3e) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 最后第一调用再次压栈\x3c\/span\x3e\n    at factorial (repl:\x3cspan class=\x22hljs-number\x22\x3e7\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e8\x3c\/span\x3e)\n    at factorial (repl:\x3cspan class=\x22hljs-number\x22\x3e7\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e8\x3c\/span\x3e)\n    at factorial (repl:\x3cspan class=\x22hljs-number\x22\x3e7\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e8\x3c\/span\x3e)\n    at repl:\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 请忽略以下底层实现细节代码\x3c\/span\x3e\n    at realRunInThisContextScript (vm.js:\x3cspan class=\x22hljs-number\x22\x3e22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e35\x3c\/span\x3e)\n    at sigintHandlersWrap (vm.js:\x3cspan class=\x22hljs-number\x22\x3e98\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e12\x3c\/span\x3e)\n    at ContextifyScript.Script.runInThisContext (vm.js:\x3cspan class=\x22hljs-number\x22\x3e24\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e12\x3c\/span\x3e)\n    at REPLServer.defaultEval (repl.js:\x3cspan class=\x22hljs-number\x22\x3e313\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e29\x3c\/span\x3e)\n    at bound (domain.js:\x3cspan class=\x22hljs-number\x22\x3e280\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e14\x3c\/span\x3e)\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这是为什么呢？\x3cbr\x3e在Nodejs下面，我们可以通过开启\x3ccode\x3estrict mode\x3c\/code\x3e, 并且使用\x3ccode\x3e--harmony_tailcalls\x3c\/code\x3e来开启尾递归(proper tail call)。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x27use strict\x27\n\nfunction factorial(n, total = 1) {\n    console.trace()\n    if (n === 0) {\n        return total\n    }\n\n    return factorial(n - 1, n * total)\n}\n\nfactorial(3)\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-meta\x22\x3e\x27use strict\x27\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3efactorial\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3en, total = \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.trace()\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (n === \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e) {\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e total\n    }\n\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e factorial(n - \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, n * total)\n}\n\nfactorial(\x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e)\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e使用如下命令：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22node --harmony_tailcalls factorial.js\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs crmsh\x22\x3e\x3ccode class=\x22shell\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3enode\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3e--harmony_tailcalls\x3c\/span\x3e factorial.js\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e调用栈信息如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22Trace\n    at factorial (\/Users\/stefanzan\/factorial.js:3:13)\n    at Object.\x3canonymous\x3e (\/Users\/stefanzan\/factorial.js:9:1)\n    at Module._compile (module.js:570:32)\n    at Object.Module._extensions..js (module.js:579:10)\n    at Module.load (module.js:487:32)\n    at tryModuleLoad (module.js:446:12)\n    at Function.Module._load (module.js:438:3)\n    at Module.runMain (module.js:604:10)\n    at run (bootstrap_node.js:394:7)\n    at startup (bootstrap_node.js:149:9)\nTrace\n    at factorial (\/Users\/stefanzan\/factorial.js:3:13)\n    at Object.\x3canonymous\x3e (\/Users\/stefanzan\/factorial.js:9:1)\n    at Module._compile (module.js:570:32)\n    at Object.Module._extensions..js (module.js:579:10)\n    at Module.load (module.js:487:32)\n    at tryModuleLoad (module.js:446:12)\n    at Function.Module._load (module.js:438:3)\n    at Module.runMain (module.js:604:10)\n    at run (bootstrap_node.js:394:7)\n    at startup (bootstrap_node.js:149:9)\nTrace\n    at factorial (\/Users\/stefanzan\/factorial.js:3:13)\n    at Object.\x3canonymous\x3e (\/Users\/stefanzan\/factorial.js:9:1)\n    at Module._compile (module.js:570:32)\n    at Object.Module._extensions..js (module.js:579:10)\n    at Module.load (module.js:487:32)\n    at tryModuleLoad (module.js:446:12)\n    at Function.Module._load (module.js:438:3)\n    at Module.runMain (module.js:604:10)\n    at run (bootstrap_node.js:394:7)\n    at startup (bootstrap_node.js:149:9)\nTrace\n    at factorial (\/Users\/stefanzan\/factorial.js:3:13)\n    at Object.\x3canonymous\x3e (\/Users\/stefanzan\/factorial.js:9:1)\n    at Module._compile (module.js:570:32)\n    at Object.Module._extensions..js (module.js:579:10)\n    at Module.load (module.js:487:32)\n    at tryModuleLoad (module.js:446:12)\n    at Function.Module._load (module.js:438:3)\n    at Module.runMain (module.js:604:10)\n    at run (bootstrap_node.js:394:7)\n    at startup (bootstrap_node.js:149:9)\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3eTrace\n    at factorial (\x3cspan class=\x22hljs-regexp\x22\x3e\/Users\/\x3c\/span\x3estefanzan\/factorial.js:\x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e13\x3c\/span\x3e)\n    at \x3cspan class=\x22hljs-built_in\x22\x3eObject\x3c\/span\x3e.\x26lt;anonymous\x26gt; (\x3cspan class=\x22hljs-regexp\x22\x3e\/Users\/\x3c\/span\x3estefanzan\/factorial.js:\x3cspan class=\x22hljs-number\x22\x3e9\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e)\n    at Module._compile (\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.js:\x3cspan class=\x22hljs-number\x22\x3e570\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e32\x3c\/span\x3e)\n    at \x3cspan class=\x22hljs-built_in\x22\x3eObject\x3c\/span\x3e.Module._extensions..js (\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.js:\x3cspan class=\x22hljs-number\x22\x3e579\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3e)\n    at Module.load (\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.js:\x3cspan class=\x22hljs-number\x22\x3e487\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e32\x3c\/span\x3e)\n    at tryModuleLoad (\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.js:\x3cspan class=\x22hljs-number\x22\x3e446\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e12\x3c\/span\x3e)\n    at \x3cspan class=\x22hljs-built_in\x22\x3eFunction\x3c\/span\x3e.Module._load (\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.js:\x3cspan class=\x22hljs-number\x22\x3e438\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e)\n    at Module.runMain (\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.js:\x3cspan class=\x22hljs-number\x22\x3e604\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3e)\n    at run (bootstrap_node.js:\x3cspan class=\x22hljs-number\x22\x3e394\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e7\x3c\/span\x3e)\n    at startup (bootstrap_node.js:\x3cspan class=\x22hljs-number\x22\x3e149\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e9\x3c\/span\x3e)\nTrace\n    at factorial (\x3cspan class=\x22hljs-regexp\x22\x3e\/Users\/\x3c\/span\x3estefanzan\/factorial.js:\x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e13\x3c\/span\x3e)\n    at \x3cspan class=\x22hljs-built_in\x22\x3eObject\x3c\/span\x3e.\x26lt;anonymous\x26gt; (\x3cspan class=\x22hljs-regexp\x22\x3e\/Users\/\x3c\/span\x3estefanzan\/factorial.js:\x3cspan class=\x22hljs-number\x22\x3e9\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e)\n    at Module._compile (\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.js:\x3cspan class=\x22hljs-number\x22\x3e570\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e32\x3c\/span\x3e)\n    at \x3cspan class=\x22hljs-built_in\x22\x3eObject\x3c\/span\x3e.Module._extensions..js (\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.js:\x3cspan class=\x22hljs-number\x22\x3e579\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3e)\n    at Module.load (\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.js:\x3cspan class=\x22hljs-number\x22\x3e487\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e32\x3c\/span\x3e)\n    at tryModuleLoad (\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.js:\x3cspan class=\x22hljs-number\x22\x3e446\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e12\x3c\/span\x3e)\n    at \x3cspan class=\x22hljs-built_in\x22\x3eFunction\x3c\/span\x3e.Module._load (\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.js:\x3cspan class=\x22hljs-number\x22\x3e438\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e)\n    at Module.runMain (\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.js:\x3cspan class=\x22hljs-number\x22\x3e604\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3e)\n    at run (bootstrap_node.js:\x3cspan class=\x22hljs-number\x22\x3e394\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e7\x3c\/span\x3e)\n    at startup (bootstrap_node.js:\x3cspan class=\x22hljs-number\x22\x3e149\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e9\x3c\/span\x3e)\nTrace\n    at factorial (\x3cspan class=\x22hljs-regexp\x22\x3e\/Users\/\x3c\/span\x3estefanzan\/factorial.js:\x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e13\x3c\/span\x3e)\n    at \x3cspan class=\x22hljs-built_in\x22\x3eObject\x3c\/span\x3e.\x26lt;anonymous\x26gt; (\x3cspan class=\x22hljs-regexp\x22\x3e\/Users\/\x3c\/span\x3estefanzan\/factorial.js:\x3cspan class=\x22hljs-number\x22\x3e9\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e)\n    at Module._compile (\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.js:\x3cspan class=\x22hljs-number\x22\x3e570\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e32\x3c\/span\x3e)\n    at \x3cspan class=\x22hljs-built_in\x22\x3eObject\x3c\/span\x3e.Module._extensions..js (\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.js:\x3cspan class=\x22hljs-number\x22\x3e579\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3e)\n    at Module.load (\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.js:\x3cspan class=\x22hljs-number\x22\x3e487\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e32\x3c\/span\x3e)\n    at tryModuleLoad (\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.js:\x3cspan class=\x22hljs-number\x22\x3e446\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e12\x3c\/span\x3e)\n    at \x3cspan class=\x22hljs-built_in\x22\x3eFunction\x3c\/span\x3e.Module._load (\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.js:\x3cspan class=\x22hljs-number\x22\x3e438\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e)\n    at Module.runMain (\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.js:\x3cspan class=\x22hljs-number\x22\x3e604\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3e)\n    at run (bootstrap_node.js:\x3cspan class=\x22hljs-number\x22\x3e394\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e7\x3c\/span\x3e)\n    at startup (bootstrap_node.js:\x3cspan class=\x22hljs-number\x22\x3e149\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e9\x3c\/span\x3e)\nTrace\n    at factorial (\x3cspan class=\x22hljs-regexp\x22\x3e\/Users\/\x3c\/span\x3estefanzan\/factorial.js:\x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e13\x3c\/span\x3e)\n    at \x3cspan class=\x22hljs-built_in\x22\x3eObject\x3c\/span\x3e.\x26lt;anonymous\x26gt; (\x3cspan class=\x22hljs-regexp\x22\x3e\/Users\/\x3c\/span\x3estefanzan\/factorial.js:\x3cspan class=\x22hljs-number\x22\x3e9\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e)\n    at Module._compile (\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.js:\x3cspan class=\x22hljs-number\x22\x3e570\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e32\x3c\/span\x3e)\n    at \x3cspan class=\x22hljs-built_in\x22\x3eObject\x3c\/span\x3e.Module._extensions..js (\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.js:\x3cspan class=\x22hljs-number\x22\x3e579\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3e)\n    at Module.load (\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.js:\x3cspan class=\x22hljs-number\x22\x3e487\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e32\x3c\/span\x3e)\n    at tryModuleLoad (\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.js:\x3cspan class=\x22hljs-number\x22\x3e446\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e12\x3c\/span\x3e)\n    at \x3cspan class=\x22hljs-built_in\x22\x3eFunction\x3c\/span\x3e.Module._load (\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.js:\x3cspan class=\x22hljs-number\x22\x3e438\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e)\n    at Module.runMain (\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.js:\x3cspan class=\x22hljs-number\x22\x3e604\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3e)\n    at run (bootstrap_node.js:\x3cspan class=\x22hljs-number\x22\x3e394\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e7\x3c\/span\x3e)\n    at startup (bootstrap_node.js:\x3cspan class=\x22hljs-number\x22\x3e149\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e9\x3c\/span\x3e)\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e你会发现，不会在每次调用的时候压栈，只有一个\x3ccode\x3efactorial\x3c\/code\x3e。\x3c\/p\x3e\n\x3cp\x3e注意：尾递归不一定会将你的代码执行速度提高；相反，\x3ca href=\x22https:\/\/github.com\/tc39\/proposal-ptc-syntax#performance\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e可能会变慢\x3c\/a\x3e。不过，尾递归可以让你使用更少的内存，使你的递归函数更加安全 (前提是你要开启harmony模式)。\x3c\/p\x3e\n\x3cp\x3e那么，博主这里就疑问了：为什么尾递归一定要开启\x3ccode\x3eharmony\x3c\/code\x3e模式才可以呢？ 欢迎各位留言讨论。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader3\x22\x3e关于Fundebug\x3c\/h3\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/www.fundebug.com\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eFundebug\x3c\/a\x3e专注于JavaScript、微信小程序、微信小游戏、支付宝小程序、React Native、Node.js和Java实时BUG监控。 自从2016年双十一正式上线，Fundebug累计处理了6亿\x2b错误事件，得到了Google、360、金山软件等众多知名用户的认可。欢迎免费试用！\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVbhDhe?w=400\x26amp;h=225\x22 src=\x22https:\/\/static.alili.tech\/img\/bVbhDhe?w=400\x26amp;h=225\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader4\x22\x3e版权声明\x3c\/h3\x3e\n\x3cp\x3e转载时请注明作者Fundebug以及本文地址：\x3cbr\x3e\x3ca href=\x22https:\/\/blog.fundebug.com\/2017\/06\/14\/all-about-recursions\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/blog.fundebug.com\/2017\/06\/14\/all-about-recursions\/\x3c\/a\x3e\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>JavaScript中的递归</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000009857470">https://segmentfault.com/a/1190000009857470</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/feqdcys3ubv/" target="_blank">https://alili.tech/archive/feqdcys3ubv/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/t42iv2yle7e/">2016-我的前端之路:工具化与工程化<aside class="dates">2019-01-29</aside></a></li><li><a href="/archive/xlhryjzdso/">2016年总结--成长<aside class="dates">2019-01-29</aside></a></li><li><a href="/archive/4wvjfeus9ur/">2016年末总结，我的前端之路<aside class="dates">2019-01-29</aside></a></li><li><a href="/archive/w7062tmcw3/">3D 视差效果<aside class="dates">2019-01-29</aside></a></li><li><a href="/archive/5jt1iw1t77b/">AlloyTouch实战--60行代码搞定QQ看点资料卡<aside class="dates">2019-01-29</aside></a></li><li><a href="/archive/kquf0fxkw2j/">ES6，你不得不学！<aside class="dates">2019-01-29</aside></a></li><li><a href="/archive/r5b6g4133jh/">Emmet-前端开发神器<aside class="dates">2019-01-29</aside></a></li><li><a href="/archive/5dbaikv4emi/">FreeCodeCamp中级算法题答案<aside class="dates">2019-01-29</aside></a></li><li><a href="/archive/iuyeljg6lm/">JSONP是什么<aside class="dates">2019-01-29</aside></a></li><li><a href="/archive/23ftsgrtzzc/">JS中的观察者模式(发布订阅)<aside class="dates">2019-01-29</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>