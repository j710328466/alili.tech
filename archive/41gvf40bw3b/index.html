<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="hapi 起步"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>hapi 起步 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/41gvf40bw3b/",
				"appid": "1613049289050283", 
				"title": "hapi 起步 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-09T02:30:11"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/86vk2z1z6g2/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/k0pcdhwtkl/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2f41gvf40bw3b%2f&text=hapi%20%e8%b5%b7%e6%ad%a5"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2f41gvf40bw3b%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2f41gvf40bw3b%2f&text=hapi%20%e8%b5%b7%e6%ad%a5"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2f41gvf40bw3b%2f&title=hapi%20%e8%b5%b7%e6%ad%a5"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2f41gvf40bw3b%2f&is_video=false&description=hapi%20%e8%b5%b7%e6%ad%a5"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=hapi%20%e8%b5%b7%e6%ad%a5&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2f41gvf40bw3b%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2f41gvf40bw3b%2f&title=hapi%20%e8%b5%b7%e6%ad%a5"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f41gvf40bw3b%2f&title=hapi%20%e8%b5%b7%e6%ad%a5"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f41gvf40bw3b%2f&title=hapi%20%e8%b5%b7%e6%ad%a5"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f41gvf40bw3b%2f&title=hapi%20%e8%b5%b7%e6%ad%a5"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">hapi 起步</h1><div class="meta"><div class="postdate"><time datetime="2019-01-09" itemprop="datePublished">2019-01-09</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e最近一直在学习hapiJs，有点koa2的基础以为会容易呢，但是全英文的API，不同于koa2的实现方式，看起来大写的懵啊，整理此文，希望能够帮助到一些想要入门hapi的新人。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3e1、搭建项目\x3c\/h2\x3e\n\x3cp\x3e1.1 首先我们创建一个目录‘hapiDemo’作为项目目录，输入命令：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22makdir hapiDemo。\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs nginx\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-attribute\x22\x3emakdir\x3c\/span\x3e hapiDemo。\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e1.2 打开项目目录，初始化,命令如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22cd hapiDemo，\n初始化：npm init，\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs bash\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-built_in\x22\x3ecd\x3c\/span\x3e hapiDemo，\n初始化：npm init，\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e1.3 项目基础配置：\x3c\/p\x3e\n\x3cp\x3e安装hapi: npm install --save hapi；\x3cbr\x3e 项目使用了ES6语法安装babel: npm intall --save hapi；\x3cbr\x3e npm start默认是的启动文件是sever.js，本项目是index.js，修改启动命令，\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVQIOV?w=423\x26amp;h=65\x22 src=\x22https:\/\/static.alili.tech\/img\/bVQIOV?w=423\x26amp;h=65\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e下文中还是用了一些插件，请自行安装。\x3c\/p\x3e\n\x3cp\x3e1.4 初始化并安装hapi是第一步，hapiDemo 项目的基础项目结构如下图：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVQsvf?w=334\x26amp;h=510\x22 src=\x22https:\/\/static.alili.tech\/img\/bVQsvf?w=334\x26amp;h=510\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e这些文件的作用是：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3econfig：配置文件目录，db_config:数据库的配置信息，plugin_config：注册插件的相关信息\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3econtrollers：controllers下是业务逻辑\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3emodels：model 层\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3epublic：静态文件\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eroutes：路由信息\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3elog：日志信息\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eindex.js：项目启动入口文件\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eserver.js：服务配置信息\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e2、hapi start\x3c\/h2\x3e\n\x3cp\x3e2.1 创建启动服务配置文件server.js，输入一下代码：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const Hapi = require(\x27hapi\x27);\n\n\n\/\/Create a hapi server\nvar server = new Hapi.Server();\n\n\/**************server config********\/\nlet connectionOptions={\n    port: 3333,\n    host: \x27localhost\x27\n};\nserver.connection(connectionOptions);\n\n\/\/ Export the server to be required elsewhere.\nmodule.exports = server;\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs dart\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e Hapi = require(\x3cspan class=\x22hljs-string\x22\x3e\x27hapi\x27\x3c\/span\x3e);\n\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/Create a hapi server\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e server = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Hapi.Server();\n\n\x3cspan class=\x22hljs-comment\x22\x3e\x3cspan class=\x22markdown\x22\x3e\/\x3cspan class=\x22hljs-strong\x22\x3e*****\x3c\/span\x3e\x3cspan class=\x22hljs-strong\x22\x3e*****\x3c\/span\x3e\x3cspan class=\x22hljs-strong\x22\x3e****server config**\x3c\/span\x3e\x3cspan class=\x22hljs-strong\x22\x3e*****\x3c\/span\x3e*\/\x3c\/span\x3e\x3c\/span\x3e\nlet connectionOptions={\n    port: \x3cspan class=\x22hljs-number\x22\x3e3333\x3c\/span\x3e,\n    host: \x3cspan class=\x22hljs-string\x22\x3e\x27localhost\x27\x3c\/span\x3e\n};\nserver.connection(connectionOptions);\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Export the server to be required elsewhere.\x3c\/span\x3e\nmodule.exports = server;\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e2.2 配置完服务文件，现在我们来启动服务，先新建一个index.js文件：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const server=require(\x27.\/server\x27);\n\nserver.start(err=\x3e{\n    if(err) throw err;\n   console.log( `Server running at: ${server.info.uri}`);\n});\n\n输入node启动命令：npm start\n将会显示：Server running at: http:\/\/localhost:3333。OK，项目启动成功。\n我们在浏览器中输入url:http:\/\/localhost:3333,\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e server=\x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27.\/server\x27\x3c\/span\x3e);\n\nserver.start(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3eerr\x3c\/span\x3e=\x26gt;\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(err) \x3cspan class=\x22hljs-keyword\x22\x3ethrow\x3c\/span\x3e err;\n   \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log( \x3cspan class=\x22hljs-string\x22\x3e`Server running at: \x3cspan class=\x22hljs-subst\x22\x3e${server.info.uri}\x3c\/span\x3e`\x3c\/span\x3e);\n});\n\n输入node启动命令：npm start\n将会显示：Server running at: http:\x3cspan class=\x22hljs-comment\x22\x3e\/\/localhost:3333。OK，项目启动成功。\x3c\/span\x3e\n我们在浏览器中输入url:http:\x3cspan class=\x22hljs-comment\x22\x3e\/\/localhost:3333,\x3c\/span\x3e\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVQDgX?w=681\x26amp;h=188\x22 src=\x22https:\/\/static.alili.tech\/img\/bVQDgX?w=681\x26amp;h=188\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3cbr\x3e找不到路由。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3e3 处理路由\x3c\/h2\x3e\n\x3cp\x3e3.1  将路由文件放在routes文件夹里，我们将创建多个路由，分模块创建，首先修改server.js文件,新增如下代码：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const route=require(\x27.\/routes\x27);\n    \n\/\/ Add the server routes\nroute.forEach(function(api){\n    server.route(api);\n});\n\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs php\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e route=\x3cspan class=\x22hljs-keyword\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27.\/routes\x27\x3c\/span\x3e);\n    \n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Add the server routes\x3c\/span\x3e\nroute.\x3cspan class=\x22hljs-keyword\x22\x3eforEach\x3c\/span\x3e(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(api)\x3c\/span\x3e\x3c\/span\x3e{\n    server.route(api);\n});\n\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在routes新建index.js,每新增一个路由文件，在index.js文件中引入。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22module.exports=[\n        require(__dirname\x2b\x27\/helloWorld.js\x27),\n        require(__dirname\x2b\x27\/login.js\x27),\n        require(__dirname\x2b\x27\/file.js\x27),\n        require(__dirname\x2b\x27\/auth.js\x27)\n    ]\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs coffeescript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.exports=[\n        \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(__dirname\x2b\x3cspan class=\x22hljs-string\x22\x3e\x27\/helloWorld.js\x27\x3c\/span\x3e),\n        \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(__dirname\x2b\x3cspan class=\x22hljs-string\x22\x3e\x27\/login.js\x27\x3c\/span\x3e),\n        \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(__dirname\x2b\x3cspan class=\x22hljs-string\x22\x3e\x27\/file.js\x27\x3c\/span\x3e),\n        \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(__dirname\x2b\x3cspan class=\x22hljs-string\x22\x3e\x27\/auth.js\x27\x3c\/span\x3e)\n    ]\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e3.2 定义路由需要三个基础元素：path,method,handler。Methods的选项可以是任何有效的HTTP方法，也可以是方法数组。path选项必须是字符串，尽管它可以包含命名参数。若要在路径中命名参数，只需用{ }将其包装。handler选项是一个函数，它接受两个参数：request和request。\x3cbr\x3e在routes里新建一个helloWorld.js：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22 let index={\n    method: \x27GET\x27,\n    path: \x27\/\x27,\n    handler: function(request, reply){\n        reply(\x27hello,world\x27);\n    }\n};\nlet hello={\n    method: [\x27GET\x27, \x27POST\x27],\n    path: \x27\/hello\/{user?}\x27,\n    handler: function (request, reply) {\n        reply(\x27Hello \x27 \x2b encodeURIComponent(request.params.user) \x2b \x27!\x27);\n    }\n};\nmodule.exports=[index,hello];\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e index={\n    \x3cspan class=\x22hljs-attr\x22\x3emethod\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27GET\x27\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3epath\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27\/\x27\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3ehandler\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3erequest, reply\x3c\/span\x3e)\x3c\/span\x3e{\n        reply(\x3cspan class=\x22hljs-string\x22\x3e\x27hello,world\x27\x3c\/span\x3e);\n    }\n};\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e hello={\n    \x3cspan class=\x22hljs-attr\x22\x3emethod\x3c\/span\x3e: [\x3cspan class=\x22hljs-string\x22\x3e\x27GET\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27POST\x27\x3c\/span\x3e],\n    \x3cspan class=\x22hljs-attr\x22\x3epath\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27\/hello\/{user?}\x27\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3ehandler\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3erequest, reply\x3c\/span\x3e) \x3c\/span\x3e{\n        reply(\x3cspan class=\x22hljs-string\x22\x3e\x27Hello \x27\x3c\/span\x3e \x2b \x3cspan class=\x22hljs-built_in\x22\x3eencodeURIComponent\x3c\/span\x3e(request.params.user) \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27!\x27\x3c\/span\x3e);\n    }\n};\n\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.exports=[index,hello];\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e保存重启服务，在浏览器中访问,显示如下：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVQDtj?w=460\x26amp;h=80\x22 src=\x22https:\/\/static.alili.tech\/img\/bVQDtj?w=460\x26amp;h=80\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVQD4H?w=467\x26amp;h=100\x22 src=\x22https:\/\/static.alili.tech\/img\/bVQD4H?w=467\x26amp;h=100\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3cbr\x3e更多用法请查看api：\x3ca href=\x22https:\/\/hapijs.com\/api#route-configuration\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/hapijs.com\/api#route-...\x3c\/a\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader3\x22\x3e4 加载插件\x3c\/h2\x3e\n\x3cp\x3e一般在nodeJS中，我们加载一个插件，安装后使用require 插件名称就OK了，但是在hapiJS中，需要通过server.register()方法引入。\x3cbr\x3e以下文中使用处理静态文件的插件 inert 举例：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22server.register(require(\x27inert\x27), (err) =\x3e {\n    if (err) {\n        console.error(\x27Failed to load a plugin:\x27, err);\n    }\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs coffeescript\x22\x3e\x3ccode\x3eserver.register(\x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27inert\x27\x3c\/span\x3e), \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e(err)\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (err) {\n        \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.error(\x3cspan class=\x22hljs-string\x22\x3e\x27Failed to load a plugin:\x27\x3c\/span\x3e, err);\n    }\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e但不是所有的插件都需要使用server.register（）引入，直接使用require即可。\x3cbr\x3e为什么使用server.register()引用，我至今不是很清楚。\x3c\/p\x3e\n\x3cp\x3e在本项目中，我把所有的插架配置放在了config\/plugin_config.js中：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const SwaggerOptions = {\n    info: {\n        \x27title\x27: \x27hapiDemo API Documentation\x27,\n        \x27version\x27: \x270.0.1\x27\n    }\n};\n\nconst goodOptions = {\n    ops: {\n        interval: 1000\n    },\n    reporters: {\n        myConsoleReporter: [{\n            module: \x27good-squeeze\x27,\n            name: \x27Squeeze\x27,\n            args: [{ log: \x27*\x27, response: \x27*\x27 }]\n        }, {\n            module: \x27good-console\x27\n        }, \x27stdout\x27],\n        myFileReporter: [{\n            module: \x27good-squeeze\x27,\n            name: \x27Squeeze\x27,\n            args: [{ log: \x27*\x27, response: \x27*\x27 ,request:\x27*\x27}]\n        }, {\n            module: \x27good-squeeze\x27,\n            name: \x27SafeJson\x27\n        }, {\n            module: \x27good-file\x27,\n            args: [\x27.\/log\/fixtures\/awesome_log\x27]\n        }],\n        myHTTPReporter: [{\n            module: \x27good-squeeze\x27,\n            name: \x27Squeeze\x27,\n            args: [{ error: \x27*\x27 }]\n        }, {\n            module: \x27good-http\x27,\n            args: [\x27http:\/\/prod.logs:3000\x27, {\n                wreck: {\n                    headers: { \x27x-api-key\x27: 12345 }\n                }\n            }]\n        }]\n    }\n};\nmodule.exports = [\n    {\n        register:require(\x27good\x27),\n        goodOptions,\n    },\n    {\n      register:require(\x27hapi-auth-jwt2\x27)\n    },\n    {\n        register:require(\x27inert\x27)\n    },\n    {\n        register:require(\x27hapi-auth-basic\x27)\n    },\n    {\n        register:require(\x27.\/..\/auth\x27)\n    },\n    {\n        \x27register\x27: require(\x27hapi-swagger\x27),\n        \x27options\x27: SwaggerOptions\n    },\n    {\n        register:require(\x27vision\x27)\n    }\n];\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xquery\x22\x3e\x3ccode\x3econst SwaggerOptions = {\n    info: {\n        \x3cspan class=\x22hljs-string\x22\x3e\x27title\x27\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27hapiDemo API Documentation\x27\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-string\x22\x3e\x27version\x27\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x270.0.1\x27\x3c\/span\x3e\n    }\n};\n\nconst goodOptions = {\n    ops: {\n        interval: \x3cspan class=\x22hljs-number\x22\x3e1000\x3c\/span\x3e\n    },\n    reporters: {\n        myConsoleReporter: [{\n            module: \x3cspan class=\x22hljs-string\x22\x3e\x27good-squeeze\x27\x3c\/span\x3e,\n            name: \x3cspan class=\x22hljs-string\x22\x3e\x27Squeeze\x27\x3c\/span\x3e,\n            args: [{ log: \x3cspan class=\x22hljs-string\x22\x3e\x27*\x27\x3c\/span\x3e, response: \x3cspan class=\x22hljs-string\x22\x3e\x27*\x27\x3c\/span\x3e }]\n        }, {\n            module: \x3cspan class=\x22hljs-string\x22\x3e\x27good-console\x27\x3c\/span\x3e\n        }, \x3cspan class=\x22hljs-string\x22\x3e\x27stdout\x27\x3c\/span\x3e],\n        myFileReporter: [{\n            module: \x3cspan class=\x22hljs-string\x22\x3e\x27good-squeeze\x27\x3c\/span\x3e,\n            name: \x3cspan class=\x22hljs-string\x22\x3e\x27Squeeze\x27\x3c\/span\x3e,\n            args: [{ log: \x3cspan class=\x22hljs-string\x22\x3e\x27*\x27\x3c\/span\x3e, response: \x3cspan class=\x22hljs-string\x22\x3e\x27*\x27\x3c\/span\x3e ,request:\x3cspan class=\x22hljs-string\x22\x3e\x27*\x27\x3c\/span\x3e}]\n        }, {\n            module: \x3cspan class=\x22hljs-string\x22\x3e\x27good-squeeze\x27\x3c\/span\x3e,\n            name: \x3cspan class=\x22hljs-string\x22\x3e\x27SafeJson\x27\x3c\/span\x3e\n        }, {\n            module: \x3cspan class=\x22hljs-string\x22\x3e\x27good-file\x27\x3c\/span\x3e,\n            args: [\x3cspan class=\x22hljs-string\x22\x3e\x27.\/log\/fixtures\/awesome_log\x27\x3c\/span\x3e]\n        }],\n        myHTTPReporter: [{\n            module: \x3cspan class=\x22hljs-string\x22\x3e\x27good-squeeze\x27\x3c\/span\x3e,\n            name: \x3cspan class=\x22hljs-string\x22\x3e\x27Squeeze\x27\x3c\/span\x3e,\n            args: [{ error: \x3cspan class=\x22hljs-string\x22\x3e\x27*\x27\x3c\/span\x3e }]\n        }, {\n            module: \x3cspan class=\x22hljs-string\x22\x3e\x27good-http\x27\x3c\/span\x3e,\n            args: [\x3cspan class=\x22hljs-string\x22\x3e\x27http:\/\/prod.logs:3000\x27\x3c\/span\x3e, {\n                wreck: {\n                    headers: { \x3cspan class=\x22hljs-string\x22\x3e\x27x-api-key\x27\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e12345\x3c\/span\x3e }\n                }\n            }]\n        }]\n    }\n};\nmodule.exports = [\n    {\n        register:require(\x3cspan class=\x22hljs-string\x22\x3e\x27good\x27\x3c\/span\x3e),\n        goodOptions,\n    },\n    {\n      register:require(\x3cspan class=\x22hljs-string\x22\x3e\x27hapi-auth-jwt2\x27\x3c\/span\x3e)\n    },\n    {\n        register:require(\x3cspan class=\x22hljs-string\x22\x3e\x27inert\x27\x3c\/span\x3e)\n    },\n    {\n        register:require(\x3cspan class=\x22hljs-string\x22\x3e\x27hapi-auth-basic\x27\x3c\/span\x3e)\n    },\n    {\n        register:require(\x3cspan class=\x22hljs-string\x22\x3e\x27.\/..\/auth\x27\x3c\/span\x3e)\n    },\n    {\n        \x3cspan class=\x22hljs-string\x22\x3e\x27register\x27\x3c\/span\x3e: require(\x3cspan class=\x22hljs-string\x22\x3e\x27hapi-swagger\x27\x3c\/span\x3e),\n        \x3cspan class=\x22hljs-string\x22\x3e\x27options\x27\x3c\/span\x3e: SwaggerOptions\n    },\n    {\n        register:require(\x3cspan class=\x22hljs-string\x22\x3e\x27vision\x27\x3c\/span\x3e)\n    }\n];\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在server.js中：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const plugins=require(\x27.\/config\/plugin_config\x27);\n\n\/\/Register all plugins\nserver.register(plugins, function (err) {\n    if (err) {\n        throw err; \/\/ something bad happened loading a plugin\n    }\n});\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e plugins=\x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27.\/config\/plugin_config\x27\x3c\/span\x3e);\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/Register all plugins\x3c\/span\x3e\nserver.register(plugins, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3eerr\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (err) {\n        \x3cspan class=\x22hljs-keyword\x22\x3ethrow\x3c\/span\x3e err; \x3cspan class=\x22hljs-comment\x22\x3e\/\/ something bad happened loading a plugin\x3c\/span\x3e\n    }\n});\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader4\x22\x3e5 渲染静态文件和视图\x3c\/h2\x3e\n\x3cp\x3e5.1 在Web应用程序中，不可避免地，需要提供一个简单的文件，图片或者静态html。在hapi 中使用 \x3ca href=\x22https:\/\/github.com\/hapijs\/inert\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3einert\x3c\/a\x3e 插件来处理静态文件。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22 npm install --save inert \x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs sql\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e npm \x3cspan class=\x22hljs-keyword\x22\x3einstall\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3e--save inert \x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在routes文件夹中创建一个file.js：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22let static={\n    method: \x27GET\x27,\n    path: \x27\/staticFile\x27,\n    handler: function (request, reply) {\n        reply.file(\x27.\/public\/static.html\x27);\n    }\n};\nmodule.exports=static;\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3estatic\x3c\/span\x3e={\n    \x3cspan class=\x22hljs-attr\x22\x3emethod\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27GET\x27\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3epath\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27\/staticFile\x27\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3ehandler\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3erequest, reply\x3c\/span\x3e) \x3c\/span\x3e{\n        reply.file(\x3cspan class=\x22hljs-string\x22\x3e\x27.\/public\/static.html\x27\x3c\/span\x3e);\n    }\n};\n\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.exports=\x3cspan class=\x22hljs-keyword\x22\x3estatic\x3c\/span\x3e;\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在public文件夹下新增一个static.html的文件，内容随意。保存然后运行。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVQEmp?w=414\x26amp;h=84\x22 src=\x22https:\/\/static.alili.tech\/img\/bVQEmp?w=414\x26amp;h=84\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e5.2 hapi 可以使用模板渲染，hapi默认使用的是handlebars，要开始视图，首先我们必须在服务器上配置至少一个模板引擎。这是通过使用server.views方法做的,修改server.js文件：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22server.register(plugins, function (err) {\n    server.views({\n        engines: {\n            \x27html\x27: {\n                module: require(\x27handlebars\x27)\n            }\n        },\n        relativeTo:__dirname,\n        path:\x27public\/templates\x27\n    });\n\n\n    if (err) {\n        throw err; \/\/ something bad happened loading a plugin\n    }\n});\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs less\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-selector-tag\x22\x3eserver\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.register\x3c\/span\x3e(plugins, function (err) {\n    \x3cspan class=\x22hljs-selector-tag\x22\x3eserver\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.views\x3c\/span\x3e({\n        \x3cspan class=\x22hljs-attribute\x22\x3eengines\x3c\/span\x3e: {\n            \x3cspan class=\x22hljs-string\x22\x3e\x27html\x27\x3c\/span\x3e: {\n                \x3cspan class=\x22hljs-attribute\x22\x3emodule\x3c\/span\x3e: require(\x3cspan class=\x22hljs-string\x22\x3e\x27handlebars\x27\x3c\/span\x3e)\n            }\n        },\n        \x3cspan class=\x22hljs-attribute\x22\x3erelativeTo\x3c\/span\x3e:__dirname,\n        \x3cspan class=\x22hljs-attribute\x22\x3epath\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x27public\/templates\x27\x3c\/span\x3e\n    });\n\n\n    \x3cspan class=\x22hljs-selector-tag\x22\x3eif\x3c\/span\x3e (err) {\n        \x3cspan class=\x22hljs-selector-tag\x22\x3ethrow\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3eerr\x3c\/span\x3e; \x3cspan class=\x22hljs-comment\x22\x3e\/\/ something bad happened loading a plugin\x3c\/span\x3e\n    }\n});\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e加载 \x3ca href=\x22https:\/\/github.com\/hapijs\/vision\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3evision\x3c\/a\x3e 插件，它增加了模板渲染支持哈啤。\x3cbr\x3e更多配置项：\x3ca href=\x22https:\/\/hapijs.com\/tutorials\/views?lang=en_US\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/hapijs.com\/tutorials\/...\x3c\/a\x3e\x3cbr\x3e渲染势图，在file.js文件中新增路由：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22let temp={\n    method: \x27GET\x27,\n    path: \x27\/view\x27,\n    config: {\n        auth: false,\n        handler: function (request, reply) {\n            reply.view(\x27login\x27);\n        }\n    }\n};\nmodule.exports=[static,temp];\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e temp={\n    \x3cspan class=\x22hljs-attr\x22\x3emethod\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27GET\x27\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3epath\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27\/view\x27\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3econfig\x3c\/span\x3e: {\n        \x3cspan class=\x22hljs-attr\x22\x3eauth\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3ehandler\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3erequest, reply\x3c\/span\x3e) \x3c\/span\x3e{\n            reply.view(\x3cspan class=\x22hljs-string\x22\x3e\x27login\x27\x3c\/span\x3e);\n        }\n    }\n};\n\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.exports=[\x3cspan class=\x22hljs-keyword\x22\x3estatic\x3c\/span\x3e,temp];\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3elogin的内容自行填充\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader5\x22\x3e6 访问数据库\x3c\/h2\x3e\n\x3cp\x3e在web应用程序中，我们可能写特别多数据库访问层的代码，数据库保存，删除，读取，那hapi如何访问数据库呢？本demo以MySQL为例。\x3cbr\x3e不懂数据库的程序员不是好程序员，但是我早早就把数据库的一点皮毛还给了老师，我选择Node的ORM框架Sequelize来操作数据库。\x3cbr\x3ehapi-sequelize插件对sequelize做了很简单的封装,但是它对Hapi和sequelize的版本有要求，在本项目中没有使用，有兴趣的的可以研究 \x3ca href=\x22https:\/\/github.com\/danecando\/hapi-sequelize\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/github.com\/danecando\/...\x3c\/a\x3e\x3cbr\x3e6.1  在server.js添加代码：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const models=require(\x27.\/models\x27);\n\/\/Connect database\nvar initDb = function(){\n    var sequelize = models.sequelize;\n    \/\/Determine if the database connection is successful\n     sequelize.sync({force: false}).then(function() {\n        console.log(\x26quot;connection successed\x26quot;);\n     }).catch(function(err){\n        console.log(\x26quot;connection failed due to error: %s\x26quot;, err);\n     });    \n};\n initDb();\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e models=\x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27.\/models\x27\x3c\/span\x3e);\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/Connect database\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e initDb = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e sequelize = models.sequelize;\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/Determine if the database connection is successful\x3c\/span\x3e\n     sequelize.sync({\x3cspan class=\x22hljs-attr\x22\x3eforce\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e}).then(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n        \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x22connection successed\x22\x3c\/span\x3e);\n     }).catch(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eerr\x3c\/span\x3e)\x3c\/span\x3e{\n        \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x22connection failed due to error: %s\x22\x3c\/span\x3e, err);\n     });    \n};\n initDb();\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e6.2 使用Sequelize操作MySQL需要先做两件准备工作，\x3cbr\x3e（1）创建一个sequelize对象实例,连接数据库，在models新增index.js,代码如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const fs        = require(\x26quot;fs\x26quot;);\nconst path      = require(\x26quot;path\x26quot;);\nconst Sequelize = require(\x26quot;sequelize\x26quot;);\nconst config = require(\x27..\/config\/db_config\x27);\nlet db        = {};\n\/\/创建一个sequelize对象实例,连接数据库\nlet sequelize = new Sequelize(config.database, config.username, config.password,{\n    host: config.host,\n    dialect: \x27mysql\x27,\n    pool: {\n        max: 5,\n        min: 0,\n        idle: 30000\n    }\n});\n\n\nfs\n    .readdirSync(__dirname)\n    .filter(function(file) {\n        return (file.indexOf(\x26quot;.\x26quot;) !== 0) \x26amp;\x26amp; (file !== \x26quot;index.js\x26quot;);\n    })\n    .forEach(function(file) {\n        var model = sequelize[\x26quot;import\x26quot;](path.join(__dirname, file));\n        db[model.name] = model;\n    });\n\ndb.sequelize = sequelize;\ndb.Sequelize = Sequelize;\n\nmodule.exports = db;   \n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e fs        = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x22fs\x22\x3c\/span\x3e);\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e path      = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x22path\x22\x3c\/span\x3e);\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e Sequelize = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x22sequelize\x22\x3c\/span\x3e);\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e config = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27..\/config\/db_config\x27\x3c\/span\x3e);\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e db        = {};\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/创建一个sequelize对象实例,连接数据库\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e sequelize = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Sequelize(config.database, config.username, config.password,{\n    \x3cspan class=\x22hljs-attr\x22\x3ehost\x3c\/span\x3e: config.host,\n    \x3cspan class=\x22hljs-attr\x22\x3edialect\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27mysql\x27\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3epool\x3c\/span\x3e: {\n        \x3cspan class=\x22hljs-attr\x22\x3emax\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3emin\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3eidle\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e30000\x3c\/span\x3e\n    }\n});\n\n\nfs\n    .readdirSync(__dirname)\n    .filter(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3efile\x3c\/span\x3e) \x3c\/span\x3e{\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e (file.indexOf(\x3cspan class=\x22hljs-string\x22\x3e\x22.\x22\x3c\/span\x3e) !== \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e) \x26amp;\x26amp; (file !== \x3cspan class=\x22hljs-string\x22\x3e\x22index.js\x22\x3c\/span\x3e);\n    })\n    .forEach(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3efile\x3c\/span\x3e) \x3c\/span\x3e{\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e model = sequelize[\x3cspan class=\x22hljs-string\x22\x3e\x22import\x22\x3c\/span\x3e](path.join(__dirname, file));\n        db[model.name] = model;\n    });\n\ndb.sequelize = sequelize;\ndb.Sequelize = Sequelize;\n\n\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.exports = db;   \n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3edb_config文件是数据库的配置信息。\x3cbr\x3e（2）定义模型文件user(在本项目中主要是实现登陆)，告诉Sequelize如何映射数据库表。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22module.exports = function(sequelize, DataTypes) {\n    var User = sequelize.define(\x26quot;User\x26quot;, {\n        id:{\n            type: DataTypes.INTEGER,\n            primaryKey: true\n\n        },\n        user_no:DataTypes.STRING,\n        old_kn_userid:DataTypes.STRING,\n        nickname:DataTypes.STRING,\n        password:DataTypes.STRING,\n    }, {\n        freezeTableName: true, \/\/ Model 对应的表名将与model名相同\n        timestamps: false\n    });\n\n    return User;\n};\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs lasso\x22\x3e\x3ccode\x3emodule.exports = function(sequelize, DataTypes) {\n    \x3cspan class=\x22hljs-built_in\x22\x3evar\x3c\/span\x3e User = sequelize.\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3edefine\x3c\/span\x3e\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x22User\x22\x3c\/span\x3e, {\n        id:{\n            \x3cspan class=\x22hljs-keyword\x22\x3etype\x3c\/span\x3e: DataTypes.\x3cspan class=\x22hljs-built_in\x22\x3eINTEGER\x3c\/span\x3e,\n            primaryKey: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e\n\n        },\n        user_no:DataTypes.\x3cspan class=\x22hljs-built_in\x22\x3eSTRING\x3c\/span\x3e,\n        old_kn_userid:DataTypes.\x3cspan class=\x22hljs-built_in\x22\x3eSTRING\x3c\/span\x3e,\n        nickname:DataTypes.\x3cspan class=\x22hljs-built_in\x22\x3eSTRING\x3c\/span\x3e,\n        password:DataTypes.\x3cspan class=\x22hljs-built_in\x22\x3eSTRING\x3c\/span\x3e,\n    }, {\n        freezeTableName: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e, \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Model 对应的表名将与model名相同\x3c\/span\x3e\n        timestamps: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e\n    });\n\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e User;\n};\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e更多Sequelize的学习可以参考：\x3ca href=\x22https:\/\/itbilu.com\/nodejs\/npm\/VkYIaRPz-.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/itbilu.com\/nodejs\/npm...\x3c\/a\x3e\x3cbr\x3e6.3 经过配置后，接下来我们可以在路由handler中使用这个实例啦。\x3cbr\x3e新建一个login.js:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const Joi=require(\x27joi\x27);\nconst controllers=require(\x27..\/controllers\x27);\n\nlet login2={\n    method: \x27get\x27,\n    path: \x27\/tologin2\x27,\n    config: {\n        validate:{\n            query: {\n                nickname:Joi.min(6).max(30)required(),\/\/校验\n            }\n        },\n        id: \x27login2\x27\n    },\n    handler: controllers.user.login2,\n};\nmodule.exports=login2;\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs arduino\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e Joi=require(\x3cspan class=\x22hljs-string\x22\x3e\x27joi\x27\x3c\/span\x3e);\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e controllers=require(\x3cspan class=\x22hljs-string\x22\x3e\x27..\/controllers\x27\x3c\/span\x3e);\n\nlet login2={\n    method: \x3cspan class=\x22hljs-string\x22\x3e\x27get\x27\x3c\/span\x3e,\n    path: \x3cspan class=\x22hljs-string\x22\x3e\x27\/tologin2\x27\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-built_in\x22\x3econfig\x3c\/span\x3e: {\n        validate:{\n            query: {\n                nickname:Joi.\x3cspan class=\x22hljs-built_in\x22\x3emin\x3c\/span\x3e(\x3cspan class=\x22hljs-number\x22\x3e6\x3c\/span\x3e).\x3cspan class=\x22hljs-built_in\x22\x3emax\x3c\/span\x3e(\x3cspan class=\x22hljs-number\x22\x3e30\x3c\/span\x3e)required(),\x3cspan class=\x22hljs-comment\x22\x3e\/\/校验\x3c\/span\x3e\n            }\n        },\n        id: \x3cspan class=\x22hljs-string\x22\x3e\x27login2\x27\x3c\/span\x3e\n    },\n    handler: controllers.user.login2,\n};\n\x3cspan class=\x22hljs-keyword\x22\x3emodule\x3c\/span\x3e.exports=login2;\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/github.com\/hapijs\/joi\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ejoi\x3c\/a\x3e 是 hapijs 自带的数据校验模块，他已经高度封装常用的校验功能,更多用法：\x3ca href=\x22https:\/\/github.com\/hapijs\/joi\/blob\/v8.0.5\/API.md\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/github.com\/hapijs\/joi...\x3c\/a\x3e。\x3cbr\x3e6.4 接下来我们就要访问数据库啦。\x3c\/p\x3e\n\x3cp\x3e（1）新建index.js\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const requireDirectory = require(\x27require-directory\x27);\nmodule.exports = requireDirectory(module);\n    \x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs java\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e requireDirectory = require(\x3cspan class=\x22hljs-string\x22\x3e\x27require-directory\x27\x3c\/span\x3e);\n\x3cspan class=\x22hljs-keyword\x22\x3emodule\x3c\/span\x3e.\x3cspan class=\x22hljs-keyword\x22\x3eexports\x3c\/span\x3e = requireDirectory(\x3cspan class=\x22hljs-keyword\x22\x3emodule\x3c\/span\x3e);\n    \x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/github.com\/troygoode\/node-require-directory\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3erequire-directory\x3c\/a\x3e的作用是递归遍历指定目录，require()每个文件，并返回一个包含这些模块嵌套的hash结构。\x3cbr\x3e(2)user.js:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22let models=require(\x27..\/models\x27)\nmodule.exports={\n    login2:function(request,reply){\n\n        let userInfo=models.User.findOne({\n            where:{\n                nickname: request.query.nickname\n            }\n        }).then(function(result){\n            let reponseMess={};\n            if(result!==null){\n                reponseMess={\n                    code:1,\n                    message:\x27已经在数据库中查询到\x27\n                }\n            }else{\n                reponseMess={\n                    code:-1,\n                    message:\x27未已经在数据库中查询到\x27\n                }\n            }\n            reply(reponseMess);\n\n        });\n    }\n};\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e models=\x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27..\/models\x27\x3c\/span\x3e)\n\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.exports={\n    \x3cspan class=\x22hljs-attr\x22\x3elogin2\x3c\/span\x3e:\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3erequest,reply\x3c\/span\x3e)\x3c\/span\x3e{\n\n        \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e userInfo=models.User.findOne({\n            \x3cspan class=\x22hljs-attr\x22\x3ewhere\x3c\/span\x3e:{\n                \x3cspan class=\x22hljs-attr\x22\x3enickname\x3c\/span\x3e: request.query.nickname\n            }\n        }).then(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eresult\x3c\/span\x3e)\x3c\/span\x3e{\n            \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e reponseMess={};\n            \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(result!==\x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e){\n                reponseMess={\n                    \x3cspan class=\x22hljs-attr\x22\x3ecode\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e,\n                    \x3cspan class=\x22hljs-attr\x22\x3emessage\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x27已经在数据库中查询到\x27\x3c\/span\x3e\n                }\n            }\x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e{\n                reponseMess={\n                    \x3cspan class=\x22hljs-attr\x22\x3ecode\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e-1\x3c\/span\x3e,\n                    \x3cspan class=\x22hljs-attr\x22\x3emessage\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x27未已经在数据库中查询到\x27\x3c\/span\x3e\n                }\n            }\n            reply(reponseMess);\n\n        });\n    }\n};\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e简单的demo查询,用户是否已存在\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVQHUM?w=370\x26amp;h=186\x22 src=\x22https:\/\/static.alili.tech\/img\/bVQHUM?w=370\x26amp;h=186\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader6\x22\x3e7 自动生成swagger文档\x3c\/h2\x3e\n\x3cp\x3e使用hapi写api时，有种代码既文档的感觉，而且这些代码也真的可以自动生成swagger文档。\x3cbr\x3e使用hapi插件\x3ca href=\x22https:\/\/github.com\/glennjones\/hapi-swagger\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehapi-swagger\x3c\/a\x3e,简单配置下插件，先修改下plugin_config.js文件：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const SwaggerOptions = {\n    info: {\n        \x27title\x27: \x27hapiDemo API Documentation\x27,\n        \x27version\x27: \x270.0.1\x27\n    }\n};\nmodule.exports = [\n{\n    \x27register\x27: require(\x27hapi-swagger\x27),\n    \x27options\x27: SwaggerOptions\n},\n];\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs java\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e SwaggerOptions = {\n    info: {\n        \x3cspan class=\x22hljs-string\x22\x3e\x27title\x27\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27hapiDemo API Documentation\x27\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-string\x22\x3e\x27version\x27\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x270.0.1\x27\x3c\/span\x3e\n    }\n};\n\x3cspan class=\x22hljs-keyword\x22\x3emodule\x3c\/span\x3e.\x3cspan class=\x22hljs-keyword\x22\x3eexports\x3c\/span\x3e = [\n{\n    \x3cspan class=\x22hljs-string\x22\x3e\x27register\x27\x3c\/span\x3e: require(\x3cspan class=\x22hljs-string\x22\x3e\x27hapi-swagger\x27\x3c\/span\x3e),\n    \x3cspan class=\x22hljs-string\x22\x3e\x27options\x27\x3c\/span\x3e: SwaggerOptions\n},\n];\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e然后修改\/tologin2:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22 let login2={\n    method: \x27get\x27,\n    path: \x27\/tologin2\x27,\n    config: {\n        auth:false,\n        description: \x27Routing with parameters\x27,\n        notes: \x27login api\x27,\n        tags: [\x27api\x27],\/\/写上这句,开启生成swagger功能\n        validate:{\n            query: {\n                nickname:Joi.required(),\n            }\n        },\n        id: \x27login2\x27\n    },\n    handler: controllers.user.login2,\n};\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs yaml\x22\x3e\x3ccode\x3e \x3cspan class=\x22hljs-string\x22\x3elet\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3elogin2={\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e    method:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27get\x27\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e,\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e    path:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27\/tologin2\x27\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e,\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e    config:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e{\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e        auth:\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e,\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e        description:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27Routing with parameters\x27\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e,\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e        notes:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27login api\x27\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e,\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e        tags:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e[\x27api\x27],\/\/写上这句,开启生成swagger功能\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e        validate:\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e{\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e            query:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e{\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e                nickname:\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3eJoi.required(),\x3c\/span\x3e\n            \x3cspan class=\x22hljs-string\x22\x3e}\x3c\/span\x3e\n        \x3cspan class=\x22hljs-string\x22\x3e},\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e        id:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27login2\x27\x3c\/span\x3e\n    \x3cspan class=\x22hljs-string\x22\x3e},\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e    handler:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3econtrollers.user.login2,\x3c\/span\x3e\n\x3cspan class=\x22hljs-string\x22\x3e};\x3c\/span\x3e\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e运行,打开 \x3ca href=\x22http:\/\/localhost:3333\/documentation\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/localhost:3333\/documen...\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVQIxJ?w=1049\x26amp;h=343\x22 src=\x22https:\/\/static.alili.tech\/img\/bVQIxJ?w=1049\x26amp;h=343\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader7\x22\x3e8 测试\x3c\/h2\x3e\n\x3cp\x3e未完待续……\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>hapi 起步</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000010143528">https://segmentfault.com/a/1190000010143528</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/41gvf40bw3b/" target="_blank">https://alili.tech/archive/41gvf40bw3b/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/lfmj4xr00e/">2016年终总结--前端生涯从0到1的过程<aside class="dates">2019-01-27</aside></a></li><li><a href="/archive/ukfvl3yzohq/">ES6新语法疑点简析<aside class="dates">2019-01-27</aside></a></li><li><a href="/archive/adal5cm5rlr/">Icon 进化史<aside class="dates">2019-01-27</aside></a></li><li><a href="/archive/xwquh4g09bl/">JS 中 TDZ 的理解<aside class="dates">2019-01-27</aside></a></li><li><a href="/archive/13j072ppoyf/">Javascript 中 Y 组合子的推导<aside class="dates">2019-01-27</aside></a></li><li><a href="/archive/kn3l7fwd55/">Redux story-1:who creates it?<aside class="dates">2019-01-27</aside></a></li><li><a href="/archive/9gngp6sg77/">Redux概念之二: Redux的三大原则<aside class="dates">2019-01-27</aside></a></li><li><a href="/archive/ktc291v9lq/">V8 Object 内存结构与属性访问详解<aside class="dates">2019-01-27</aside></a></li><li><a href="/archive/62hk7sdq93k/">Vue&#43;MySQL&#43;Express小试牛刀<aside class="dates">2019-01-27</aside></a></li><li><a href="/archive/q9tzlra5qaj/">Vue2.0简易案例<aside class="dates">2019-01-27</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>