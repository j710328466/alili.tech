<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="js实现鼠标拖拽多选功能"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>js实现鼠标拖拽多选功能 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/yfiiqsy2x5/",
				"appid": "1613049289050283", 
				"title": "js实现鼠标拖拽多选功能 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-06T02:30:10"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/e9mvm6wkv0g/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/we7dwskm0zg/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fyfiiqsy2x5%2f&text=js%e5%ae%9e%e7%8e%b0%e9%bc%a0%e6%a0%87%e6%8b%96%e6%8b%bd%e5%a4%9a%e9%80%89%e5%8a%9f%e8%83%bd"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fyfiiqsy2x5%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fyfiiqsy2x5%2f&text=js%e5%ae%9e%e7%8e%b0%e9%bc%a0%e6%a0%87%e6%8b%96%e6%8b%bd%e5%a4%9a%e9%80%89%e5%8a%9f%e8%83%bd"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fyfiiqsy2x5%2f&title=js%e5%ae%9e%e7%8e%b0%e9%bc%a0%e6%a0%87%e6%8b%96%e6%8b%bd%e5%a4%9a%e9%80%89%e5%8a%9f%e8%83%bd"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fyfiiqsy2x5%2f&is_video=false&description=js%e5%ae%9e%e7%8e%b0%e9%bc%a0%e6%a0%87%e6%8b%96%e6%8b%bd%e5%a4%9a%e9%80%89%e5%8a%9f%e8%83%bd"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=js%e5%ae%9e%e7%8e%b0%e9%bc%a0%e6%a0%87%e6%8b%96%e6%8b%bd%e5%a4%9a%e9%80%89%e5%8a%9f%e8%83%bd&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fyfiiqsy2x5%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fyfiiqsy2x5%2f&title=js%e5%ae%9e%e7%8e%b0%e9%bc%a0%e6%a0%87%e6%8b%96%e6%8b%bd%e5%a4%9a%e9%80%89%e5%8a%9f%e8%83%bd"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fyfiiqsy2x5%2f&title=js%e5%ae%9e%e7%8e%b0%e9%bc%a0%e6%a0%87%e6%8b%96%e6%8b%bd%e5%a4%9a%e9%80%89%e5%8a%9f%e8%83%bd"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fyfiiqsy2x5%2f&title=js%e5%ae%9e%e7%8e%b0%e9%bc%a0%e6%a0%87%e6%8b%96%e6%8b%bd%e5%a4%9a%e9%80%89%e5%8a%9f%e8%83%bd"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fyfiiqsy2x5%2f&title=js%e5%ae%9e%e7%8e%b0%e9%bc%a0%e6%a0%87%e6%8b%96%e6%8b%bd%e5%a4%9a%e9%80%89%e5%8a%9f%e8%83%bd"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">js实现鼠标拖拽多选功能</h1><div class="meta"><div class="postdate"><time datetime="2019-01-06" itemprop="datePublished">2019-01-06</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e最近做了一个用js实现鼠标拖拽多选的功能，于是整理了一下思路，写了一个小demo：\x3cbr\x3e遮罩出现：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVRVC2?w=564\x26amp;h=516\x22 src=\x22https:\/\/static.alili.tech\/img\/bVRVC2?w=564\x26amp;h=516\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3cbr\x3e被遮罩盖住的，即为选中的块（背景色为粉色）\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVRVDa?w=564\x26amp;h=491\x22 src=\x22https:\/\/static.alili.tech\/img\/bVRVDa?w=564\x26amp;h=491\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3cbr\x3e下面是具体代码，注释已在文中，与大家交流。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3c!DOCTYPE html\x3e\n\x3chtml\x3e\n\x3chead\x3e\n    \x3ctitle\x3e鼠标拖拽多选功能\x3c\/title\x3e\n    \x3cscript src=\x26quot;https:\/\/cdn.bootcss.com\/jquery\/1.10.2\/jquery.min.js\x26quot;\x3e\x3c\/script\x3e\n    \x3cstyle type=\x26quot;text\/css\x26quot;\x3e\n        *{\n            box-sizing:border-box;\n        }\n        ul{\n            width:500px;\n            height:auto;\n            margin:0;\n            padding:20px;\n            font-size: 0;\n            \/*需设置定位*\/\n            position:relative;\n        }\n        li{\n            width:70px;\n            height:70px;\n            margin:10px;\n            padding:0;\n            display:inline-block;\n            vertical-align: top;\n            font-size: 13px;\n            border:1px solid #d9d9d9;\n        }\n        #moveSelected{\n            position:absolute;\n            background-color: blue;\n            opacity:0.3;\n            border:1px dashed #d9d9d9;\n            top:0;\n            left:0;\n        }\n        .selected{\n            background-color: pink;\n        }\n    \x3c\/style\x3e\n\x3c\/head\x3e\n\x3cbody\x3e\n    \x3cul class=\x26quot;list\x26quot;\x3e\n        \x3cli\x3e1\x3c\/li\x3e\n        \x3cli\x3e2\x3c\/li\x3e\n        \x3cli\x3e3\x3c\/li\x3e\n        \x3cli\x3e4\x3c\/li\x3e\n        \x3cli\x3e5\x3c\/li\x3e\n        \x3cli\x3e6\x3c\/li\x3e\n        \x3cli\x3e7\x3c\/li\x3e\n        \x3cli\x3e8\x3c\/li\x3e\n        \x3cli\x3e9\x3c\/li\x3e\n        \x3cli\x3e10\x3c\/li\x3e\n        \x3cli\x3e11\x3c\/li\x3e\n        \x3cli\x3e12\x3c\/li\x3e\n        \x3cli\x3e13\x3c\/li\x3e\n        \x3cli\x3e14\x3c\/li\x3e\n        \x3cli\x3e15\x3c\/li\x3e\n        \x3cli\x3e16\x3c\/li\x3e\n        \x3cli\x3e17\x3c\/li\x3e\n        \x3cli\x3e18\x3c\/li\x3e\n        \x3cli\x3e19\x3c\/li\x3e\n        \x3cli\x3e20\x3c\/li\x3e\n        \x3cli\x3e21\x3c\/li\x3e\n        \x3cli\x3e22\x3c\/li\x3e\n        \x3c!-- 鼠标拖拽出的遮罩 （定位为  position:absolute）--\x3e\n        \x3c!-- 遮罩最好是在绑定了mouseover事件的元素内部，并且不要阻止遮罩的冒泡事件。这样鼠标移到了遮罩上面，依然可以利用冒泡执行父元素的mouseover事件，就不会出现遮罩只能扩大，不能缩小的情况了（亲自试过） --\x3e\n        \x3cdiv id=\x26quot;moveSelected\x26quot;\x3e\x3c\/div\x3e\n    \x3c\/ul\x3e\n\x3c\/body\x3e\n\x3c\/html\x3e\n\x3cscript type=\x26quot;text\/javascript\x26quot;\x3e\n    $(document).ready(function(){\n        let moveSelected=$(\x27#moveSelected\x27)[0];\n        let flag=false;\/\/是搜开启拖拽的标志\n        let oldLeft=0;\/\/鼠标按下时的left,top\n        let oldTop=0;\n        let selectedList=[];\/\/拖拽多选选中的块集合\n\n        \/\/ 鼠标按下时开启拖拽多选，将遮罩定位并展现\n        $(\x26quot;.list\x26quot;).mousedown(function(event) {\n            flag=true;\n            moveSelected.style.top=event.pageY\x2b\x27px\x27;\n            moveSelected.style.left=event.pageX\x2b\x27px\x27;\n            oldLeft=event.pageX;\n            oldTop=event.pageY;\n            event.preventDefault();  \/\/ 阻止默认行为\n            event.stopPropagation(); \/\/ 阻止事件冒泡\n        });\n        \/\/ 鼠标移动时计算遮罩的位置，宽 高\n        $(\x26quot;.list\x26quot;).mousemove(function(event) {\n            if(!flag) return;\/\/只有开启了拖拽，才进行mouseover操作\n            if(event.pageX\x3coldLeft){\/\/向左拖\n                moveSelected.style.left=event.pageX\x2b\x27px\x27;\n                moveSelected.style.width=(oldLeft-event.pageX)\x2b\x27px\x27;\n            }else{\n                moveSelected.style.width=(event.pageX-oldLeft)\x2b\x27px\x27;\n            }\n            if(event.pageY\x3coldTop){\/\/向上\n                moveSelected.style.top=event.pageY\x2b\x27px\x27;\n                moveSelected.style.height=(oldTop-event.pageY)\x2b\x27px\x27;\n            }else{\n                moveSelected.style.height=(event.pageY-oldTop)\x2b\x27px\x27;\n            }\n            event.preventDefault();  \/\/ 阻止默认行为\n            event.stopPropagation(); \/\/ 阻止事件冒泡\n        });\n        \/\/鼠标抬起时计算遮罩的right 和 bottom，找出遮罩覆盖的块，关闭拖拽选中开关，清除遮罩数据\n        $(\x26quot;.list\x26quot;).mouseup(function(event) {\n            moveSelected.style.bottom=Number(moveSelected.style.top.split(\x27px\x27)[0])\x2bNumber(moveSelected.style.height.split(\x27px\x27)[0]) \x2b \x27px\x27;\n            moveSelected.style.right=Number(moveSelected.style.left.split(\x27px\x27)[0])\x2bNumber(moveSelected.style.width.split(\x27px\x27)[0])\x2b\x27px\x27;\n            findSelected();\n            flag=false;\n            clearDragData();\n            event.preventDefault();  \/\/ 阻止默认行为\n            event.stopPropagation(); \/\/ 阻止事件冒泡\n        });\n        $(\x26quot;.list\x26quot;).mouseleave(function(event) {\n            flag=false;\n            moveSelected.style.width=0;\n            moveSelected.style.height=0;\n            moveSelected.style.top=0;\n            moveSelected.style.left=0;\n            event.preventDefault();  \/\/ 阻止默认行为\n            event.stopPropagation(); \/\/ 阻止事件冒泡\n        });\n        function findSelected(){\n            let blockList=$(\x27.list\x27).find(\x27li\x27);\n            for(let i=0;i\x3cblockList.length;i\x2b\x2b){\n                \/\/计算每个块的定位信息\n                let left=$(blockList[i]).offset().left;\n                let right=$(blockList[i]).width()\x2bleft;\n                let top=$(blockList[i]).offset().top;\n                let bottom=$(blockList[i]).height()\x2btop;\n                \/\/判断每个块是否被遮罩盖住（即选中）\n                let leftFlag=moveSelected.style.left.split(\x27px\x27)[0]\x3c=left \x26amp;\x26amp; left\x3c=moveSelected.style.right.split(\x27px\x27)[0];\n                let rightFlag=moveSelected.style.left.split(\x27px\x27)[0]\x3c=right \x26amp;\x26amp; right\x3c=moveSelected.style.right.split(\x27px\x27)[0];\n                let topFlag=moveSelected.style.top.split(\x27px\x27)[0]\x3c=top \x26amp;\x26amp; top\x3c=moveSelected.style.bottom.split(\x27px\x27)[0];\n                let bottomFlag=moveSelected.style.top.split(\x27px\x27)[0]\x3c=bottom \x26amp;\x26amp; bottom\x3c=moveSelected.style.bottom.split(\x27px\x27)[0];\n                if((leftFlag || rightFlag) \x26amp;\x26amp; (topFlag || bottomFlag)){\n                    selectedList.push(blockList[i]);\n                    $(blockList[i]).addClass(\x27selected\x27);\n                }\n            }\n            console.log(selectedList);\n        }\n        function clearDragData(){\n            moveSelected.style.width=0;\n            moveSelected.style.height=0;\n            moveSelected.style.top=0;\n            moveSelected.style.left=0;\n            moveSelected.style.bottom=0;\n            moveSelected.style.right=0;\n        }\n    });\n\x3c\/script\x3e\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xml\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-meta\x22\x3e\x26lt;!DOCTYPE html\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ehtml\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ehead\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etitle\x3c\/span\x3e\x26gt;\x3c\/span\x3e鼠标拖拽多选功能\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etitle\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22https:\/\/cdn.bootcss.com\/jquery\/1.10.2\/jquery.min.js\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22undefined\x22\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3estyle\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22text\/css\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22css\x22\x3e\n        *{\n            \x3cspan class=\x22hljs-attribute\x22\x3ebox-sizing\x3c\/span\x3e:border-box;\n        }\n        \x3cspan class=\x22hljs-selector-tag\x22\x3eul\x3c\/span\x3e{\n            \x3cspan class=\x22hljs-attribute\x22\x3ewidth\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e500px\x3c\/span\x3e;\n            \x3cspan class=\x22hljs-attribute\x22\x3eheight\x3c\/span\x3e:auto;\n            \x3cspan class=\x22hljs-attribute\x22\x3emargin\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n            \x3cspan class=\x22hljs-attribute\x22\x3epadding\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e20px\x3c\/span\x3e;\n            \x3cspan class=\x22hljs-attribute\x22\x3efont-size\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n            \x3cspan class=\x22hljs-comment\x22\x3e\/*需设置定位*\/\x3c\/span\x3e\n            \x3cspan class=\x22hljs-attribute\x22\x3eposition\x3c\/span\x3e:relative;\n        }\n        \x3cspan class=\x22hljs-selector-tag\x22\x3eli\x3c\/span\x3e{\n            \x3cspan class=\x22hljs-attribute\x22\x3ewidth\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e70px\x3c\/span\x3e;\n            \x3cspan class=\x22hljs-attribute\x22\x3eheight\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e70px\x3c\/span\x3e;\n            \x3cspan class=\x22hljs-attribute\x22\x3emargin\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e10px\x3c\/span\x3e;\n            \x3cspan class=\x22hljs-attribute\x22\x3epadding\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n            \x3cspan class=\x22hljs-attribute\x22\x3edisplay\x3c\/span\x3e:inline-block;\n            \x3cspan class=\x22hljs-attribute\x22\x3evertical-align\x3c\/span\x3e: top;\n            \x3cspan class=\x22hljs-attribute\x22\x3efont-size\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e13px\x3c\/span\x3e;\n            \x3cspan class=\x22hljs-attribute\x22\x3eborder\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e1px\x3c\/span\x3e solid \x3cspan class=\x22hljs-number\x22\x3e#d9d9d9\x3c\/span\x3e;\n        }\n        \x3cspan class=\x22hljs-selector-id\x22\x3e#moveSelected\x3c\/span\x3e{\n            \x3cspan class=\x22hljs-attribute\x22\x3eposition\x3c\/span\x3e:absolute;\n            \x3cspan class=\x22hljs-attribute\x22\x3ebackground-color\x3c\/span\x3e: blue;\n            \x3cspan class=\x22hljs-attribute\x22\x3eopacity\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0.3\x3c\/span\x3e;\n            \x3cspan class=\x22hljs-attribute\x22\x3eborder\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e1px\x3c\/span\x3e dashed \x3cspan class=\x22hljs-number\x22\x3e#d9d9d9\x3c\/span\x3e;\n            \x3cspan class=\x22hljs-attribute\x22\x3etop\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n            \x3cspan class=\x22hljs-attribute\x22\x3eleft\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n        }\n        \x3cspan class=\x22hljs-selector-class\x22\x3e.selected\x3c\/span\x3e{\n            \x3cspan class=\x22hljs-attribute\x22\x3ebackground-color\x3c\/span\x3e: pink;\n        }\n    \x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3estyle\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ehead\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ebody\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eul\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22list\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e1\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e2\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e3\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e4\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e5\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e6\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e7\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e8\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e9\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e10\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e11\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e12\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e13\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e14\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e15\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e16\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e17\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e18\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e19\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e20\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e21\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e22\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-comment\x22\x3e\x26lt;!-- 鼠标拖拽出的遮罩 （定位为  position:absolute）--\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-comment\x22\x3e\x26lt;!-- 遮罩最好是在绑定了mouseover事件的元素内部，并且不要阻止遮罩的冒泡事件。这样鼠标移到了遮罩上面，依然可以利用冒泡执行父元素的mouseover事件，就不会出现遮罩只能扩大，不能缩小的情况了（亲自试过） --\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22moveSelected\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eul\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ebody\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ehtml\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22text\/javascript\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22javascript\x22\x3e\n    $(\x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e).ready(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n        \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e moveSelected=$(\x3cspan class=\x22hljs-string\x22\x3e\x27#moveSelected\x27\x3c\/span\x3e)[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e];\n        \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e flag=\x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e;\x3cspan class=\x22hljs-comment\x22\x3e\/\/是搜开启拖拽的标志\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e oldLeft=\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\x3cspan class=\x22hljs-comment\x22\x3e\/\/鼠标按下时的left,top\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e oldTop=\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n        \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e selectedList=[];\x3cspan class=\x22hljs-comment\x22\x3e\/\/拖拽多选选中的块集合\x3c\/span\x3e\n\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 鼠标按下时开启拖拽多选，将遮罩定位并展现\x3c\/span\x3e\n        $(\x3cspan class=\x22hljs-string\x22\x3e\x22.list\x22\x3c\/span\x3e).mousedown(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eevent\x3c\/span\x3e) \x3c\/span\x3e{\n            flag=\x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e;\n            moveSelected.style.top=event.pageY\x2b\x3cspan class=\x22hljs-string\x22\x3e\x27px\x27\x3c\/span\x3e;\n            moveSelected.style.left=event.pageX\x2b\x3cspan class=\x22hljs-string\x22\x3e\x27px\x27\x3c\/span\x3e;\n            oldLeft=event.pageX;\n            oldTop=event.pageY;\n            event.preventDefault();  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 阻止默认行为\x3c\/span\x3e\n            event.stopPropagation(); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 阻止事件冒泡\x3c\/span\x3e\n        });\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 鼠标移动时计算遮罩的位置，宽 高\x3c\/span\x3e\n        $(\x3cspan class=\x22hljs-string\x22\x3e\x22.list\x22\x3c\/span\x3e).mousemove(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eevent\x3c\/span\x3e) \x3c\/span\x3e{\n            \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(!flag) \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e;\x3cspan class=\x22hljs-comment\x22\x3e\/\/只有开启了拖拽，才进行mouseover操作\x3c\/span\x3e\n            \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(event.pageX\x26lt;oldLeft){\x3cspan class=\x22hljs-comment\x22\x3e\/\/向左拖\x3c\/span\x3e\n                moveSelected.style.left=event.pageX\x2b\x3cspan class=\x22hljs-string\x22\x3e\x27px\x27\x3c\/span\x3e;\n                moveSelected.style.width=(oldLeft-event.pageX)\x2b\x3cspan class=\x22hljs-string\x22\x3e\x27px\x27\x3c\/span\x3e;\n            }\x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e{\n                moveSelected.style.width=(event.pageX-oldLeft)\x2b\x3cspan class=\x22hljs-string\x22\x3e\x27px\x27\x3c\/span\x3e;\n            }\n            \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(event.pageY\x26lt;oldTop){\x3cspan class=\x22hljs-comment\x22\x3e\/\/向上\x3c\/span\x3e\n                moveSelected.style.top=event.pageY\x2b\x3cspan class=\x22hljs-string\x22\x3e\x27px\x27\x3c\/span\x3e;\n                moveSelected.style.height=(oldTop-event.pageY)\x2b\x3cspan class=\x22hljs-string\x22\x3e\x27px\x27\x3c\/span\x3e;\n            }\x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e{\n                moveSelected.style.height=(event.pageY-oldTop)\x2b\x3cspan class=\x22hljs-string\x22\x3e\x27px\x27\x3c\/span\x3e;\n            }\n            event.preventDefault();  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 阻止默认行为\x3c\/span\x3e\n            event.stopPropagation(); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 阻止事件冒泡\x3c\/span\x3e\n        });\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/鼠标抬起时计算遮罩的right 和 bottom，找出遮罩覆盖的块，关闭拖拽选中开关，清除遮罩数据\x3c\/span\x3e\n        $(\x3cspan class=\x22hljs-string\x22\x3e\x22.list\x22\x3c\/span\x3e).mouseup(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eevent\x3c\/span\x3e) \x3c\/span\x3e{\n            moveSelected.style.bottom=\x3cspan class=\x22hljs-built_in\x22\x3eNumber\x3c\/span\x3e(moveSelected.style.top.split(\x3cspan class=\x22hljs-string\x22\x3e\x27px\x27\x3c\/span\x3e)[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e])\x2b\x3cspan class=\x22hljs-built_in\x22\x3eNumber\x3c\/span\x3e(moveSelected.style.height.split(\x3cspan class=\x22hljs-string\x22\x3e\x27px\x27\x3c\/span\x3e)[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e]) \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27px\x27\x3c\/span\x3e;\n            moveSelected.style.right=\x3cspan class=\x22hljs-built_in\x22\x3eNumber\x3c\/span\x3e(moveSelected.style.left.split(\x3cspan class=\x22hljs-string\x22\x3e\x27px\x27\x3c\/span\x3e)[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e])\x2b\x3cspan class=\x22hljs-built_in\x22\x3eNumber\x3c\/span\x3e(moveSelected.style.width.split(\x3cspan class=\x22hljs-string\x22\x3e\x27px\x27\x3c\/span\x3e)[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e])\x2b\x3cspan class=\x22hljs-string\x22\x3e\x27px\x27\x3c\/span\x3e;\n            findSelected();\n            flag=\x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e;\n            clearDragData();\n            event.preventDefault();  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 阻止默认行为\x3c\/span\x3e\n            event.stopPropagation(); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 阻止事件冒泡\x3c\/span\x3e\n        });\n        $(\x3cspan class=\x22hljs-string\x22\x3e\x22.list\x22\x3c\/span\x3e).mouseleave(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eevent\x3c\/span\x3e) \x3c\/span\x3e{\n            flag=\x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e;\n            moveSelected.style.width=\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n            moveSelected.style.height=\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n            moveSelected.style.top=\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n            moveSelected.style.left=\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n            event.preventDefault();  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 阻止默认行为\x3c\/span\x3e\n            event.stopPropagation(); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 阻止事件冒泡\x3c\/span\x3e\n        });\n        \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3efindSelected\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n            \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e blockList=$(\x3cspan class=\x22hljs-string\x22\x3e\x27.list\x27\x3c\/span\x3e).find(\x3cspan class=\x22hljs-string\x22\x3e\x27li\x27\x3c\/span\x3e);\n            \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e i=\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;i\x26lt;blockList.length;i\x2b\x2b){\n                \x3cspan class=\x22hljs-comment\x22\x3e\/\/计算每个块的定位信息\x3c\/span\x3e\n                \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e left=$(blockList[i]).offset().left;\n                \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e right=$(blockList[i]).width()\x2bleft;\n                \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e top=$(blockList[i]).offset().top;\n                \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e bottom=$(blockList[i]).height()\x2btop;\n                \x3cspan class=\x22hljs-comment\x22\x3e\/\/判断每个块是否被遮罩盖住（即选中）\x3c\/span\x3e\n                \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e leftFlag=moveSelected.style.left.split(\x3cspan class=\x22hljs-string\x22\x3e\x27px\x27\x3c\/span\x3e)[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e]\x26lt;=left \x26amp;\x26amp; left\x26lt;=moveSelected.style.right.split(\x3cspan class=\x22hljs-string\x22\x3e\x27px\x27\x3c\/span\x3e)[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e];\n                \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e rightFlag=moveSelected.style.left.split(\x3cspan class=\x22hljs-string\x22\x3e\x27px\x27\x3c\/span\x3e)[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e]\x26lt;=right \x26amp;\x26amp; right\x26lt;=moveSelected.style.right.split(\x3cspan class=\x22hljs-string\x22\x3e\x27px\x27\x3c\/span\x3e)[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e];\n                \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e topFlag=moveSelected.style.top.split(\x3cspan class=\x22hljs-string\x22\x3e\x27px\x27\x3c\/span\x3e)[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e]\x26lt;=top \x26amp;\x26amp; top\x26lt;=moveSelected.style.bottom.split(\x3cspan class=\x22hljs-string\x22\x3e\x27px\x27\x3c\/span\x3e)[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e];\n                \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e bottomFlag=moveSelected.style.top.split(\x3cspan class=\x22hljs-string\x22\x3e\x27px\x27\x3c\/span\x3e)[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e]\x26lt;=bottom \x26amp;\x26amp; bottom\x26lt;=moveSelected.style.bottom.split(\x3cspan class=\x22hljs-string\x22\x3e\x27px\x27\x3c\/span\x3e)[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e];\n                \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e((leftFlag || rightFlag) \x26amp;\x26amp; (topFlag || bottomFlag)){\n                    selectedList.push(blockList[i]);\n                    $(blockList[i]).addClass(\x3cspan class=\x22hljs-string\x22\x3e\x27selected\x27\x3c\/span\x3e);\n                }\n            }\n            \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(selectedList);\n        }\n        \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eclearDragData\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n            moveSelected.style.width=\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n            moveSelected.style.height=\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n            moveSelected.style.top=\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n            moveSelected.style.left=\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n            moveSelected.style.bottom=\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n            moveSelected.style.right=\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n        }\n    });\n\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3c\/code\x3e\x3c\/pre\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>js实现鼠标拖拽多选功能</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000010430655">https://segmentfault.com/a/1190000010430655</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/yfiiqsy2x5/" target="_blank">https://alili.tech/archive/yfiiqsy2x5/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5328xogjarn/">IndexedDB--HTML5本地存储<aside class="dates">2019-01-28</aside></a></li><li><a href="/archive/xpccu0hsqbr/">JS学习系列 01 - 编译原理和作用域<aside class="dates">2019-01-28</aside></a></li><li><a href="/archive/shv09bbtbfd/">Vue2 SSR 的优化之旅<aside class="dates">2019-01-28</aside></a></li><li><a href="/archive/5vj1ojfo6h6/">[2016年末巨献] — HTML5可交互地铁线路图（第二季：帝都进阶版）<aside class="dates">2019-01-28</aside></a></li><li><a href="/archive/m02hlm4bzh/">vue2.0开发聊天程序（三）组件的通信<aside class="dates">2019-01-28</aside></a></li><li><a href="/archive/mz5o7n90plg/">《很高兴我没有猝死》- 前端新人的 2016 年总结和感悟<aside class="dates">2019-01-28</aside></a></li><li><a href="/archive/3vhoe2mo09k/">一道颇有难度的JavaScript题<aside class="dates">2019-01-28</aside></a></li><li><a href="/archive/uj12mb7thp/">使用CANVAS实现交互性圆形马赛克效果<aside class="dates">2019-01-28</aside></a></li><li><a href="/archive/ja636h8hcxa/">写于 2016 年末<aside class="dates">2019-01-28</aside></a></li><li><a href="/archive/5uomnoq1kmi/">前端学习资源整理<aside class="dates">2019-01-28</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>